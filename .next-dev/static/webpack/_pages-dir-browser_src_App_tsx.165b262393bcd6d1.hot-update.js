"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_App_tsx",{

/***/ "(pages-dir-browser)/./src/game/scenes/TrainGame.ts":
/*!**************************************!*\
  !*** ./src/game/scenes/TrainGame.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TrainGame: () => (/* binding */ TrainGame)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"(pages-dir-browser)/./node_modules/phaser/dist/phaser.js\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../EventBus */ \"(pages-dir-browser)/./src/game/EventBus.ts\");\n/* harmony import */ var _gameConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../gameConfig */ \"(pages-dir-browser)/./src/game/gameConfig.ts\");\n/* harmony import */ var _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/QuizPanel */ \"(pages-dir-browser)/./src/game/ui/QuizPanel.ts\");\n\n\n\n\nconst FALLBACK_QUESTIONS = [\n    {\n        question: {\n            content: 'Thủ đô của Việt Nam là gì?',\n            options: [\n                {\n                    text: 'Hà Nội',\n                    is_correct: true\n                },\n                {\n                    text: 'Đà Nẵng',\n                    is_correct: false\n                },\n                {\n                    text: 'Hải Phòng',\n                    is_correct: false\n                },\n                {\n                    text: 'Cần Thơ',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Phaser sử dụng ngôn ngữ nào?',\n            options: [\n                {\n                    text: 'TypeScript/JavaScript',\n                    is_correct: true\n                },\n                {\n                    text: 'C#',\n                    is_correct: false\n                },\n                {\n                    text: 'Python',\n                    is_correct: false\n                },\n                {\n                    text: 'Go',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn từ trái nghĩa của “fast”.',\n            options: [\n                {\n                    text: 'slow',\n                    is_correct: true\n                },\n                {\n                    text: 'far',\n                    is_correct: false\n                },\n                {\n                    text: 'high',\n                    is_correct: false\n                },\n                {\n                    text: 'small',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn đáp án đúng: She ___ to school every day.',\n            options: [\n                {\n                    text: 'goes',\n                    is_correct: true\n                },\n                {\n                    text: 'go',\n                    is_correct: false\n                },\n                {\n                    text: 'going',\n                    is_correct: false\n                },\n                {\n                    text: 'gone',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Từ nào có nghĩa là “nhảy”?',\n            options: [\n                {\n                    text: 'jump',\n                    is_correct: true\n                },\n                {\n                    text: 'swim',\n                    is_correct: false\n                },\n                {\n                    text: 'crawl',\n                    is_correct: false\n                },\n                {\n                    text: 'sleep',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Từ nào là danh từ?',\n            options: [\n                {\n                    text: 'river',\n                    is_correct: true\n                },\n                {\n                    text: 'run',\n                    is_correct: false\n                },\n                {\n                    text: 'quickly',\n                    is_correct: false\n                },\n                {\n                    text: 'blue',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn câu đúng ngữ pháp.',\n            options: [\n                {\n                    text: 'He is playing football.',\n                    is_correct: true\n                },\n                {\n                    text: 'He are playing football.',\n                    is_correct: false\n                },\n                {\n                    text: 'He playing football.',\n                    is_correct: false\n                },\n                {\n                    text: 'He play football.',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Từ nào là tính từ?',\n            options: [\n                {\n                    text: 'beautiful',\n                    is_correct: true\n                },\n                {\n                    text: 'beauty',\n                    is_correct: false\n                },\n                {\n                    text: 'beautify',\n                    is_correct: false\n                },\n                {\n                    text: 'beautifully',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn đáp án đúng: I ___ a book now.',\n            options: [\n                {\n                    text: 'am reading',\n                    is_correct: true\n                },\n                {\n                    text: 'read',\n                    is_correct: false\n                },\n                {\n                    text: 'reads',\n                    is_correct: false\n                },\n                {\n                    text: 'reading',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Từ nào là trạng từ?',\n            options: [\n                {\n                    text: 'quickly',\n                    is_correct: true\n                },\n                {\n                    text: 'quick',\n                    is_correct: false\n                },\n                {\n                    text: 'quicker',\n                    is_correct: false\n                },\n                {\n                    text: 'quickness',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn câu hỏi phù hợp khi gặp người mới.',\n            options: [\n                {\n                    text: 'What is your name?',\n                    is_correct: true\n                },\n                {\n                    text: 'Where do you live?',\n                    is_correct: false\n                },\n                {\n                    text: 'How old are you?',\n                    is_correct: false\n                },\n                {\n                    text: 'What time is it?',\n                    is_correct: false\n                }\n            ]\n        }\n    }\n];\nclass TrainGame extends phaser__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    init(data) {\n        var _data_gameCode;\n        this.gameCode = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_2__.resolveGameCode)((_data_gameCode = data === null || data === void 0 ? void 0 : data.gameCode) !== null && _data_gameCode !== void 0 ? _data_gameCode : this.registry.get('gameCode'));\n        this.registry.set('gameCode', this.gameCode);\n        var _data_sessionId;\n        this.sessionId = (_data_sessionId = data === null || data === void 0 ? void 0 : data.sessionId) !== null && _data_sessionId !== void 0 ? _data_sessionId : null;\n        var _data_gameId;\n        this.sessionGameId = (_data_gameId = data === null || data === void 0 ? void 0 : data.gameId) !== null && _data_gameId !== void 0 ? _data_gameId : null;\n        var _data_questions;\n        this.sessionQuestions = (_data_questions = data === null || data === void 0 ? void 0 : data.questions) !== null && _data_questions !== void 0 ? _data_questions : null;\n        var _data_timeLimit;\n        this.sessionTimeLimit = (_data_timeLimit = data === null || data === void 0 ? void 0 : data.timeLimit) !== null && _data_timeLimit !== void 0 ? _data_timeLimit : null;\n    }\n    create() {\n        const { width, height } = this.scale;\n        const gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_2__.getGameConfig)(this.gameCode);\n        // Reset runtime state on every create() because scene.restart reuses the same instance.\n        this.gameOver = false;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.startModalOpen = false;\n        this.hasStarted = false;\n        this.currentSessionQuestionId = null;\n        this.currentOptionIds = [];\n        this.leadCarState = 'idle';\n        this.barrierIsOpen = false;\n        this.carSlots = [];\n        this.leadCarBadge = undefined;\n        this.camera = this.cameras.main;\n        this.camera.setBackgroundColor(gameConfig.backgroundColor);\n        this.background = this.add.image(width / 2, height / 2, 'train-bg').setDisplaySize(width, height).setOrigin(0.5, 0.5);\n        this.setupQuestions();\n        this.setupTimer();\n        this.createHud();\n        this.currentIndex = 0;\n        this.score = 0;\n        this.createRailway();\n        if (this.showCars) {\n            this.layoutTrain();\n            this.updateTrainCars(true);\n        }\n        this.createBarrierGate();\n        this.createQuizModal();\n        this.createStartModal();\n        this.createTimeUpModal();\n        this.openStartModal();\n        this.scale.on('resize', ()=>{\n            const { width: newWidth, height: newHeight } = this.scale;\n            this.background.setPosition(newWidth / 2, newHeight / 2).setDisplaySize(newWidth, newHeight);\n            this.layoutHud();\n            this.layoutQuiz();\n            this.updateBarrierPosition();\n            this.layoutStartModal();\n            this.layoutTimeUpModal();\n        });\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit('current-scene-ready', this);\n    }\n    update(_time, delta) {\n        if (this.gameOver) return;\n        if (!this.hasStarted) {\n            this.updateTrainCars();\n            return;\n        }\n        this.remainingMs = Math.max(0, this.remainingMs - delta);\n        const seconds = Math.ceil(this.remainingMs / 1000);\n        if (seconds !== this.lastSecondShown) {\n            this.lastSecondShown = seconds;\n            this.timerText.setText(this.formatTime(seconds));\n        }\n        if (this.remainingMs <= 0 && !this.gameOver) {\n            this.endGame('Out of time.', 'lose');\n        }\n        this.updateTrainCars();\n    }\n    setupQuestions() {\n        const source = this.sessionQuestions && this.sessionQuestions.length > 0 ? this.sessionQuestions : FALLBACK_QUESTIONS;\n        this.questions = source.slice(0);\n    }\n    setupTimer() {\n        if (this.sessionTimeLimit && this.sessionTimeLimit > 0) {\n            this.totalTimeMs = this.sessionTimeLimit * 1000;\n        }\n        this.remainingMs = this.totalTimeMs;\n    }\n    createHud() {\n        this.uiRoot = this.add.container(0, 0).setDepth(2000);\n        this.hudBackButton = this.add.container(0, 0);\n        const backBg = this.add.graphics();\n        backBg.fillStyle(0xffffff, 0.95);\n        backBg.fillRoundedRect(-22, -22, 44, 44, 14);\n        backBg.lineStyle(2, 0x0ea5e9, 0.2);\n        backBg.strokeRoundedRect(-22, -22, 44, 44, 14);\n        const backIcon = this.add.text(0, 1, '<', {\n            fontFamily: 'Arial Black',\n            fontSize: '26px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const backHit = this.add.zone(0, 0, 44, 44).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        });\n        backHit.on('pointerup', ()=>this.handleBackToGameList());\n        this.hudBackButton.add([\n            backBg,\n            backIcon\n        ]);\n        this.hudBackButton.setSize(44, 44);\n        this.hudBackButton.add(backHit);\n        this.hudPointsPill = this.add.container(0, 0);\n        const pointsBg = this.add.graphics();\n        const pointsW = 168;\n        const pointsH = 44;\n        pointsBg.fillStyle(0xffffff, 0.98);\n        pointsBg.fillRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        pointsBg.lineStyle(2, 0xf59e0b, 0.4);\n        pointsBg.strokeRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        const star = this.add.image(-pointsW / 2 + 24, 0, 'star').setScale(0.32).setTint(0xfbbf24);\n        this.scoreText = this.add.text(-pointsW / 2 + 46, 0, 'POINTS: 00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0, 0.5);\n        this.hudPointsPill.add([\n            pointsBg,\n            star,\n            this.scoreText\n        ]);\n        this.hudTimerPill = this.add.container(0, 0);\n        const timerBg = this.add.graphics();\n        const timerW = 96;\n        const timerH = 40;\n        timerBg.fillStyle(0xffffff, 0.98);\n        timerBg.fillRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        timerBg.lineStyle(2, 0x94a3b8, 0.4);\n        timerBg.strokeRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        this.timerText = this.add.text(0, 0, this.formatTime(Math.ceil(this.remainingMs / 1000)), {\n            fontFamily: 'Arial Black',\n            fontSize: '16px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.hudTimerPill.add([\n            timerBg,\n            this.timerText\n        ]);\n        this.uiRoot.add([\n            this.hudBackButton,\n            this.hudPointsPill,\n            this.hudTimerPill\n        ]);\n        this.layoutHud();\n        this.createTrafficLight();\n    }\n    layoutHud() {\n        const { width, height } = this.scale;\n        const topInset = Math.max(16, Math.round(height * 0.03));\n        const sideInset = Math.max(14, Math.round(width * 0.04));\n        const rightEdge = width - sideInset;\n        this.hudBackButton.setPosition(sideInset + 22, topInset + 22);\n        this.hudPointsPill.setPosition(width / 2, topInset + 22);\n        this.hudTimerPill.setPosition(rightEdge - 48, topInset + 22);\n    }\n    handleBackToGameList() {\n        const shouldLeave = window.confirm('Bạn có chắc muốn quay lại danh sách game không?');\n        if (!shouldLeave) return;\n        window.location.href = '/';\n    }\n    createTrafficLight() {\n        const lightHeight = 230;\n        const sourceHeight = 1463;\n        const sourceWidth = 335;\n        const lightWidth = Math.round(lightHeight * (sourceWidth / sourceHeight));\n        const baseX = 88;\n        const baseY = 808;\n        const anchorY = Math.round(baseY + lightHeight / 2);\n        const makeVariant = (key)=>this.add.image(baseX, baseY, key).setOrigin(0.5, 1).setDisplaySize(lightWidth, lightHeight).setDepth(1000).setAlpha(1);\n        const container = this.add.container(baseX, anchorY).setDepth(1000);\n        const offsets = {\n            red: {\n                x: 0,\n                y: 0\n            },\n            yellow: {\n                x: 0,\n                y: 0\n            },\n            green: {\n                x: -1,\n                y: 0\n            }\n        };\n        const red = this.textures.exists('train-light-red') ? this.add.image(0, 0, 'train-light-red') : this.add.rectangle(0, 0, lightWidth, lightHeight, 0xef4444, 1);\n        const yellow = this.textures.exists('train-light-yellow') ? this.add.image(0, 0, 'train-light-yellow') : this.add.rectangle(0, 0, lightWidth, lightHeight, 0xfbbf24, 1);\n        const green = this.textures.exists('train-light-green') ? this.add.image(0, 0, 'train-light-green') : this.add.rectangle(0, 0, lightWidth, lightHeight, 0x22c55e, 1);\n        const normalize = (obj)=>{\n            if ('setOrigin' in obj) {\n                obj.setOrigin(0.5, 1);\n            }\n            if ('setDisplaySize' in obj) {\n                obj.setDisplaySize(lightWidth, lightHeight);\n            }\n        };\n        normalize(red);\n        normalize(yellow);\n        normalize(green);\n        red.setPosition(offsets.red.x, offsets.red.y);\n        yellow.setPosition(offsets.yellow.x, offsets.yellow.y);\n        green.setPosition(offsets.green.x, offsets.green.y);\n        container.add([\n            red,\n            yellow,\n            green\n        ]);\n        this.trafficLightVariants = {\n            red: red,\n            yellow: yellow,\n            green: green\n        };\n        this.trafficLight = this.trafficLightVariants.red;\n        const cycle = [\n            'red',\n            'yellow',\n            'green'\n        ];\n        let cycleIndex = 0;\n        this.setTrafficLightColor(cycle[cycleIndex]);\n        this.time.addEvent({\n            delay: 700,\n            loop: true,\n            callback: ()=>{\n                cycleIndex = (cycleIndex + 1) % cycle.length;\n                this.setTrafficLightColor(cycle[cycleIndex]);\n            }\n        });\n    }\n    setTrafficLightColor(color) {\n        if (!this.trafficLightVariants) return;\n        if (this.trafficLightState === color) return;\n        this.trafficLightState = color;\n        const { red, yellow, green } = this.trafficLightVariants;\n        red.setVisible(color === 'red');\n        yellow.setVisible(color === 'yellow');\n        green.setVisible(color === 'green');\n    }\n    layoutTrain() {\n        var _this_carSlots_;\n        const { width, height } = this.scale;\n        const scaleX = this.background.displayWidth / this.background.width;\n        const scaleY = this.background.displayHeight / this.background.height;\n        const scale = Math.min(scaleX, scaleY) * this.trainCarScaleFactor;\n        const trackCurve = this.createTrackCurve(width, height);\n        const trackPoints = this.sampleTrack(trackCurve, this.maxCars);\n        this.carSlots = [];\n        for(let i = 0; i < this.maxCars; i += 1){\n            const carKey = \"train-car-\".concat(i + 1);\n            var _trackPoints_i;\n            const point = (_trackPoints_i = trackPoints[i]) !== null && _trackPoints_i !== void 0 ? _trackPoints_i : {\n                x: width / 2,\n                y: height / 2\n            };\n            const angle = this.getTrackAngle(trackPoints, i) + this.trainRotationOffset;\n            const car = this.add.image(point.x, point.y, carKey).setScale(scale).setRotation(angle);\n            car.setAlpha(1);\n            const lock = this.createLockOverlay(point.x, point.y, car.displayWidth, car.displayHeight, i);\n            lock.setVisible(false);\n            lock.disableInteractive();\n            this.carSlots.push({\n                index: i,\n                car,\n                lock\n            });\n        }\n        if (this.carSlots.length > 0) {\n            const referenceCar = this.carSlots[0].car;\n            const carLength = Math.max(referenceCar.displayWidth, referenceCar.displayHeight);\n            this.trainGapPx = carLength * this.trainCarGapFactor;\n            this.trainStepPx = this.trainGapPx;\n            this.leadCarBaseSize = {\n                width: referenceCar.displayWidth,\n                height: referenceCar.displayHeight\n            };\n        }\n        (_this_carSlots_ = this.carSlots[0]) === null || _this_carSlots_ === void 0 ? void 0 : _this_carSlots_.car.setTexture('train-car-1');\n        this.setLeadCarState('idle');\n        this.refreshLocks();\n    }\n    getLeadCarTextureKey(state) {\n        switch(state){\n            case 'correct':\n                return 'train-fox-correct';\n            case 'incorrect':\n                return 'train-fox-incorrect';\n            case 'idle':\n            default:\n                return 'train-fox-idle';\n        }\n    }\n    setLeadCarState(state) {\n        var _this_carSlots_;\n        this.leadCarState = state;\n        const leadCar = (_this_carSlots_ = this.carSlots[0]) === null || _this_carSlots_ === void 0 ? void 0 : _this_carSlots_.car;\n        if (!leadCar) return;\n        if (!leadCar.scene) return;\n        if (this.leadCarBadge && !this.leadCarBadge.scene) {\n            this.leadCarBadge = undefined;\n        }\n        if (leadCar.texture.key !== 'train-car-1') {\n            leadCar.setTexture('train-car-1');\n        }\n        if (this.leadCarBaseSize) {\n            leadCar.setDisplaySize(this.leadCarBaseSize.width, this.leadCarBaseSize.height);\n            leadCar.setOrigin(0.5, 0.5);\n        }\n        const textureKey = this.getLeadCarTextureKey(state);\n        if (!this.textures.exists(textureKey)) {\n            if (this.leadCarBadge) this.leadCarBadge.setVisible(false);\n            return;\n        }\n        if (!this.leadCarBadge) {\n            this.leadCarBadge = this.add.image(leadCar.x, leadCar.y, textureKey).setDepth(leadCar.depth + 1).setOrigin(0.5, 0.5);\n        } else {\n            this.leadCarBadge.setTexture(textureKey).setVisible(true);\n        }\n        if (this.leadCarBaseSize && this.leadCarBadge && this.leadCarBadge.scene) {\n            this.leadCarBadge.setDisplaySize(this.leadCarBaseSize.width * 0.5, this.leadCarBaseSize.height * 0.5);\n        }\n    }\n    createLockOverlay(x, y, width, height, index) {\n        const lock = this.add.container(x, y);\n        lock.setDepth(10);\n        const panelW = Math.max(140, width * 0.6);\n        const panelH = Math.max(48, height * 0.35);\n        const bg = this.add.rectangle(0, 0, panelW, panelH, 0x1f2937, 0.9);\n        bg.setStrokeStyle(2, 0xfbbf24, 0.9);\n        const text = this.add.text(0, 0, 'UNLOCK', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#f8fafc'\n        }).setOrigin(0.5);\n        lock.add([\n            bg,\n            text\n        ]);\n        lock.setSize(panelW, panelH);\n        const hitArea = new Phaser.Geom.Rectangle(-panelW / 2, -panelH / 2, panelW, panelH);\n        lock.setInteractive(hitArea, Phaser.Geom.Rectangle.Contains);\n        lock.setData('hitArea', hitArea);\n        lock.on('pointerover', ()=>{\n            if (this.quizOpen || this.gameOver) return;\n            bg.setFillStyle(0x334155, 0.95);\n            lock.setScale(1.05);\n            this.input.setDefaultCursor('pointer');\n        });\n        lock.on('pointerout', ()=>{\n            bg.setFillStyle(0x1f2937, 0.9);\n            lock.setScale(1);\n            this.input.setDefaultCursor('default');\n        });\n        lock.on('pointerdown', ()=>{\n            if (this.quizOpen || this.gameOver) return;\n            if (index !== this.currentIndex) return;\n            this.openQuestion(index);\n        });\n        return lock;\n    }\n    refreshLocks() {\n        this.carSlots.forEach((slot)=>{\n            if (!slot || !slot.car || !slot.lock) return;\n            if (!slot.car.scene || !slot.lock.scene) return;\n            slot.car.setAlpha(1);\n            slot.lock.setVisible(false);\n            if (slot.lock.input) {\n                slot.lock.disableInteractive();\n            }\n        });\n        const points = Math.max(0, this.score);\n        this.scoreText.setText(\"POINTS: \".concat(points.toString().padStart(2, '0')));\n    }\n    createQuizModal() {\n        this.quizPanel = new _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_3__.QuizPanel(this, {\n            optionCount: 4,\n            depth: 2000,\n            parent: this.uiRoot,\n            showIndex: true\n        });\n        this.quizModal = this.quizPanel.container;\n        this.quizPanel.onOptionSelected((index)=>{\n            if (this.quizLocked) return;\n            void this.handleAnswer(index);\n        });\n        this.layoutQuiz();\n    }\n    createStartModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setDepth(2100).setVisible(false);\n        const overlay = this.add.rectangle(0, 0, width, height, 0xffffff, 0.12).setOrigin(0, 0);\n        const panel = this.add.container(width / 2, Math.round(height * 0.56));\n        const panelWidth = Math.min(620, width - 80);\n        const panelHeight = Math.min(220, Math.round(height * 0.32));\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.18);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 8, -panelHeight / 2 + 10, panelWidth, panelHeight, 30);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 28);\n        panelBg.lineStyle(2, 0xffffff, 0.65);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 28);\n        const title = this.add.text(0, -38, 'Answer the questions to help the\\ntrain go ahead.', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#0f172a',\n            align: 'center',\n            lineSpacing: 6\n        }).setOrigin(0.5);\n        const button = this.createStartButton(0, Math.round(panelHeight * 0.23));\n        panel.add([\n            panelShadow,\n            panelBg,\n            title,\n            button\n        ]);\n        container.add([\n            overlay,\n            panel\n        ]);\n        this.startModal = container;\n        this.startModalPanel = panel;\n        this.uiRoot.add(container);\n        this.layoutStartModal();\n    }\n    createTimeUpModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setDepth(2200).setVisible(false);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.1).setOrigin(0, 0);\n        const panel = this.add.container(width / 2, Math.round(height * 0.56));\n        const panelWidth = Math.min(620, width - 80);\n        const panelHeight = Math.min(220, Math.round(height * 0.32));\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.18);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 8, -panelHeight / 2 + 10, panelWidth, panelHeight, 30);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 28);\n        panelBg.lineStyle(2, 0xffffff, 0.65);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 28);\n        this.timeUpTitleText = this.add.text(0, -14, 'Out of time! Failed!', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#0f172a',\n            align: 'center'\n        }).setOrigin(0.5);\n        const button = this.createTimeoutButton(0, Math.round(panelHeight * 0.23));\n        panel.add([\n            panelShadow,\n            panelBg,\n            this.timeUpTitleText,\n            button\n        ]);\n        container.add([\n            overlay,\n            panel\n        ]);\n        this.timeUpModal = container;\n        this.timeUpModalPanel = panel;\n        this.uiRoot.add(container);\n        this.layoutTimeUpModal();\n    }\n    layoutStartModal() {\n        if (!this.startModal || !this.startModalPanel) return;\n        const { width, height } = this.scale;\n        const overlay = this.startModal.list[0];\n        if (overlay && 'setSize' in overlay) {\n            overlay.setSize(width, height);\n        }\n        this.startModalPanel.setPosition(width / 2, Math.round(height * 0.56));\n    }\n    layoutTimeUpModal() {\n        if (!this.timeUpModal || !this.timeUpModalPanel) return;\n        const { width, height } = this.scale;\n        const overlay = this.timeUpModal.list[0];\n        if (overlay && 'setSize' in overlay) {\n            overlay.setSize(width, height);\n        }\n        this.timeUpModalPanel.setPosition(width / 2, Math.round(height * 0.56));\n    }\n    createStartButton(x, y) {\n        const container = this.add.container(x, y);\n        const width = 530;\n        const height = 72;\n        const radius = 30;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x1e3a8a, 0.18);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.65);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 1, 'Start Game', {\n            fontFamily: 'Arial Black',\n            fontSize: '34px',\n            color: '#ffffff'\n        }).setOrigin(0.5).setScale(0.66);\n        const hit = this.add.rectangle(0, 0, width + 16, height + 16, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.input.setDefaultCursor('pointer');\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 100,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.input.setDefaultCursor('default');\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 100,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            if (!this.startModalOpen) return;\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 70,\n                ease: 'Sine.easeOut'\n            });\n            this.startGameFlow();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 70,\n                ease: 'Sine.easeOut'\n            });\n        });\n        this.tweens.add({\n            targets: container,\n            scale: 1.03,\n            duration: 850,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    createTimeoutButton(x, y) {\n        const container = this.add.container(x, y);\n        const width = 530;\n        const height = 72;\n        const radius = 30;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x1e3a8a, 0.18);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.65);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 1, 'Play Again', {\n            fontFamily: 'Arial Black',\n            fontSize: '34px',\n            color: '#ffffff'\n        }).setOrigin(0.5).setScale(0.66);\n        const hit = this.add.rectangle(0, 0, width + 16, height + 16, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            if (hit.getData('restarting')) return;\n            draw(0x2563eb, 0xbfdbfe);\n            this.input.setDefaultCursor('pointer');\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 100,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            if (hit.getData('restarting')) return;\n            draw(0x3b82f6, 0x93c5fd);\n            this.input.setDefaultCursor('default');\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 100,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            if (hit.getData('restarting')) return;\n            hit.setData('restarting', true);\n            hit.disableInteractive();\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 70,\n                ease: 'Sine.easeOut'\n            });\n            this.time.delayedCall(90, ()=>{\n                if (!this.sys.isActive()) return;\n                this.restartTrainRun();\n            });\n        });\n        hit.on('pointerup', ()=>{\n            if (hit.getData('restarting')) return;\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 70,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    openStartModal() {\n        if (!this.startModal) return;\n        this.startModalOpen = true;\n        this.hasStarted = false;\n        this.startModal.setVisible(true);\n        this.startModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.startModal,\n            alpha: 1,\n            duration: 180\n        });\n    }\n    closeStartModal() {\n        if (!this.startModal) return;\n        this.startModalOpen = false;\n        this.startModal.setVisible(false);\n    }\n    startGameFlow() {\n        if (this.hasStarted) return;\n        this.hasStarted = true;\n        this.closeStartModal();\n        this.openQuestion(this.currentIndex);\n    }\n    openTimeUpModal() {\n        let message = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'Out of time! Try again.';\n        if (!this.timeUpModal || !this.timeUpModalPanel) return;\n        this.timeUpTitleText.setText(message);\n        this.timeUpModalPanel.setScale(0.96);\n        this.timeUpModal.setVisible(true);\n        this.timeUpModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.timeUpModal,\n            alpha: 1,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: this.timeUpModalPanel,\n            scale: 1,\n            duration: 240,\n            ease: 'Back.easeOut'\n        });\n    }\n    submitSessionResult() {\n        if (!this.sessionGameId) return;\n        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\")).then((param)=>{\n            let { endGameSession } = param;\n            return endGameSession(this.sessionGameId, this.score);\n        }).catch((error)=>{\n            console.error('endGameSession failed', error);\n        });\n    }\n    restartTrainRun() {\n        if (!this.sys || !this.sys.isActive()) return;\n        this.input.setDefaultCursor('default');\n        this.closeQuiz();\n        if (this.timeUpModal) {\n            this.timeUpModal.setVisible(false);\n        }\n        this.scene.restart({\n            gameCode: this.gameCode,\n            sessionId: this.sessionId,\n            gameId: this.sessionGameId,\n            questions: this.sessionQuestions,\n            timeLimit: this.sessionTimeLimit\n        });\n    }\n    layoutQuiz() {\n        const { width, height } = this.scale;\n        this.quizPanel.layout(width, height);\n    }\n    openQuestion(index) {\n        if (this.quizOpen || this.gameOver) return;\n        if (!this.hasStarted) return;\n        this.setLeadCarState('idle');\n        const question = this.getQuestionForIndex(index);\n        const options = question.question.options.map((opt)=>opt.text);\n        this.currentOptionIds = question.question.options.map((opt)=>{\n            var _opt_id;\n            return (_opt_id = opt.id) !== null && _opt_id !== void 0 ? _opt_id : '';\n        });\n        var _question_session_question_id;\n        this.currentSessionQuestionId = (_question_session_question_id = question.session_question_id) !== null && _question_session_question_id !== void 0 ? _question_session_question_id : null;\n        let correctIndex = question.question.options.findIndex((opt)=>opt.is_correct);\n        if (correctIndex < 0) correctIndex = 0;\n        this.currentCorrectIndex = correctIndex;\n        this.quizPanel.setFeedback('idle');\n        this.quizPanel.setQuestion({\n            index: index + 1,\n            total: this.maxCars,\n            question: question.question.content,\n            options\n        });\n        this.updateBarrierPosition();\n        this.setBarrierOpen(false);\n        this.layoutQuiz();\n        this.quizOpen = true;\n        this.quizLocked = false;\n        this.quizModal.setVisible(true);\n        this.quizPanel.setInteractive(true);\n    }\n    async handleAnswer(selectedIndex) {\n        if (this.quizLocked) return;\n        this.quizLocked = true;\n        let isCorrect = selectedIndex === this.currentCorrectIndex;\n        const selectedOptionId = this.currentOptionIds[selectedIndex];\n        if (this.sessionId && this.currentSessionQuestionId && selectedOptionId) {\n            try {\n                const { submitAnswer } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\"));\n                const res = await submitAnswer(this.sessionId, this.currentSessionQuestionId, selectedOptionId);\n                isCorrect = res.data.is_correct;\n            } catch (error) {\n                console.error('submitAnswer failed, fallback to local check', error);\n            }\n        }\n        if (isCorrect) {\n            this.setLeadCarState('correct');\n            this.quizPanel.setFeedback('correct');\n            this.quizPanel.setOptionState(selectedIndex, 'correct');\n            this.quizPanel.setInteractive(false);\n            this.time.delayedCall(500, ()=>{\n                this.closeQuiz();\n                this.applyCorrect();\n            });\n        } else {\n            this.setLeadCarState('incorrect');\n            this.quizPanel.setFeedback('wrong');\n            this.quizPanel.setOptionState(selectedIndex, 'wrong');\n            this.quizPanel.setInteractive(false);\n            this.time.delayedCall(650, ()=>{\n                this.applyWrong();\n                this.setLeadCarState('idle');\n                this.quizPanel.setOptionState(selectedIndex, 'normal');\n                this.quizPanel.setFeedback('idle');\n                this.quizPanel.setInteractive(true);\n                this.quizLocked = false;\n            });\n        }\n    }\n    applyCorrect() {\n        this.currentIndex = Math.min(this.maxCars, this.currentIndex + 1);\n        this.score = this.currentIndex;\n        this.refreshLocks();\n        if (this.currentIndex >= this.maxCars) {\n            this.setBarrierOpen(true);\n            this.moveTrainToEnd(()=>{\n                this.endGame(\"You completed all \".concat(this.maxCars, \" cars!\"), 'win');\n            });\n            return;\n        }\n        this.moveTrainToIndex(this.currentIndex, ()=>{\n            this.openQuestion(this.currentIndex);\n        });\n    }\n    applyWrong() {\n        this.refreshLocks();\n    }\n    moveTrainToIndex(targetIndex, onComplete) {\n        if (this.railTotalLength <= 0 || this.trainStepPx <= 0) {\n            if (onComplete) onComplete();\n            return;\n        }\n        const visualIndex = Phaser.Math.Clamp(targetIndex, 0, this.maxCars);\n        const maxDistance = Math.max(0, this.railTotalLength - 1);\n        const targetDistance = Math.min(this.trainStepPx * visualIndex, maxDistance);\n        const delta = Math.abs(targetDistance - this.trainDistancePx);\n        const duration = Phaser.Math.Clamp(Math.round(420 + delta * 1.8), 650, 1200);\n        this.trainMoving = true;\n        const tweenState = {\n            value: this.trainDistancePx\n        };\n        this.tweens.add({\n            targets: tweenState,\n            value: targetDistance,\n            duration,\n            ease: 'Sine.easeInOut',\n            onUpdate: ()=>{\n                this.trainDistancePx = tweenState.value;\n                this.updateTrainCars(true);\n            },\n            onComplete: ()=>{\n                this.trainDistancePx = targetDistance;\n                this.trainMoving = false;\n                this.updateTrainCars(true);\n                if (onComplete) onComplete();\n            }\n        });\n    }\n    moveTrainToEnd(onComplete) {\n        if (this.railTotalLength <= 0) {\n            if (onComplete) onComplete();\n            return;\n        }\n        const maxDistance = Math.max(0, this.railTotalLength - 1);\n        const trainLength = Math.max(0, (this.maxCars - 1) * this.trainGapPx);\n        const targetDistance = maxDistance + trainLength;\n        const delta = Math.abs(targetDistance - this.trainDistancePx);\n        const duration = Phaser.Math.Clamp(Math.round(520 + delta * 1.6), 800, 1800);\n        this.trainMoving = true;\n        const tweenState = {\n            value: this.trainDistancePx\n        };\n        this.tweens.add({\n            targets: tweenState,\n            value: targetDistance,\n            duration,\n            ease: 'Sine.easeInOut',\n            onUpdate: ()=>{\n                this.trainDistancePx = tweenState.value;\n                this.updateTrainCars(true);\n            },\n            onComplete: ()=>{\n                this.trainDistancePx = targetDistance;\n                this.trainMoving = false;\n                this.updateTrainCars(true);\n                if (onComplete) onComplete();\n            }\n        });\n    }\n    closeQuiz() {\n        this.quizModal.setVisible(false);\n        this.quizOpen = false;\n        this.quizLocked = false;\n    }\n    getQuestionForIndex(index) {\n        if (this.questions.length === 0) {\n            return FALLBACK_QUESTIONS[0];\n        }\n        return this.questions[index % this.questions.length];\n    }\n    createTrackCurve(width, height) {\n        const baseWidth = 750;\n        const baseHeight = 1334;\n        const scaleX = width / baseWidth;\n        const scaleY = height / baseHeight;\n        const points = [\n            {\n                x: 405,\n                y: 10\n            },\n            {\n                x: 455,\n                y: 85\n            },\n            {\n                x: 515,\n                y: 200\n            },\n            {\n                x: 485,\n                y: 360\n            },\n            {\n                x: 375,\n                y: 540\n            },\n            {\n                x: 250,\n                y: 740\n            },\n            {\n                x: 220,\n                y: 920\n            },\n            {\n                x: 270,\n                y: 1100\n            },\n            {\n                x: 325,\n                y: 1185\n            },\n            {\n                x: 505,\n                y: 1325\n            }\n        ].map((p)=>new Phaser.Math.Vector2(p.x * scaleX, p.y * scaleY));\n        return new Phaser.Curves.Spline(points);\n    }\n    sampleTrack(curve, count) {\n        const points = [];\n        const total = Math.max(1, count - 1);\n        for(let i = 0; i < count; i += 1){\n            const t = total === 0 ? 0 : i / total;\n            const p = curve.getPointAt(t);\n            points.push({\n                x: p.x,\n                y: p.y\n            });\n        }\n        return points;\n    }\n    drawTrackCurve(curve) {\n        const { startT, endT } = this.getVisibleTRange(curve);\n        const graphics = this.add.graphics();\n        graphics.setDepth(1000);\n        graphics.lineStyle(10, 0xff0000, 1);\n        const steps = 120;\n        const first = curve.getPoint(startT);\n        graphics.beginPath();\n        graphics.moveTo(first.x, first.y);\n        for(let i = 1; i <= steps; i += 1){\n            const t = startT + (endT - startT) * (i / steps);\n            const p = curve.getPoint(t);\n            graphics.lineTo(p.x, p.y);\n        }\n        graphics.strokePath();\n        this.debugCurveGraphics = graphics;\n    }\n    drawCurveMarkers(curve, count) {\n        const { width, height } = this.scale;\n        const { startT, endT } = this.getVisibleTRange(curve);\n        const graphics = this.add.graphics();\n        graphics.setDepth(1001);\n        graphics.fillStyle(0x22c55e, 1);\n        graphics.lineStyle(2, 0x22c55e, 1);\n        const total = Math.max(1, count - 1);\n        for(let i = 0; i < count; i += 1){\n            const t = total === 0 ? startT : startT + (endT - startT) * (i / total);\n            const point = curve.getPoint(t);\n            const clampedX = Phaser.Math.Clamp(point.x, 16, width - 16);\n            const clampedY = Phaser.Math.Clamp(point.y, 16, height - 16);\n            if (clampedX !== point.x || clampedY !== point.y) {\n                graphics.strokeLineShape(new Phaser.Geom.Line(point.x, point.y, clampedX, clampedY));\n            }\n            graphics.fillCircle(clampedX, clampedY, 8);\n            const labelText = \"\".concat(i + 1, \" (\").concat(Math.round(point.x), \", \").concat(Math.round(point.y), \")\");\n            const label = this.add.text(clampedX + 10, clampedY - 10, labelText, {\n                fontFamily: 'Arial Black',\n                fontSize: '18px',\n                color: '#22c55e',\n                stroke: '#0f172a',\n                strokeThickness: 3\n            });\n            label.setDepth(1002);\n            this.debugMarkerLabels.push(label);\n        }\n        this.debugMarkerGraphics = graphics;\n    }\n    getVisibleTRange(curve) {\n        const { width, height } = this.scale;\n        const margin = 8;\n        const samples = 400;\n        let startT = 0;\n        let endT = 1;\n        let foundStart = false;\n        for(let i = 0; i <= samples; i += 1){\n            const t = i / samples;\n            const p = curve.getPoint(t);\n            const inside = p.x >= margin && p.x <= width - margin && p.y >= margin && p.y <= height - margin;\n            if (inside && !foundStart) {\n                startT = t;\n                foundStart = true;\n            }\n            if (inside) {\n                endT = t;\n            }\n        }\n        const startExtend = 0.0;\n        const endExtend = 0.0;\n        return {\n            startT: Math.max(0, startT - startExtend),\n            endT: Math.min(1, endT + endExtend)\n        };\n    }\n    getTrackAngle(points, index) {\n        const curr = points[index];\n        var _points_, _ref;\n        const next = (_ref = (_points_ = points[index + 1]) !== null && _points_ !== void 0 ? _points_ : points[index - 1]) !== null && _ref !== void 0 ? _ref : curr;\n        const angle = Math.atan2(next.y - curr.y, next.x - curr.x);\n        return angle;\n    }\n    buildRailPath(spline) {\n        const length = spline.getLength();\n        const sampleEveryPx = 20;\n        const samples = Math.max(60, Math.round(length / sampleEveryPx));\n        const points = [];\n        for(let i = 0; i <= samples; i += 1){\n            const t = i / samples;\n            const p = spline.getPointAt(t);\n            points.push(new Phaser.Math.Vector2(p.x, p.y));\n        }\n        if (points.length < 2) {\n            this.railPathPoints = points;\n            this.railSegmentLengths = [];\n            this.railTotalLength = 0;\n            return;\n        }\n        const segments = [];\n        let total = 0;\n        for(let i = 0; i < points.length - 1; i += 1){\n            const curr = points[i];\n            const next = points[i + 1];\n            const segLen = Phaser.Math.Distance.Between(curr.x, curr.y, next.x, next.y);\n            segments.push(segLen);\n            total += segLen;\n        }\n        this.railPathPoints = points;\n        this.railSegmentLengths = segments;\n        this.railTotalLength = total;\n    }\n    sampleRailByDistanceNoWrap(distancePx) {\n        if (this.railPathPoints.length < 2 || this.railTotalLength <= 0) {\n            return {\n                position: new Phaser.Math.Vector2(0, 0),\n                angle: 0\n            };\n        }\n        const total = this.railTotalLength;\n        if (distancePx <= 0) {\n            const start = this.railPathPoints[0];\n            const next = this.railPathPoints[1];\n            const angle = Math.atan2(next.y - start.y, next.x - start.x);\n            const dir = new Phaser.Math.Vector2(Math.cos(angle), Math.sin(angle));\n            const pos = new Phaser.Math.Vector2(start.x, start.y).add(dir.scale(distancePx));\n            return {\n                position: pos,\n                angle\n            };\n        }\n        if (distancePx >= total) {\n            const end = this.railPathPoints[this.railPathPoints.length - 1];\n            const prev = this.railPathPoints[this.railPathPoints.length - 2];\n            const angle = Math.atan2(end.y - prev.y, end.x - prev.x);\n            const dir = new Phaser.Math.Vector2(Math.cos(angle), Math.sin(angle));\n            const pos = new Phaser.Math.Vector2(end.x, end.y).add(dir.scale(distancePx - total));\n            return {\n                position: pos,\n                angle\n            };\n        }\n        let remaining = distancePx;\n        let segIndex = 0;\n        while(segIndex < this.railSegmentLengths.length && remaining > this.railSegmentLengths[segIndex]){\n            remaining -= this.railSegmentLengths[segIndex];\n            segIndex += 1;\n        }\n        const safeIndex = Math.min(segIndex, this.railPathPoints.length - 2);\n        const curr = this.railPathPoints[safeIndex];\n        const next = this.railPathPoints[safeIndex + 1];\n        const segLen = this.railSegmentLengths[safeIndex] || 1;\n        const ratio = Phaser.Math.Clamp(remaining / segLen, 0, 1);\n        const x = Phaser.Math.Linear(curr.x, next.x, ratio);\n        const y = Phaser.Math.Linear(curr.y, next.y, ratio);\n        const angle = Math.atan2(next.y - curr.y, next.x - curr.x);\n        return {\n            position: new Phaser.Math.Vector2(x, y),\n            angle\n        };\n    }\n    createRailway() {\n        const { width, height } = this.scale;\n        const spline = this.createTrackCurve(width, height);\n        this.trackSpline = spline;\n        this.trackLength = spline.getLength();\n        this.buildRailPath(spline);\n        const baseScale = Math.min(width / 750, height / 1334);\n        const railOffset = 18 * baseScale;\n        const sleeperWidth = railOffset * 1.8;\n        const sleeperHeight = 7 * baseScale;\n        const railwayContainer = this.add.container(0, 0);\n        this.railwayContainer = railwayContainer;\n        const railLeft = [];\n        const railRight = [];\n        const samples = 140;\n        for(let i = 0; i <= samples; i += 1){\n            const t = i / samples;\n            const point = spline.getPoint(t);\n            const tangent = spline.getTangent(t).normalize();\n            const normal = new Phaser.Math.Vector2(-tangent.y, tangent.x).normalize();\n            railLeft.push(new Phaser.Math.Vector2(point.x + normal.x * railOffset, point.y + normal.y * railOffset));\n            railRight.push(new Phaser.Math.Vector2(point.x - normal.x * railOffset, point.y - normal.y * railOffset));\n        }\n        const rails = this.add.graphics();\n        rails.lineStyle(8 * baseScale, 0xf8fafc, 1);\n        rails.beginPath();\n        rails.moveTo(railLeft[0].x, railLeft[0].y);\n        railLeft.forEach((p)=>rails.lineTo(p.x, p.y));\n        rails.strokePath();\n        rails.beginPath();\n        rails.moveTo(railRight[0].x, railRight[0].y);\n        railRight.forEach((p)=>rails.lineTo(p.x, p.y));\n        rails.strokePath();\n        rails.setDepth(5);\n        railwayContainer.add(rails);\n        const sleeperCount = 28;\n        for(let i = 0; i <= sleeperCount; i += 1){\n            const t = i / sleeperCount;\n            const point = spline.getPoint(t);\n            const tangent = spline.getTangent(t).normalize();\n            const angle = Math.atan2(tangent.y, tangent.x) + Math.PI / 2;\n            const sleeper = this.add.rectangle(point.x, point.y, sleeperWidth, sleeperHeight, 0xb45309, 0.95);\n            sleeper.setRotation(angle);\n            sleeper.setDepth(4);\n            railwayContainer.add(sleeper);\n        }\n        if (this.debugTrack) {\n            this.drawTrackCurve(spline);\n            this.drawCurveMarkers(spline, 11);\n        }\n        this.setRailwayVisible(this.showRailOverlay);\n        this.setDebugTrackVisible(this.debugTrack);\n        this.trainDistancePx = 0;\n        if (this.trainStepPx <= 0) {\n            this.trainStepPx = this.railTotalLength > 1 ? (this.railTotalLength - 1) / this.maxCars : 0;\n        }\n        this.refreshLocks();\n        this.updateTrainCars(true);\n    }\n    createBarrierGate() {\n        if (!this.textures.exists('train-barrier')) return;\n        const gate = this.add.image(0, 0, 'train-barrier');\n        gate.setDepth(6);\n        gate.setOrigin(0.08, 0.5);\n        this.barrierGate = gate;\n        this.updateBarrierPosition();\n        this.setBarrierOpen(false, true);\n    }\n    updateBarrierPosition() {\n        if (!this.barrierGate) return;\n        const baseWidth = 750;\n        const baseHeight = 1334;\n        const scaleX = this.scale.width / baseWidth;\n        const scaleY = this.scale.height / baseHeight;\n        const baseX = 355;\n        const baseY = 230;\n        this.barrierGate.setPosition(baseX * scaleX, baseY * scaleY);\n        const scale = Math.min(scaleX, scaleY) * 0.35;\n        this.barrierGate.setScale(scale);\n        this.barrierBaseAngle = 0;\n        const targetAngle = this.barrierIsOpen ? this.barrierBaseAngle - Phaser.Math.DegToRad(45) : this.barrierBaseAngle;\n        this.barrierGate.setRotation(targetAngle);\n    }\n    setBarrierOpen(open) {\n        let immediate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        if (!this.barrierGate) return;\n        this.barrierIsOpen = open;\n        const targetAngle = open ? this.barrierBaseAngle - Phaser.Math.DegToRad(45) : this.barrierBaseAngle;\n        if (immediate) {\n            this.barrierGate.setRotation(targetAngle);\n            return;\n        }\n        this.tweens.add({\n            targets: this.barrierGate,\n            rotation: targetAngle,\n            duration: 220,\n            ease: 'Sine.easeInOut'\n        });\n    }\n    updateTrainCars() {\n        let force = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        var _this_carSlots_;\n        if (!this.showCars) return;\n        if (!force && !this.trainMoving) return;\n        if (this.railTotalLength <= 0) return;\n        for(let i = 0; i < this.carSlots.length; i += 1){\n            const slot = this.carSlots[i];\n            const distanceFromBottom = this.trainDistancePx - i * this.trainGapPx;\n            const mappedDistance = Math.max(0, this.railTotalLength - 1) - distanceFromBottom;\n            const sample = this.sampleRailByDistanceNoWrap(mappedDistance);\n            slot.car.setPosition(sample.position.x, sample.position.y);\n            slot.car.setRotation(sample.angle + this.trainRotationOffset);\n        }\n        const leadCar = (_this_carSlots_ = this.carSlots[0]) === null || _this_carSlots_ === void 0 ? void 0 : _this_carSlots_.car;\n        if (leadCar && this.leadCarBadge && this.leadCarBadge.scene) {\n            const offsetX = -leadCar.displayWidth * 0.34;\n            const offsetY = -leadCar.displayHeight * 0.08;\n            const rotation = leadCar.rotation;\n            const worldX = leadCar.x + Math.cos(rotation) * offsetX - Math.sin(rotation) * offsetY;\n            const worldY = leadCar.y + Math.sin(rotation) * offsetX + Math.cos(rotation) * offsetY;\n            this.leadCarBadge.setPosition(worldX, worldY);\n            this.leadCarBadge.setRotation(rotation);\n        }\n    }\n    setShowCars(value) {\n        this.showCars = value;\n        this.carSlots.forEach((slot)=>{\n            slot.car.setVisible(value);\n            slot.lock.setVisible(false);\n        });\n        if (this.leadCarBadge) {\n            this.leadCarBadge.setVisible(value);\n        }\n        if (value) {\n            this.refreshLocks();\n            this.updateTrainCars(true);\n        }\n    }\n    setRailwayVisible(value) {\n        if (this.railwayContainer) {\n            this.railwayContainer.setVisible(value);\n        }\n        if (this.debugCurveGraphics) {\n            this.debugCurveGraphics.setVisible(value && this.debugTrack);\n        }\n        if (this.debugMarkerGraphics) {\n            this.debugMarkerGraphics.setVisible(value && this.debugTrack);\n        }\n        this.debugMarkerLabels.forEach((label)=>label.setVisible(value && this.debugTrack));\n    }\n    isRailwayVisible() {\n        var _this_railwayContainer;\n        var _this_railwayContainer_visible;\n        return (_this_railwayContainer_visible = (_this_railwayContainer = this.railwayContainer) === null || _this_railwayContainer === void 0 ? void 0 : _this_railwayContainer.visible) !== null && _this_railwayContainer_visible !== void 0 ? _this_railwayContainer_visible : true;\n    }\n    setDebugTrackVisible(value) {\n        this.debugTrack = value;\n        if (this.debugCurveGraphics) {\n            this.debugCurveGraphics.setVisible(value);\n        }\n        if (this.debugMarkerGraphics) {\n            this.debugMarkerGraphics.setVisible(value);\n        }\n        this.debugMarkerLabels.forEach((label)=>label.setVisible(value));\n    }\n    setTrainMoving(value) {\n        this.trainMoving = value;\n        if (!value) {\n            this.updateTrainCars(true);\n        }\n    }\n    endGame(reason, result) {\n        if (this.gameOver) return;\n        this.gameOver = true;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.hasStarted = false;\n        this.closeQuiz();\n        this.submitSessionResult();\n        if (result === 'lose') {\n            this.openTimeUpModal('Out of time! Try again.');\n            return;\n        }\n        this.openTimeUpModal(reason || 'Great job! You won!');\n    }\n    formatTime(seconds) {\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return \"\".concat(mins, \"m \").concat(secs.toString().padStart(2, '0'), \"s\");\n    }\n    constructor(){\n        super('TrainGame'), this.debugTrack = false, this.showRailOverlay = false, this.showCars = true, this.trainMoving = false, this.trafficLightState = null, this.trainDistancePx = 0, this.trainSpeedPxPerSec = -180, this.trainGapPx = 0, this.trackLength = 0, this.trainCarGapFactor = 0.68, this.trainCarScaleFactor = 0.468, this.railPathPoints = [], this.railSegmentLengths = [], this.railTotalLength = 0, this.trainRotationOffset = Phaser.Math.DegToRad(-90), this.leadCarState = 'idle', this.leadCarBaseSize = null, this.debugMarkerLabels = [], this.showHoverCoords = false, this.barrierBaseAngle = 0, this.barrierIsOpen = false, this.carSlots = [], this.startModalOpen = false, this.hasStarted = false, this.gameCode = 'train_game', this.sessionId = null, this.sessionGameId = null, this.sessionQuestions = null, this.sessionTimeLimit = null, this.maxCars = 11, this.currentIndex = 0, this.score = 0, this.totalTimeMs = 300000, this.remainingMs = 300000, this.lastSecondShown = -1, this.quizOpen = false, this.quizLocked = false, this.gameOver = false, this.questions = [], this.currentCorrectIndex = 0, this.currentSessionQuestionId = null, this.currentOptionIds = [], this.trainStepPx = 0;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9nYW1lL3NjZW5lcy9UcmFpbkdhbWUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQStCO0FBQ1E7QUFFd0I7QUFDbkI7QUFrQjVDLE1BQU1LLHFCQUFxQztJQUN2QztRQUNJQyxVQUFVO1lBQ05DLFNBQVM7WUFDVEMsU0FBUztnQkFDTDtvQkFBRUMsTUFBTTtvQkFBVUMsWUFBWTtnQkFBSztnQkFDbkM7b0JBQUVELE1BQU07b0JBQVdDLFlBQVk7Z0JBQU07Z0JBQ3JDO29CQUFFRCxNQUFNO29CQUFhQyxZQUFZO2dCQUFNO2dCQUN2QztvQkFBRUQsTUFBTTtvQkFBV0MsWUFBWTtnQkFBTTthQUN4QztRQUNMO0lBQ0o7SUFDQTtRQUNJSixVQUFVO1lBQ05DLFNBQVM7WUFDVEMsU0FBUztnQkFDTDtvQkFBRUMsTUFBTTtvQkFBeUJDLFlBQVk7Z0JBQUs7Z0JBQ2xEO29CQUFFRCxNQUFNO29CQUFNQyxZQUFZO2dCQUFNO2dCQUNoQztvQkFBRUQsTUFBTTtvQkFBVUMsWUFBWTtnQkFBTTtnQkFDcEM7b0JBQUVELE1BQU07b0JBQU1DLFlBQVk7Z0JBQU07YUFDbkM7UUFDTDtJQUNKO0lBQ0E7UUFDSUosVUFBVTtZQUNOQyxTQUFTO1lBQ1RDLFNBQVM7Z0JBQ0w7b0JBQUVDLE1BQU07b0JBQVFDLFlBQVk7Z0JBQUs7Z0JBQ2pDO29CQUFFRCxNQUFNO29CQUFPQyxZQUFZO2dCQUFNO2dCQUNqQztvQkFBRUQsTUFBTTtvQkFBUUMsWUFBWTtnQkFBTTtnQkFDbEM7b0JBQUVELE1BQU07b0JBQVNDLFlBQVk7Z0JBQU07YUFDdEM7UUFDTDtJQUNKO0lBQ0E7UUFDSUosVUFBVTtZQUNOQyxTQUFTO1lBQ1RDLFNBQVM7Z0JBQ0w7b0JBQUVDLE1BQU07b0JBQVFDLFlBQVk7Z0JBQUs7Z0JBQ2pDO29CQUFFRCxNQUFNO29CQUFNQyxZQUFZO2dCQUFNO2dCQUNoQztvQkFBRUQsTUFBTTtvQkFBU0MsWUFBWTtnQkFBTTtnQkFDbkM7b0JB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QyxnQkFBK0IsV0FDL0JFLG1CQUEwQyxXQUMxQ0UsbUJBQWtDLFdBRWxDMkosVUFBa0IsU0FDbEIzSCxlQUF1QixRQUN2QkMsUUFBZ0IsUUFFaEJvQyxjQUFzQixhQUN0QmIsY0FBc0IsYUFDdEJLLGtCQUEwQixDQUFDLFFBRTNCckQsV0FBb0IsWUFDcEJDLGFBQXNCLFlBQ3RCRixXQUFvQixZQUVaUixZQUE0QixFQUFFLE9BQzlCNlEsc0JBQThCLFFBQzlCaFEsMkJBQTBDLFdBQzFDQyxtQkFBNkIsRUFBRSxPQUMvQmdLLGNBQXNCO0lBSzlCO0FBKzBDSiIsInNvdXJjZXMiOlsiL1VzZXJzL25iMjMwNjAxL0RvY3VtZW50cy9waGFzZXItZ2FtZWRldi9zcmMvZ2FtZS9zY2VuZXMvVHJhaW5HYW1lLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjZW5lIH0gZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnLi4vRXZlbnRCdXMnO1xuaW1wb3J0IHR5cGUgeyBHYW1lUXVlc3Rpb24gfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hcGknO1xuaW1wb3J0IHsgZ2V0R2FtZUNvbmZpZywgcmVzb2x2ZUdhbWVDb2RlIH0gZnJvbSAnLi4vZ2FtZUNvbmZpZyc7XG5pbXBvcnQgeyBRdWl6UGFuZWwgfSBmcm9tICcuLi91aS9RdWl6UGFuZWwnO1xuXG50eXBlIFRyYWluQ2FyU2xvdCA9IHtcbiAgICBpbmRleDogbnVtYmVyO1xuICAgIGNhcjogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgIGxvY2s6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG59O1xuXG50eXBlIFRyYWluR2FtZUluaXREYXRhID0ge1xuICAgIGdhbWVDb2RlPzogc3RyaW5nIHwgbnVsbDtcbiAgICBzZXNzaW9uSWQ/OiBzdHJpbmcgfCBudWxsO1xuICAgIGdhbWVJZD86IHN0cmluZyB8IG51bGw7XG4gICAgcXVlc3Rpb25zPzogR2FtZVF1ZXN0aW9uW10gfCBudWxsO1xuICAgIHRpbWVMaW1pdD86IG51bWJlciB8IG51bGw7XG59O1xuXG50eXBlIExlYWRDYXJTdGF0ZSA9ICdpZGxlJyB8ICdjb3JyZWN0JyB8ICdpbmNvcnJlY3QnO1xuXG5jb25zdCBGQUxMQkFDS19RVUVTVElPTlM6IEdhbWVRdWVzdGlvbltdID0gW1xuICAgIHtcbiAgICAgICAgcXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdUaOG7pyDEkcO0IGPhu6dhIFZp4buHdCBOYW0gbMOgIGfDrD8nLFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdGV4dDogJ0jDoCBO4buZaScsIGlzX2NvcnJlY3Q6IHRydWUgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICfEkMOgIE7hurVuZycsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnSOG6o2kgUGjDsm5nJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdD4bqnbiBUaMahJywgaXNfY29ycmVjdDogZmFsc2UgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBjb250ZW50OiAnUGhhc2VyIHPhu60gZOG7pW5nIG5nw7RuIG5n4buvIG7DoG8/JyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdUeXBlU2NyaXB0L0phdmFTY3JpcHQnLCBpc19jb3JyZWN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnQyMnLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ1B5dGhvbicsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnR28nLCBpc19jb3JyZWN0OiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgcXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdDaOG7jW4gdOG7qyB0csOhaSBuZ2jEqWEgY+G7p2Eg4oCcZmFzdOKAnS4nLFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3Nsb3cnLCBpc19jb3JyZWN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnZmFyJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdoaWdoJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdzbWFsbCcsIGlzX2NvcnJlY3Q6IGZhbHNlIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBxdWVzdGlvbjoge1xuICAgICAgICAgICAgY29udGVudDogJ0No4buNbiDEkcOhcCDDoW4gxJHDum5nOiBTaGUgX19fIHRvIHNjaG9vbCBldmVyeSBkYXkuJyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdnb2VzJywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ2dvJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdnb2luZycsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnZ29uZScsIGlzX2NvcnJlY3Q6IGZhbHNlIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBxdWVzdGlvbjoge1xuICAgICAgICAgICAgY29udGVudDogJ1Thu6sgbsOgbyBjw7MgbmdoxKlhIGzDoCDigJxuaOG6o3nigJ0/JyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdqdW1wJywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3N3aW0nLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ2NyYXdsJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdzbGVlcCcsIGlzX2NvcnJlY3Q6IGZhbHNlIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBxdWVzdGlvbjoge1xuICAgICAgICAgICAgY29udGVudDogJ1Thu6sgbsOgbyBsw6AgZGFuaCB04burPycsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAncml2ZXInLCBpc19jb3JyZWN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAncnVuJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdxdWlja2x5JywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdibHVlJywgaXNfY29ycmVjdDogZmFsc2UgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBjb250ZW50OiAnQ2jhu41uIGPDonUgxJHDum5nIG5n4buvIHBow6FwLicsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnSGUgaXMgcGxheWluZyBmb290YmFsbC4nLCBpc19jb3JyZWN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnSGUgYXJlIHBsYXlpbmcgZm9vdGJhbGwuJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdIZSBwbGF5aW5nIGZvb3RiYWxsLicsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnSGUgcGxheSBmb290YmFsbC4nLCBpc19jb3JyZWN0OiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgcXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdU4burIG7DoG8gbMOgIHTDrW5oIHThu6s/JyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdiZWF1dGlmdWwnLCBpc19jb3JyZWN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnYmVhdXR5JywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdiZWF1dGlmeScsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnYmVhdXRpZnVsbHknLCBpc19jb3JyZWN0OiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgcXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdDaOG7jW4gxJHDoXAgw6FuIMSRw7puZzogSSBfX18gYSBib29rIG5vdy4nLFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdGV4dDogJ2FtIHJlYWRpbmcnLCBpc19jb3JyZWN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAncmVhZCcsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAncmVhZHMnLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3JlYWRpbmcnLCBpc19jb3JyZWN0OiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgcXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdU4burIG7DoG8gbMOgIHRy4bqhbmcgdOG7qz8nLFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3F1aWNrbHknLCBpc19jb3JyZWN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAncXVpY2snLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3F1aWNrZXInLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3F1aWNrbmVzcycsIGlzX2NvcnJlY3Q6IGZhbHNlIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBxdWVzdGlvbjoge1xuICAgICAgICAgICAgY29udGVudDogJ0No4buNbiBjw6J1IGjhu49pIHBow7kgaOG7o3Aga2hpIGfhurdwIG5nxrDhu51pIG3hu5tpLicsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnV2hhdCBpcyB5b3VyIG5hbWU/JywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ1doZXJlIGRvIHlvdSBsaXZlPycsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnSG93IG9sZCBhcmUgeW91PycsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnV2hhdCB0aW1lIGlzIGl0PycsIGlzX2NvcnJlY3Q6IGZhbHNlIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH1cbl07XG5cbmV4cG9ydCBjbGFzcyBUcmFpbkdhbWUgZXh0ZW5kcyBTY2VuZVxue1xuICAgIHByaXZhdGUgZGVidWdUcmFjayA9IGZhbHNlO1xuICAgIHByaXZhdGUgc2hvd1JhaWxPdmVybGF5ID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBzaG93Q2FycyA9IHRydWU7XG4gICAgcHJpdmF0ZSB0cmFpbk1vdmluZyA9IGZhbHNlO1xuICAgIHByaXZhdGUgdHJhY2tTcGxpbmU/OiBQaGFzZXIuQ3VydmVzLlNwbGluZTtcbiAgICBwcml2YXRlIHRyYWluU3ByaXRlPzogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgIHByaXZhdGUgdHJhZmZpY0xpZ2h0PzogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgIHByaXZhdGUgdHJhZmZpY0xpZ2h0VmFyaWFudHM/OiB7XG4gICAgICAgIHJlZDogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgICAgICB5ZWxsb3c6IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICAgICAgZ3JlZW46IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICB9O1xuICAgIHByaXZhdGUgdHJhZmZpY0xpZ2h0U3RhdGU6ICdyZWQnIHwgJ3llbGxvdycgfCAnZ3JlZW4nIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSB0cmFpbkRpc3RhbmNlUHg6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSB0cmFpblNwZWVkUHhQZXJTZWM6IG51bWJlciA9IC0xODA7XG4gICAgcHJpdmF0ZSB0cmFpbkdhcFB4OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgdHJhY2tMZW5ndGg6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0cmFpbkNhckdhcEZhY3RvciA9IDAuNjg7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0cmFpbkNhclNjYWxlRmFjdG9yID0gMC40Njg7XG4gICAgcHJpdmF0ZSByYWlsUGF0aFBvaW50czogUGhhc2VyLk1hdGguVmVjdG9yMltdID0gW107XG4gICAgcHJpdmF0ZSByYWlsU2VnbWVudExlbmd0aHM6IG51bWJlcltdID0gW107XG4gICAgcHJpdmF0ZSByYWlsVG90YWxMZW5ndGg6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0cmFpblJvdGF0aW9uT2Zmc2V0ID0gUGhhc2VyLk1hdGguRGVnVG9SYWQoLTkwKTtcbiAgICBwcml2YXRlIGxlYWRDYXJTdGF0ZTogTGVhZENhclN0YXRlID0gJ2lkbGUnO1xuICAgIHByaXZhdGUgbGVhZENhckJhc2VTaXplOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0gfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIGxlYWRDYXJCYWRnZT86IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICBwcml2YXRlIHJhaWx3YXlDb250YWluZXI/OiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHByaXZhdGUgZGVidWdDdXJ2ZUdyYXBoaWNzPzogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xuICAgIHByaXZhdGUgZGVidWdNYXJrZXJHcmFwaGljcz86IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljcztcbiAgICBwcml2YXRlIGRlYnVnTWFya2VyTGFiZWxzOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dFtdID0gW107XG4gICAgcHJpdmF0ZSBzaG93SG92ZXJDb29yZHMgPSBmYWxzZTtcbiAgICBwcml2YXRlIGhvdmVyQ29vcmRUZXh0PzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgcHJpdmF0ZSBiYXJyaWVyR2F0ZT86IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICBwcml2YXRlIGJhcnJpZXJCYXNlQW5nbGU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBiYXJyaWVySXNPcGVuOiBib29sZWFuID0gZmFsc2U7XG4gICAgY2FtZXJhITogUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5DYW1lcmE7XG4gICAgYmFja2dyb3VuZCE6IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICBjYXJTbG90czogVHJhaW5DYXJTbG90W10gPSBbXTtcbiAgICBxdWl6TW9kYWwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHF1aXpQYW5lbCE6IFF1aXpQYW5lbDtcbiAgICB0aW1lclRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBzY29yZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBodWRCYWNrQnV0dG9uITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRQb2ludHNQaWxsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRUaW1lclBpbGwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHVpUm9vdCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgc3RhcnRNb2RhbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgc3RhcnRNb2RhbFBhbmVsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICB0aW1lVXBNb2RhbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgdGltZVVwTW9kYWxQYW5lbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgdGltZVVwVGl0bGVUZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgc3RhcnRNb2RhbE9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBoYXNTdGFydGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnYW1lQ29kZTogc3RyaW5nID0gJ3RyYWluX2dhbWUnO1xuICAgIHNlc3Npb25JZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgc2Vzc2lvbkdhbWVJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgc2Vzc2lvblF1ZXN0aW9uczogR2FtZVF1ZXN0aW9uW10gfCBudWxsID0gbnVsbDtcbiAgICBzZXNzaW9uVGltZUxpbWl0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICAgIG1heENhcnM6IG51bWJlciA9IDExO1xuICAgIGN1cnJlbnRJbmRleDogbnVtYmVyID0gMDtcbiAgICBzY29yZTogbnVtYmVyID0gMDtcblxuICAgIHRvdGFsVGltZU1zOiBudW1iZXIgPSAzMDAwMDA7XG4gICAgcmVtYWluaW5nTXM6IG51bWJlciA9IDMwMDAwMDtcbiAgICBsYXN0U2Vjb25kU2hvd246IG51bWJlciA9IC0xO1xuXG4gICAgcXVpek9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBxdWl6TG9ja2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgZ2FtZU92ZXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgcXVlc3Rpb25zOiBHYW1lUXVlc3Rpb25bXSA9IFtdO1xuICAgIHByaXZhdGUgY3VycmVudENvcnJlY3RJbmRleDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIGN1cnJlbnRTZXNzaW9uUXVlc3Rpb25JZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBjdXJyZW50T3B0aW9uSWRzOiBzdHJpbmdbXSA9IFtdO1xuICAgIHByaXZhdGUgdHJhaW5TdGVwUHg6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvciAoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoJ1RyYWluR2FtZScpO1xuICAgIH1cblxuICAgIGluaXQgKGRhdGE6IFRyYWluR2FtZUluaXREYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5nYW1lQ29kZSA9IHJlc29sdmVHYW1lQ29kZShkYXRhPy5nYW1lQ29kZSA/PyAodGhpcy5yZWdpc3RyeS5nZXQoJ2dhbWVDb2RlJykgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSk7XG4gICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdnYW1lQ29kZScsIHRoaXMuZ2FtZUNvZGUpO1xuICAgICAgICB0aGlzLnNlc3Npb25JZCA9IGRhdGE/LnNlc3Npb25JZCA/PyBudWxsO1xuICAgICAgICB0aGlzLnNlc3Npb25HYW1lSWQgPSBkYXRhPy5nYW1lSWQgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5zZXNzaW9uUXVlc3Rpb25zID0gZGF0YT8ucXVlc3Rpb25zID8/IG51bGw7XG4gICAgICAgIHRoaXMuc2Vzc2lvblRpbWVMaW1pdCA9IGRhdGE/LnRpbWVMaW1pdCA/PyBudWxsO1xuICAgIH1cblxuICAgIGNyZWF0ZSAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBnYW1lQ29uZmlnID0gZ2V0R2FtZUNvbmZpZyh0aGlzLmdhbWVDb2RlKTtcblxuICAgICAgICAvLyBSZXNldCBydW50aW1lIHN0YXRlIG9uIGV2ZXJ5IGNyZWF0ZSgpIGJlY2F1c2Ugc2NlbmUucmVzdGFydCByZXVzZXMgdGhlIHNhbWUgaW5zdGFuY2UuXG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6T3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvblF1ZXN0aW9uSWQgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRPcHRpb25JZHMgPSBbXTtcbiAgICAgICAgdGhpcy5sZWFkQ2FyU3RhdGUgPSAnaWRsZSc7XG4gICAgICAgIHRoaXMuYmFycmllcklzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuY2FyU2xvdHMgPSBbXTtcbiAgICAgICAgdGhpcy5sZWFkQ2FyQmFkZ2UgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdGhpcy5jYW1lcmEgPSB0aGlzLmNhbWVyYXMubWFpbjtcbiAgICAgICAgdGhpcy5jYW1lcmEuc2V0QmFja2dyb3VuZENvbG9yKGdhbWVDb25maWcuYmFja2dyb3VuZENvbG9yKTtcblxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIsICd0cmFpbi1iZycpXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodClcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41LCAwLjUpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBRdWVzdGlvbnMoKTtcbiAgICAgICAgdGhpcy5zZXR1cFRpbWVyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlSHVkKCk7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgICAgIHRoaXMuY3JlYXRlUmFpbHdheSgpO1xuICAgICAgICBpZiAodGhpcy5zaG93Q2Fycykge1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRUcmFpbigpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFpbkNhcnModHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcmVhdGVCYXJyaWVyR2F0ZSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZVF1aXpNb2RhbCgpO1xuICAgICAgICB0aGlzLmNyZWF0ZVN0YXJ0TW9kYWwoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVUaW1lVXBNb2RhbCgpO1xuICAgICAgICB0aGlzLm9wZW5TdGFydE1vZGFsKCk7XG5cbiAgICAgICAgdGhpcy5zY2FsZS5vbigncmVzaXplJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB3aWR0aDogbmV3V2lkdGgsIGhlaWdodDogbmV3SGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLnNldFBvc2l0aW9uKG5ld1dpZHRoIC8gMiwgbmV3SGVpZ2h0IC8gMikuc2V0RGlzcGxheVNpemUobmV3V2lkdGgsIG5ld0hlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmxheW91dEh1ZCgpO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRRdWl6KCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhcnJpZXJQb3NpdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRTdGFydE1vZGFsKCk7XG4gICAgICAgICAgICB0aGlzLmxheW91dFRpbWVVcE1vZGFsKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEV2ZW50QnVzLmVtaXQoJ2N1cnJlbnQtc2NlbmUtcmVhZHknLCB0aGlzKTtcbiAgICB9XG5cbiAgICB1cGRhdGUgKF90aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5nYW1lT3ZlcikgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMuaGFzU3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFpbkNhcnMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVtYWluaW5nTXMgPSBNYXRoLm1heCgwLCB0aGlzLnJlbWFpbmluZ01zIC0gZGVsdGEpO1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5jZWlsKHRoaXMucmVtYWluaW5nTXMgLyAxMDAwKTtcbiAgICAgICAgaWYgKHNlY29uZHMgIT09IHRoaXMubGFzdFNlY29uZFNob3duKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RTZWNvbmRTaG93biA9IHNlY29uZHM7XG4gICAgICAgICAgICB0aGlzLnRpbWVyVGV4dC5zZXRUZXh0KHRoaXMuZm9ybWF0VGltZShzZWNvbmRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdNcyA8PSAwICYmICF0aGlzLmdhbWVPdmVyKSB7XG4gICAgICAgICAgICB0aGlzLmVuZEdhbWUoJ091dCBvZiB0aW1lLicsICdsb3NlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRyYWluQ2FycygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBRdWVzdGlvbnMgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc2Vzc2lvblF1ZXN0aW9ucyAmJiB0aGlzLnNlc3Npb25RdWVzdGlvbnMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyB0aGlzLnNlc3Npb25RdWVzdGlvbnNcbiAgICAgICAgICAgIDogRkFMTEJBQ0tfUVVFU1RJT05TO1xuXG4gICAgICAgIHRoaXMucXVlc3Rpb25zID0gc291cmNlLnNsaWNlKDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBUaW1lciAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAmJiB0aGlzLnNlc3Npb25UaW1lTGltaXQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnRvdGFsVGltZU1zID0gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICogMTAwMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbWFpbmluZ01zID0gdGhpcy50b3RhbFRpbWVNcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUh1ZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51aVJvb3QgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0RGVwdGgoMjAwMCk7XG5cbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xuICAgICAgICBjb25zdCBiYWNrQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBiYWNrQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjk1KTtcbiAgICAgICAgYmFja0JnLmZpbGxSb3VuZGVkUmVjdCgtMjIsIC0yMiwgNDQsIDQ0LCAxNCk7XG4gICAgICAgIGJhY2tCZy5saW5lU3R5bGUoMiwgMHgwZWE1ZTksIDAuMik7XG4gICAgICAgIGJhY2tCZy5zdHJva2VSb3VuZGVkUmVjdCgtMjIsIC0yMiwgNDQsIDQ0LCAxNCk7XG4gICAgICAgIGNvbnN0IGJhY2tJY29uID0gdGhpcy5hZGQudGV4dCgwLCAxLCAnPCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzI2cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgY29uc3QgYmFja0hpdCA9IHRoaXMuYWRkLnpvbmUoMCwgMCwgNDQsIDQ0KVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuICAgICAgICBiYWNrSGl0Lm9uKCdwb2ludGVydXAnLCAoKSA9PiB0aGlzLmhhbmRsZUJhY2tUb0dhbWVMaXN0KCkpO1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24uYWRkKFtiYWNrQmcsIGJhY2tJY29uXSk7XG4gICAgICAgIHRoaXMuaHVkQmFja0J1dHRvbi5zZXRTaXplKDQ0LCA0NCk7XG4gICAgICAgIHRoaXMuaHVkQmFja0J1dHRvbi5hZGQoYmFja0hpdCk7XG5cbiAgICAgICAgdGhpcy5odWRQb2ludHNQaWxsID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xuICAgICAgICBjb25zdCBwb2ludHNCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IHBvaW50c1cgPSAxNjg7XG4gICAgICAgIGNvbnN0IHBvaW50c0ggPSA0NDtcbiAgICAgICAgcG9pbnRzQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjk4KTtcbiAgICAgICAgcG9pbnRzQmcuZmlsbFJvdW5kZWRSZWN0KC1wb2ludHNXIC8gMiwgLXBvaW50c0ggLyAyLCBwb2ludHNXLCBwb2ludHNILCAyMik7XG4gICAgICAgIHBvaW50c0JnLmxpbmVTdHlsZSgyLCAweGY1OWUwYiwgMC40KTtcbiAgICAgICAgcG9pbnRzQmcuc3Ryb2tlUm91bmRlZFJlY3QoLXBvaW50c1cgLyAyLCAtcG9pbnRzSCAvIDIsIHBvaW50c1csIHBvaW50c0gsIDIyKTtcbiAgICAgICAgY29uc3Qgc3RhciA9IHRoaXMuYWRkLmltYWdlKC1wb2ludHNXIC8gMiArIDI0LCAwLCAnc3RhcicpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zMilcbiAgICAgICAgICAgIC5zZXRUaW50KDB4ZmJiZjI0KTtcbiAgICAgICAgdGhpcy5zY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KC1wb2ludHNXIC8gMiArIDQ2LCAwLCAnUE9JTlRTOiAwMCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMCwgMC41KTtcbiAgICAgICAgdGhpcy5odWRQb2ludHNQaWxsLmFkZChbcG9pbnRzQmcsIHN0YXIsIHRoaXMuc2NvcmVUZXh0XSk7XG5cbiAgICAgICAgdGhpcy5odWRUaW1lclBpbGwgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XG4gICAgICAgIGNvbnN0IHRpbWVyQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBjb25zdCB0aW1lclcgPSA5NjtcbiAgICAgICAgY29uc3QgdGltZXJIID0gNDA7XG4gICAgICAgIHRpbWVyQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjk4KTtcbiAgICAgICAgdGltZXJCZy5maWxsUm91bmRlZFJlY3QoLXRpbWVyVyAvIDIsIC10aW1lckggLyAyLCB0aW1lclcsIHRpbWVySCwgMjApO1xuICAgICAgICB0aW1lckJnLmxpbmVTdHlsZSgyLCAweDk0YTNiOCwgMC40KTtcbiAgICAgICAgdGltZXJCZy5zdHJva2VSb3VuZGVkUmVjdCgtdGltZXJXIC8gMiwgLXRpbWVySCAvIDIsIHRpbWVyVywgdGltZXJILCAyMCk7XG4gICAgICAgIHRoaXMudGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCB0aGlzLmZvcm1hdFRpbWUoTWF0aC5jZWlsKHRoaXMucmVtYWluaW5nTXMgLyAxMDAwKSksIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgdGhpcy5odWRUaW1lclBpbGwuYWRkKFt0aW1lckJnLCB0aGlzLnRpbWVyVGV4dF0pO1xuXG4gICAgICAgIHRoaXMudWlSb290LmFkZChbdGhpcy5odWRCYWNrQnV0dG9uLCB0aGlzLmh1ZFBvaW50c1BpbGwsIHRoaXMuaHVkVGltZXJQaWxsXSk7XG4gICAgICAgIHRoaXMubGF5b3V0SHVkKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlVHJhZmZpY0xpZ2h0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXlvdXRIdWQgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgdG9wSW5zZXQgPSBNYXRoLm1heCgxNiwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjAzKSk7XG4gICAgICAgIGNvbnN0IHNpZGVJbnNldCA9IE1hdGgubWF4KDE0LCBNYXRoLnJvdW5kKHdpZHRoICogMC4wNCkpO1xuICAgICAgICBjb25zdCByaWdodEVkZ2UgPSB3aWR0aCAtIHNpZGVJbnNldDtcbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLnNldFBvc2l0aW9uKHNpZGVJbnNldCArIDIyLCB0b3BJbnNldCArIDIyKTtcbiAgICAgICAgdGhpcy5odWRQb2ludHNQaWxsLnNldFBvc2l0aW9uKHdpZHRoIC8gMiwgdG9wSW5zZXQgKyAyMik7XG4gICAgICAgIHRoaXMuaHVkVGltZXJQaWxsLnNldFBvc2l0aW9uKHJpZ2h0RWRnZSAtIDQ4LCB0b3BJbnNldCArIDIyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUJhY2tUb0dhbWVMaXN0ICgpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBzaG91bGRMZWF2ZSA9IHdpbmRvdy5jb25maXJtKCdC4bqhbiBjw7MgY2jhuq9jIG114buRbiBxdWF5IGzhuqFpIGRhbmggc8OhY2ggZ2FtZSBraMO0bmc/Jyk7XG4gICAgICAgIGlmICghc2hvdWxkTGVhdmUpIHJldHVybjtcblxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJztcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVRyYWZmaWNMaWdodCAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgbGlnaHRIZWlnaHQgPSAyMzA7XG4gICAgICAgIGNvbnN0IHNvdXJjZUhlaWdodCA9IDE0NjM7XG4gICAgICAgIGNvbnN0IHNvdXJjZVdpZHRoID0gMzM1O1xuICAgICAgICBjb25zdCBsaWdodFdpZHRoID0gTWF0aC5yb3VuZChsaWdodEhlaWdodCAqIChzb3VyY2VXaWR0aCAvIHNvdXJjZUhlaWdodCkpO1xuICAgICAgICBjb25zdCBiYXNlWCA9IDg4O1xuICAgICAgICBjb25zdCBiYXNlWSA9IDgwODtcbiAgICAgICAgY29uc3QgYW5jaG9yWSA9IE1hdGgucm91bmQoYmFzZVkgKyBsaWdodEhlaWdodCAvIDIpO1xuICAgICAgICBjb25zdCBtYWtlVmFyaWFudCA9IChrZXk6IHN0cmluZykgPT4gdGhpcy5hZGQuaW1hZ2UoYmFzZVgsIGJhc2VZLCBrZXkpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSwgMSlcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZShsaWdodFdpZHRoLCBsaWdodEhlaWdodClcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDAwKVxuICAgICAgICAgICAgLnNldEFscGhhKDEpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcihiYXNlWCwgYW5jaG9yWSkuc2V0RGVwdGgoMTAwMCk7XG4gICAgICAgIGNvbnN0IG9mZnNldHMgPSB7XG4gICAgICAgICAgICByZWQ6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgeWVsbG93OiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGdyZWVuOiB7IHg6IC0xLCB5OiAwIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVkID0gdGhpcy50ZXh0dXJlcy5leGlzdHMoJ3RyYWluLWxpZ2h0LXJlZCcpXG4gICAgICAgICAgICA/IHRoaXMuYWRkLmltYWdlKDAsIDAsICd0cmFpbi1saWdodC1yZWQnKVxuICAgICAgICAgICAgOiB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgbGlnaHRXaWR0aCwgbGlnaHRIZWlnaHQsIDB4ZWY0NDQ0LCAxKTtcbiAgICAgICAgY29uc3QgeWVsbG93ID0gdGhpcy50ZXh0dXJlcy5leGlzdHMoJ3RyYWluLWxpZ2h0LXllbGxvdycpXG4gICAgICAgICAgICA/IHRoaXMuYWRkLmltYWdlKDAsIDAsICd0cmFpbi1saWdodC15ZWxsb3cnKVxuICAgICAgICAgICAgOiB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgbGlnaHRXaWR0aCwgbGlnaHRIZWlnaHQsIDB4ZmJiZjI0LCAxKTtcbiAgICAgICAgY29uc3QgZ3JlZW4gPSB0aGlzLnRleHR1cmVzLmV4aXN0cygndHJhaW4tbGlnaHQtZ3JlZW4nKVxuICAgICAgICAgICAgPyB0aGlzLmFkZC5pbWFnZSgwLCAwLCAndHJhaW4tbGlnaHQtZ3JlZW4nKVxuICAgICAgICAgICAgOiB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgbGlnaHRXaWR0aCwgbGlnaHRIZWlnaHQsIDB4MjJjNTVlLCAxKTtcblxuICAgICAgICBjb25zdCBub3JtYWxpemUgPSAob2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCdzZXRPcmlnaW4nIGluIG9iaikge1xuICAgICAgICAgICAgICAgIChvYmogYXMgUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlKS5zZXRPcmlnaW4oMC41LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnc2V0RGlzcGxheVNpemUnIGluIG9iaikge1xuICAgICAgICAgICAgICAgIChvYmogYXMgUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlKS5zZXREaXNwbGF5U2l6ZShsaWdodFdpZHRoLCBsaWdodEhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5vcm1hbGl6ZShyZWQpO1xuICAgICAgICBub3JtYWxpemUoeWVsbG93KTtcbiAgICAgICAgbm9ybWFsaXplKGdyZWVuKTtcbiAgICAgICAgcmVkLnNldFBvc2l0aW9uKG9mZnNldHMucmVkLngsIG9mZnNldHMucmVkLnkpO1xuICAgICAgICB5ZWxsb3cuc2V0UG9zaXRpb24ob2Zmc2V0cy55ZWxsb3cueCwgb2Zmc2V0cy55ZWxsb3cueSk7XG4gICAgICAgIGdyZWVuLnNldFBvc2l0aW9uKG9mZnNldHMuZ3JlZW4ueCwgb2Zmc2V0cy5ncmVlbi55KTtcbiAgICAgICAgY29udGFpbmVyLmFkZChbcmVkLCB5ZWxsb3csIGdyZWVuXSk7XG5cbiAgICAgICAgdGhpcy50cmFmZmljTGlnaHRWYXJpYW50cyA9IHtcbiAgICAgICAgICAgIHJlZDogcmVkIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZSxcbiAgICAgICAgICAgIHllbGxvdzogeWVsbG93IGFzIFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZSxcbiAgICAgICAgICAgIGdyZWVuOiBncmVlbiBhcyBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2VcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmFmZmljTGlnaHQgPSB0aGlzLnRyYWZmaWNMaWdodFZhcmlhbnRzLnJlZDtcbiAgICAgICAgY29uc3QgY3ljbGU6IEFycmF5PCdyZWQnIHwgJ3llbGxvdycgfCAnZ3JlZW4nPiA9IFsncmVkJywgJ3llbGxvdycsICdncmVlbiddO1xuICAgICAgICBsZXQgY3ljbGVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuc2V0VHJhZmZpY0xpZ2h0Q29sb3IoY3ljbGVbY3ljbGVJbmRleF0pO1xuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgICAgICAgZGVsYXk6IDcwMCxcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGN5Y2xlSW5kZXggPSAoY3ljbGVJbmRleCArIDEpICUgY3ljbGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJhZmZpY0xpZ2h0Q29sb3IoY3ljbGVbY3ljbGVJbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFRyYWZmaWNMaWdodENvbG9yIChjb2xvcjogJ3JlZCcgfCAneWVsbG93JyB8ICdncmVlbicpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudHJhZmZpY0xpZ2h0VmFyaWFudHMpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMudHJhZmZpY0xpZ2h0U3RhdGUgPT09IGNvbG9yKSByZXR1cm47XG4gICAgICAgIHRoaXMudHJhZmZpY0xpZ2h0U3RhdGUgPSBjb2xvcjtcblxuICAgICAgICBjb25zdCB7IHJlZCwgeWVsbG93LCBncmVlbiB9ID0gdGhpcy50cmFmZmljTGlnaHRWYXJpYW50cztcbiAgICAgICAgcmVkLnNldFZpc2libGUoY29sb3IgPT09ICdyZWQnKTtcbiAgICAgICAgeWVsbG93LnNldFZpc2libGUoY29sb3IgPT09ICd5ZWxsb3cnKTtcbiAgICAgICAgZ3JlZW4uc2V0VmlzaWJsZShjb2xvciA9PT0gJ2dyZWVuJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXlvdXRUcmFpbiAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBzY2FsZVggPSB0aGlzLmJhY2tncm91bmQuZGlzcGxheVdpZHRoIC8gdGhpcy5iYWNrZ3JvdW5kLndpZHRoO1xuICAgICAgICBjb25zdCBzY2FsZVkgPSB0aGlzLmJhY2tncm91bmQuZGlzcGxheUhlaWdodCAvIHRoaXMuYmFja2dyb3VuZC5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpICogdGhpcy50cmFpbkNhclNjYWxlRmFjdG9yO1xuXG4gICAgICAgIGNvbnN0IHRyYWNrQ3VydmUgPSB0aGlzLmNyZWF0ZVRyYWNrQ3VydmUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGNvbnN0IHRyYWNrUG9pbnRzID0gdGhpcy5zYW1wbGVUcmFjayh0cmFja0N1cnZlLCB0aGlzLm1heENhcnMpO1xuXG4gICAgICAgIHRoaXMuY2FyU2xvdHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWF4Q2FyczsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjYXJLZXkgPSBgdHJhaW4tY2FyLSR7aSArIDF9YDtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gdHJhY2tQb2ludHNbaV0gPz8geyB4OiB3aWR0aCAvIDIsIHk6IGhlaWdodCAvIDIgfTtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5nZXRUcmFja0FuZ2xlKHRyYWNrUG9pbnRzLCBpKSArIHRoaXMudHJhaW5Sb3RhdGlvbk9mZnNldDtcbiAgICAgICAgICAgIGNvbnN0IGNhciA9IHRoaXMuYWRkLmltYWdlKHBvaW50LngsIHBvaW50LnksIGNhcktleSkuc2V0U2NhbGUoc2NhbGUpLnNldFJvdGF0aW9uKGFuZ2xlKTtcbiAgICAgICAgICAgIGNhci5zZXRBbHBoYSgxKTtcblxuICAgICAgICAgICAgY29uc3QgbG9jayA9IHRoaXMuY3JlYXRlTG9ja092ZXJsYXkocG9pbnQueCwgcG9pbnQueSwgY2FyLmRpc3BsYXlXaWR0aCwgY2FyLmRpc3BsYXlIZWlnaHQsIGkpO1xuICAgICAgICAgICAgbG9jay5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIGxvY2suZGlzYWJsZUludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FyU2xvdHMucHVzaCh7IGluZGV4OiBpLCBjYXIsIGxvY2sgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jYXJTbG90cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZWZlcmVuY2VDYXIgPSB0aGlzLmNhclNsb3RzWzBdLmNhcjtcbiAgICAgICAgICAgIGNvbnN0IGNhckxlbmd0aCA9IE1hdGgubWF4KHJlZmVyZW5jZUNhci5kaXNwbGF5V2lkdGgsIHJlZmVyZW5jZUNhci5kaXNwbGF5SGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMudHJhaW5HYXBQeCA9IGNhckxlbmd0aCAqIHRoaXMudHJhaW5DYXJHYXBGYWN0b3I7XG4gICAgICAgICAgICB0aGlzLnRyYWluU3RlcFB4ID0gdGhpcy50cmFpbkdhcFB4O1xuICAgICAgICAgICAgdGhpcy5sZWFkQ2FyQmFzZVNpemUgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHJlZmVyZW5jZUNhci5kaXNwbGF5V2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiByZWZlcmVuY2VDYXIuZGlzcGxheUhlaWdodFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FyU2xvdHNbMF0/LmNhci5zZXRUZXh0dXJlKCd0cmFpbi1jYXItMScpO1xuICAgICAgICB0aGlzLnNldExlYWRDYXJTdGF0ZSgnaWRsZScpO1xuICAgICAgICB0aGlzLnJlZnJlc2hMb2NrcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TGVhZENhclRleHR1cmVLZXkgKHN0YXRlOiBMZWFkQ2FyU3RhdGUpXG4gICAge1xuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdjb3JyZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYWluLWZveC1jb3JyZWN0JztcbiAgICAgICAgICAgIGNhc2UgJ2luY29ycmVjdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFpbi1mb3gtaW5jb3JyZWN0JztcbiAgICAgICAgICAgIGNhc2UgJ2lkbGUnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYWluLWZveC1pZGxlJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0TGVhZENhclN0YXRlIChzdGF0ZTogTGVhZENhclN0YXRlKVxuICAgIHtcbiAgICAgICAgdGhpcy5sZWFkQ2FyU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgbGVhZENhciA9IHRoaXMuY2FyU2xvdHNbMF0/LmNhcjtcbiAgICAgICAgaWYgKCFsZWFkQ2FyKSByZXR1cm47XG4gICAgICAgIGlmICghbGVhZENhci5zY2VuZSkgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5sZWFkQ2FyQmFkZ2UgJiYgIXRoaXMubGVhZENhckJhZGdlLnNjZW5lKSB7XG4gICAgICAgICAgICB0aGlzLmxlYWRDYXJCYWRnZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVhZENhci50ZXh0dXJlLmtleSAhPT0gJ3RyYWluLWNhci0xJykge1xuICAgICAgICAgICAgbGVhZENhci5zZXRUZXh0dXJlKCd0cmFpbi1jYXItMScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxlYWRDYXJCYXNlU2l6ZSkge1xuICAgICAgICAgICAgbGVhZENhci5zZXREaXNwbGF5U2l6ZSh0aGlzLmxlYWRDYXJCYXNlU2l6ZS53aWR0aCwgdGhpcy5sZWFkQ2FyQmFzZVNpemUuaGVpZ2h0KTtcbiAgICAgICAgICAgIGxlYWRDYXIuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRleHR1cmVLZXkgPSB0aGlzLmdldExlYWRDYXJUZXh0dXJlS2V5KHN0YXRlKTtcbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmVzLmV4aXN0cyh0ZXh0dXJlS2V5KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubGVhZENhckJhZGdlKSB0aGlzLmxlYWRDYXJCYWRnZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5sZWFkQ2FyQmFkZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubGVhZENhckJhZGdlID0gdGhpcy5hZGQuaW1hZ2UobGVhZENhci54LCBsZWFkQ2FyLnksIHRleHR1cmVLZXkpXG4gICAgICAgICAgICAgICAgLnNldERlcHRoKGxlYWRDYXIuZGVwdGggKyAxKVxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sZWFkQ2FyQmFkZ2Uuc2V0VGV4dHVyZSh0ZXh0dXJlS2V5KS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubGVhZENhckJhc2VTaXplICYmIHRoaXMubGVhZENhckJhZGdlICYmIHRoaXMubGVhZENhckJhZGdlLnNjZW5lKSB7XG4gICAgICAgICAgICB0aGlzLmxlYWRDYXJCYWRnZS5zZXREaXNwbGF5U2l6ZSh0aGlzLmxlYWRDYXJCYXNlU2l6ZS53aWR0aCAqIDAuNSwgdGhpcy5sZWFkQ2FyQmFzZVNpemUuaGVpZ2h0ICogMC41KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlTG9ja092ZXJsYXkgKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgaW5kZXg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IGxvY2sgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSk7XG4gICAgICAgIGxvY2suc2V0RGVwdGgoMTApO1xuICAgICAgICBjb25zdCBwYW5lbFcgPSBNYXRoLm1heCgxNDAsIHdpZHRoICogMC42KTtcbiAgICAgICAgY29uc3QgcGFuZWxIID0gTWF0aC5tYXgoNDgsIGhlaWdodCAqIDAuMzUpO1xuXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHBhbmVsVywgcGFuZWxILCAweDFmMjkzNywgMC45KTtcbiAgICAgICAgYmcuc2V0U3Ryb2tlU3R5bGUoMiwgMHhmYmJmMjQsIDAuOSk7XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ1VOTE9DSycsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZjhmYWZjJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBsb2NrLmFkZChbYmcsIHRleHRdKTtcbiAgICAgICAgbG9jay5zZXRTaXplKHBhbmVsVywgcGFuZWxIKTtcbiAgICAgICAgY29uc3QgaGl0QXJlYSA9IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoLXBhbmVsVyAvIDIsIC1wYW5lbEggLyAyLCBwYW5lbFcsIHBhbmVsSCk7XG4gICAgICAgIGxvY2suc2V0SW50ZXJhY3RpdmUoaGl0QXJlYSwgUGhhc2VyLkdlb20uUmVjdGFuZ2xlLkNvbnRhaW5zKTtcbiAgICAgICAgbG9jay5zZXREYXRhKCdoaXRBcmVhJywgaGl0QXJlYSk7XG5cbiAgICAgICAgbG9jay5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWl6T3BlbiB8fCB0aGlzLmdhbWVPdmVyKSByZXR1cm47XG4gICAgICAgICAgICBiZy5zZXRGaWxsU3R5bGUoMHgzMzQxNTUsIDAuOTUpO1xuICAgICAgICAgICAgbG9jay5zZXRTY2FsZSgxLjA1KTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuc2V0RGVmYXVsdEN1cnNvcigncG9pbnRlcicpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsb2NrLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgYmcuc2V0RmlsbFN0eWxlKDB4MWYyOTM3LCAwLjkpO1xuICAgICAgICAgICAgbG9jay5zZXRTY2FsZSgxKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuc2V0RGVmYXVsdEN1cnNvcignZGVmYXVsdCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsb2NrLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnF1aXpPcGVuIHx8IHRoaXMuZ2FtZU92ZXIpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdGhpcy5jdXJyZW50SW5kZXgpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMub3BlblF1ZXN0aW9uKGluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGxvY2s7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWZyZXNoTG9ja3MgKClcbiAgICB7XG4gICAgICAgIHRoaXMuY2FyU2xvdHMuZm9yRWFjaCgoc2xvdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzbG90IHx8ICFzbG90LmNhciB8fCAhc2xvdC5sb2NrKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoIXNsb3QuY2FyLnNjZW5lIHx8ICFzbG90LmxvY2suc2NlbmUpIHJldHVybjtcbiAgICAgICAgICAgIHNsb3QuY2FyLnNldEFscGhhKDEpO1xuICAgICAgICAgICAgc2xvdC5sb2NrLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHNsb3QubG9jay5pbnB1dCkge1xuICAgICAgICAgICAgICAgIHNsb3QubG9jay5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcG9pbnRzID0gTWF0aC5tYXgoMCwgdGhpcy5zY29yZSk7XG4gICAgICAgIHRoaXMuc2NvcmVUZXh0LnNldFRleHQoYFBPSU5UUzogJHtwb2ludHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWApO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUXVpek1vZGFsICgpXG4gICAge1xuICAgICAgICB0aGlzLnF1aXpQYW5lbCA9IG5ldyBRdWl6UGFuZWwodGhpcywgeyBvcHRpb25Db3VudDogNCwgZGVwdGg6IDIwMDAsIHBhcmVudDogdGhpcy51aVJvb3QsIHNob3dJbmRleDogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5xdWl6TW9kYWwgPSB0aGlzLnF1aXpQYW5lbC5jb250YWluZXI7XG5cbiAgICAgICAgdGhpcy5xdWl6UGFuZWwub25PcHRpb25TZWxlY3RlZCgoaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnF1aXpMb2NrZWQpIHJldHVybjtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5oYW5kbGVBbnN3ZXIoaW5kZXgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmxheW91dFF1aXooKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVN0YXJ0TW9kYWwgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldERlcHRoKDIxMDApLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHhmZmZmZmYsIDAuMTIpLnNldE9yaWdpbigwLCAwKTtcblxuICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMuYWRkLmNvbnRhaW5lcih3aWR0aCAvIDIsIE1hdGgucm91bmQoaGVpZ2h0ICogMC41NikpO1xuICAgICAgICBjb25zdCBwYW5lbFdpZHRoID0gTWF0aC5taW4oNjIwLCB3aWR0aCAtIDgwKTtcbiAgICAgICAgY29uc3QgcGFuZWxIZWlnaHQgPSBNYXRoLm1pbigyMjAsIE1hdGgucm91bmQoaGVpZ2h0ICogMC4zMikpO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsU2hhZG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgcGFuZWxTaGFkb3cuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjE4KTtcbiAgICAgICAgcGFuZWxTaGFkb3cuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiArIDgsIC1wYW5lbEhlaWdodCAvIDIgKyAxMCwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDMwKTtcblxuICAgICAgICBjb25zdCBwYW5lbEJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgcGFuZWxCZy5maWxsU3R5bGUoMHhmZmZmZmYsIDAuODUpO1xuICAgICAgICBwYW5lbEJnLmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIsIC1wYW5lbEhlaWdodCAvIDIsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyOCk7XG4gICAgICAgIHBhbmVsQmcubGluZVN0eWxlKDIsIDB4ZmZmZmZmLCAwLjY1KTtcbiAgICAgICAgcGFuZWxCZy5zdHJva2VSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIsIC1wYW5lbEhlaWdodCAvIDIsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyOCk7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLmFkZC50ZXh0KDAsIC0zOCwgJ0Fuc3dlciB0aGUgcXVlc3Rpb25zIHRvIGhlbHAgdGhlXFxudHJhaW4gZ28gYWhlYWQuJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnLFxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgbGluZVNwYWNpbmc6IDZcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5jcmVhdGVTdGFydEJ1dHRvbigwLCBNYXRoLnJvdW5kKHBhbmVsSGVpZ2h0ICogMC4yMykpO1xuXG4gICAgICAgIHBhbmVsLmFkZChbcGFuZWxTaGFkb3csIHBhbmVsQmcsIHRpdGxlLCBidXR0b25dKTtcbiAgICAgICAgY29udGFpbmVyLmFkZChbb3ZlcmxheSwgcGFuZWxdKTtcblxuICAgICAgICB0aGlzLnN0YXJ0TW9kYWwgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbFBhbmVsID0gcGFuZWw7XG4gICAgICAgIHRoaXMudWlSb290LmFkZChjb250YWluZXIpO1xuICAgICAgICB0aGlzLmxheW91dFN0YXJ0TW9kYWwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVRpbWVVcE1vZGFsICgpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKS5zZXREZXB0aCgyMjAwKS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDAwMDAwMCwgMC4xKS5zZXRPcmlnaW4oMCwgMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuNTYpKTtcbiAgICAgICAgY29uc3QgcGFuZWxXaWR0aCA9IE1hdGgubWluKDYyMCwgd2lkdGggLSA4MCk7XG4gICAgICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gTWF0aC5taW4oMjIwLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuMzIpKTtcblxuICAgICAgICBjb25zdCBwYW5lbFNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxTdHlsZSgweDAwMDAwMCwgMC4xOCk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIgKyA4LCAtcGFuZWxIZWlnaHQgLyAyICsgMTAsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAzMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjg1KTtcbiAgICAgICAgcGFuZWxCZy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjgpO1xuICAgICAgICBwYW5lbEJnLmxpbmVTdHlsZSgyLCAweGZmZmZmZiwgMC42NSk7XG4gICAgICAgIHBhbmVsQmcuc3Ryb2tlUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjgpO1xuXG4gICAgICAgIHRoaXMudGltZVVwVGl0bGVUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAtMTQsICdPdXQgb2YgdGltZSEgRmFpbGVkIScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJyxcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLmNyZWF0ZVRpbWVvdXRCdXR0b24oMCwgTWF0aC5yb3VuZChwYW5lbEhlaWdodCAqIDAuMjMpKTtcblxuICAgICAgICBwYW5lbC5hZGQoW3BhbmVsU2hhZG93LCBwYW5lbEJnLCB0aGlzLnRpbWVVcFRpdGxlVGV4dCwgYnV0dG9uXSk7XG4gICAgICAgIGNvbnRhaW5lci5hZGQoW292ZXJsYXksIHBhbmVsXSk7XG5cbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbCA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbFBhbmVsID0gcGFuZWw7XG4gICAgICAgIHRoaXMudWlSb290LmFkZChjb250YWluZXIpO1xuICAgICAgICB0aGlzLmxheW91dFRpbWVVcE1vZGFsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXlvdXRTdGFydE1vZGFsICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRNb2RhbCB8fCAhdGhpcy5zdGFydE1vZGFsUGFuZWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5zdGFydE1vZGFsLmxpc3RbMF07XG4gICAgICAgIGlmIChvdmVybGF5ICYmICdzZXRTaXplJyBpbiBvdmVybGF5KSB7XG4gICAgICAgICAgICAob3ZlcmxheSBhcyBQaGFzZXIuR2FtZU9iamVjdHMuUmVjdGFuZ2xlKS5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbFBhbmVsLnNldFBvc2l0aW9uKHdpZHRoIC8gMiwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjU2KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXlvdXRUaW1lVXBNb2RhbCAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpbWVVcE1vZGFsIHx8ICF0aGlzLnRpbWVVcE1vZGFsUGFuZWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy50aW1lVXBNb2RhbC5saXN0WzBdO1xuICAgICAgICBpZiAob3ZlcmxheSAmJiAnc2V0U2l6ZScgaW4gb3ZlcmxheSkge1xuICAgICAgICAgICAgKG92ZXJsYXkgYXMgUGhhc2VyLkdhbWVPYmplY3RzLlJlY3RhbmdsZSkuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsUGFuZWwuc2V0UG9zaXRpb24od2lkdGggLyAyLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuNTYpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVN0YXJ0QnV0dG9uICh4OiBudW1iZXIsIHk6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5KTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSA1MzA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDcyO1xuICAgICAgICBjb25zdCByYWRpdXMgPSAzMDtcblxuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBzaGFkb3cuZmlsbFN0eWxlKDB4MWUzYThhLCAwLjE4KTtcbiAgICAgICAgc2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyICsgNCwgLWhlaWdodCAvIDIgKyA2LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgZHJhdyA9IChmaWxsOiBudW1iZXIsIHN0cm9rZTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBiZy5jbGVhcigpO1xuICAgICAgICAgICAgYmcuZmlsbFN0eWxlKGZpbGwsIDEpO1xuICAgICAgICAgICAgYmcuZmlsbFJvdW5kZWRSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICAgICAgYmcubGluZVN0eWxlKDIsIHN0cm9rZSwgMC42NSk7XG4gICAgICAgICAgICBiZy5zdHJva2VSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDEsICdTdGFydCBHYW1lJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzRweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNjYpO1xuXG4gICAgICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCArIDE2LCBoZWlnaHQgKyAxNiwgMHhmZmZmZmYsIDAuMDAxKTtcbiAgICAgICAgaGl0LnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbc2hhZG93LCBiZywgdGV4dCwgaGl0XSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGhpdC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4MjU2M2ViLCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnNldERlZmF1bHRDdXJzb3IoJ3BvaW50ZXInKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDIsIGR1cmF0aW9uOiAxMDAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5zZXREZWZhdWx0Q3Vyc29yKCdkZWZhdWx0Jyk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLCBkdXJhdGlvbjogMTAwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhcnRNb2RhbE9wZW4pIHJldHVybjtcbiAgICAgICAgICAgIGRyYXcoMHgxZDRlZDgsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDAuOTgsIGR1cmF0aW9uOiA3MCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZUZsb3coKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMS4wMiwgZHVyYXRpb246IDcwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHNjYWxlOiAxLjAzLFxuICAgICAgICAgICAgZHVyYXRpb246IDg1MCxcbiAgICAgICAgICAgIHlveW86IHRydWUsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVUaW1lb3V0QnV0dG9uICh4OiBudW1iZXIsIHk6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5KTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSA1MzA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDcyO1xuICAgICAgICBjb25zdCByYWRpdXMgPSAzMDtcblxuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBzaGFkb3cuZmlsbFN0eWxlKDB4MWUzYThhLCAwLjE4KTtcbiAgICAgICAgc2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyICsgNCwgLWhlaWdodCAvIDIgKyA2LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgZHJhdyA9IChmaWxsOiBudW1iZXIsIHN0cm9rZTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBiZy5jbGVhcigpO1xuICAgICAgICAgICAgYmcuZmlsbFN0eWxlKGZpbGwsIDEpO1xuICAgICAgICAgICAgYmcuZmlsbFJvdW5kZWRSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICAgICAgYmcubGluZVN0eWxlKDIsIHN0cm9rZSwgMC42NSk7XG4gICAgICAgICAgICBiZy5zdHJva2VSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDEsICdQbGF5IEFnYWluJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzRweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNjYpO1xuXG4gICAgICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCArIDE2LCBoZWlnaHQgKyAxNiwgMHhmZmZmZmYsIDAuMDAxKTtcbiAgICAgICAgaGl0LnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbc2hhZG93LCBiZywgdGV4dCwgaGl0XSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGhpdC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaGl0LmdldERhdGEoJ3Jlc3RhcnRpbmcnKSkgcmV0dXJuO1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5zZXREZWZhdWx0Q3Vyc29yKCdwb2ludGVyJyk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLjAyLCBkdXJhdGlvbjogMTAwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChoaXQuZ2V0RGF0YSgncmVzdGFydGluZycpKSByZXR1cm47XG4gICAgICAgICAgICBkcmF3KDB4M2I4MmY2LCAweDkzYzVmZCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnNldERlZmF1bHRDdXJzb3IoJ2RlZmF1bHQnKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEsIGR1cmF0aW9uOiAxMDAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChoaXQuZ2V0RGF0YSgncmVzdGFydGluZycpKSByZXR1cm47XG4gICAgICAgICAgICBoaXQuc2V0RGF0YSgncmVzdGFydGluZycsIHRydWUpO1xuICAgICAgICAgICAgaGl0LmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xuICAgICAgICAgICAgZHJhdygweDFkNGVkOCwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMC45OCwgZHVyYXRpb246IDcwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg5MCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zeXMuaXNBY3RpdmUoKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdGFydFRyYWluUnVuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhpdC5nZXREYXRhKCdyZXN0YXJ0aW5nJykpIHJldHVybjtcbiAgICAgICAgICAgIGRyYXcoMHgyNTYzZWIsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDIsIGR1cmF0aW9uOiA3MCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuU3RhcnRNb2RhbCAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0TW9kYWwpIHJldHVybjtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsT3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuaGFzU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsLnNldEFscGhhKDApO1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5zdGFydE1vZGFsLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTgwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xvc2VTdGFydE1vZGFsICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXJ0R2FtZUZsb3cgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbG9zZVN0YXJ0TW9kYWwoKTtcbiAgICAgICAgdGhpcy5vcGVuUXVlc3Rpb24odGhpcy5jdXJyZW50SW5kZXgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlblRpbWVVcE1vZGFsIChtZXNzYWdlOiBzdHJpbmcgPSAnT3V0IG9mIHRpbWUhIFRyeSBhZ2Fpbi4nKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpbWVVcE1vZGFsIHx8ICF0aGlzLnRpbWVVcE1vZGFsUGFuZWwpIHJldHVybjtcbiAgICAgICAgdGhpcy50aW1lVXBUaXRsZVRleHQuc2V0VGV4dChtZXNzYWdlKTtcbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbFBhbmVsLnNldFNjYWxlKDAuOTYpO1xuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwuc2V0QWxwaGEoMCk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnRpbWVVcE1vZGFsLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy50aW1lVXBNb2RhbFBhbmVsLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjQwLFxuICAgICAgICAgICAgZWFzZTogJ0JhY2suZWFzZU91dCdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdWJtaXRTZXNzaW9uUmVzdWx0ICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbkdhbWVJZCkgcmV0dXJuO1xuICAgICAgICBpbXBvcnQoJy4uLy4uL3NlcnZpY2VzL2FwaScpXG4gICAgICAgICAgICAudGhlbigoeyBlbmRHYW1lU2Vzc2lvbiB9KSA9PiBlbmRHYW1lU2Vzc2lvbih0aGlzLnNlc3Npb25HYW1lSWQgYXMgc3RyaW5nLCB0aGlzLnNjb3JlKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdlbmRHYW1lU2Vzc2lvbiBmYWlsZWQnLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc3RhcnRUcmFpblJ1biAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnN5cyB8fCAhdGhpcy5zeXMuaXNBY3RpdmUoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLmlucHV0LnNldERlZmF1bHRDdXJzb3IoJ2RlZmF1bHQnKTtcbiAgICAgICAgdGhpcy5jbG9zZVF1aXooKTtcbiAgICAgICAgaWYgKHRoaXMudGltZVVwTW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMudGltZVVwTW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2VuZS5yZXN0YXJ0KHtcbiAgICAgICAgICAgIGdhbWVDb2RlOiB0aGlzLmdhbWVDb2RlLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgICAgIGdhbWVJZDogdGhpcy5zZXNzaW9uR2FtZUlkLFxuICAgICAgICAgICAgcXVlc3Rpb25zOiB0aGlzLnNlc3Npb25RdWVzdGlvbnMsXG4gICAgICAgICAgICB0aW1lTGltaXQ6IHRoaXMuc2Vzc2lvblRpbWVMaW1pdFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxheW91dFF1aXogKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWwubGF5b3V0KHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlblF1ZXN0aW9uIChpbmRleDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucXVpek9wZW4gfHwgdGhpcy5nYW1lT3ZlcikgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMuaGFzU3RhcnRlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnNldExlYWRDYXJTdGF0ZSgnaWRsZScpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uID0gdGhpcy5nZXRRdWVzdGlvbkZvckluZGV4KGluZGV4KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHF1ZXN0aW9uLnF1ZXN0aW9uLm9wdGlvbnMubWFwKChvcHQpID0+IG9wdC50ZXh0KTtcbiAgICAgICAgdGhpcy5jdXJyZW50T3B0aW9uSWRzID0gcXVlc3Rpb24ucXVlc3Rpb24ub3B0aW9ucy5tYXAoKG9wdCkgPT4gb3B0LmlkID8/ICcnKTtcbiAgICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvblF1ZXN0aW9uSWQgPSBxdWVzdGlvbi5zZXNzaW9uX3F1ZXN0aW9uX2lkID8/IG51bGw7XG4gICAgICAgIGxldCBjb3JyZWN0SW5kZXggPSBxdWVzdGlvbi5xdWVzdGlvbi5vcHRpb25zLmZpbmRJbmRleCgob3B0KSA9PiBvcHQuaXNfY29ycmVjdCk7XG4gICAgICAgIGlmIChjb3JyZWN0SW5kZXggPCAwKSBjb3JyZWN0SW5kZXggPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb3JyZWN0SW5kZXggPSBjb3JyZWN0SW5kZXg7XG4gICAgICAgIHRoaXMucXVpelBhbmVsLnNldEZlZWRiYWNrKCdpZGxlJyk7XG4gICAgICAgIHRoaXMucXVpelBhbmVsLnNldFF1ZXN0aW9uKHtcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCArIDEsXG4gICAgICAgICAgICB0b3RhbDogdGhpcy5tYXhDYXJzLFxuICAgICAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uLmNvbnRlbnQsXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUJhcnJpZXJQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLnNldEJhcnJpZXJPcGVuKGZhbHNlKTtcbiAgICAgICAgdGhpcy5sYXlvdXRRdWl6KCk7XG5cbiAgICAgICAgdGhpcy5xdWl6T3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1aXpNb2RhbC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRJbnRlcmFjdGl2ZSh0cnVlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUFuc3dlciAoc2VsZWN0ZWRJbmRleDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucXVpekxvY2tlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSB0cnVlO1xuXG4gICAgICAgIGxldCBpc0NvcnJlY3QgPSBzZWxlY3RlZEluZGV4ID09PSB0aGlzLmN1cnJlbnRDb3JyZWN0SW5kZXg7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uSWQgPSB0aGlzLmN1cnJlbnRPcHRpb25JZHNbc2VsZWN0ZWRJbmRleF07XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb25JZCAmJiB0aGlzLmN1cnJlbnRTZXNzaW9uUXVlc3Rpb25JZCAmJiBzZWxlY3RlZE9wdGlvbklkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3VibWl0QW5zd2VyIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3NlcnZpY2VzL2FwaScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHN1Ym1pdEFuc3dlcih0aGlzLnNlc3Npb25JZCwgdGhpcy5jdXJyZW50U2Vzc2lvblF1ZXN0aW9uSWQsIHNlbGVjdGVkT3B0aW9uSWQpO1xuICAgICAgICAgICAgICAgIGlzQ29ycmVjdCA9IHJlcy5kYXRhLmlzX2NvcnJlY3Q7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3N1Ym1pdEFuc3dlciBmYWlsZWQsIGZhbGxiYWNrIHRvIGxvY2FsIGNoZWNrJywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgICAgICAgdGhpcy5zZXRMZWFkQ2FyU3RhdGUoJ2NvcnJlY3QnKTtcbiAgICAgICAgICAgIHRoaXMucXVpelBhbmVsLnNldEZlZWRiYWNrKCdjb3JyZWN0Jyk7XG4gICAgICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRPcHRpb25TdGF0ZShzZWxlY3RlZEluZGV4LCAnY29ycmVjdCcpO1xuICAgICAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0SW50ZXJhY3RpdmUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VRdWl6KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUNvcnJlY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRMZWFkQ2FyU3RhdGUoJ2luY29ycmVjdCcpO1xuICAgICAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0RmVlZGJhY2soJ3dyb25nJyk7XG4gICAgICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRPcHRpb25TdGF0ZShzZWxlY3RlZEluZGV4LCAnd3JvbmcnKTtcbiAgICAgICAgICAgIHRoaXMucXVpelBhbmVsLnNldEludGVyYWN0aXZlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg2NTAsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5V3JvbmcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldExlYWRDYXJTdGF0ZSgnaWRsZScpO1xuICAgICAgICAgICAgICAgIHRoaXMucXVpelBhbmVsLnNldE9wdGlvblN0YXRlKHNlbGVjdGVkSW5kZXgsICdub3JtYWwnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRGZWVkYmFjaygnaWRsZScpO1xuICAgICAgICAgICAgICAgIHRoaXMucXVpelBhbmVsLnNldEludGVyYWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFwcGx5Q29ycmVjdCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBNYXRoLm1pbih0aGlzLm1heENhcnMsIHRoaXMuY3VycmVudEluZGV4ICsgMSk7XG4gICAgICAgIHRoaXMuc2NvcmUgPSB0aGlzLmN1cnJlbnRJbmRleDtcbiAgICAgICAgdGhpcy5yZWZyZXNoTG9ja3MoKTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPj0gdGhpcy5tYXhDYXJzKSB7XG4gICAgICAgICAgICB0aGlzLnNldEJhcnJpZXJPcGVuKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5tb3ZlVHJhaW5Ub0VuZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRHYW1lKGBZb3UgY29tcGxldGVkIGFsbCAke3RoaXMubWF4Q2Fyc30gY2FycyFgLCAnd2luJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW92ZVRyYWluVG9JbmRleCh0aGlzLmN1cnJlbnRJbmRleCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vcGVuUXVlc3Rpb24odGhpcy5jdXJyZW50SW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFwcGx5V3JvbmcgKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVmcmVzaExvY2tzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtb3ZlVHJhaW5Ub0luZGV4ICh0YXJnZXRJbmRleDogbnVtYmVyLCBvbkNvbXBsZXRlPzogKCkgPT4gdm9pZClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJhaWxUb3RhbExlbmd0aCA8PSAwIHx8IHRoaXMudHJhaW5TdGVwUHggPD0gMCkge1xuICAgICAgICAgICAgaWYgKG9uQ29tcGxldGUpIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZpc3VhbEluZGV4ID0gUGhhc2VyLk1hdGguQ2xhbXAodGFyZ2V0SW5kZXgsIDAsIHRoaXMubWF4Q2Fycyk7XG4gICAgICAgIGNvbnN0IG1heERpc3RhbmNlID0gTWF0aC5tYXgoMCwgdGhpcy5yYWlsVG90YWxMZW5ndGggLSAxKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0RGlzdGFuY2UgPSBNYXRoLm1pbih0aGlzLnRyYWluU3RlcFB4ICogdmlzdWFsSW5kZXgsIG1heERpc3RhbmNlKTtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBNYXRoLmFicyh0YXJnZXREaXN0YW5jZSAtIHRoaXMudHJhaW5EaXN0YW5jZVB4KTtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBQaGFzZXIuTWF0aC5DbGFtcChNYXRoLnJvdW5kKDQyMCArIGRlbHRhICogMS44KSwgNjUwLCAxMjAwKTtcblxuICAgICAgICB0aGlzLnRyYWluTW92aW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgdHdlZW5TdGF0ZSA9IHsgdmFsdWU6IHRoaXMudHJhaW5EaXN0YW5jZVB4IH07XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0d2VlblN0YXRlLFxuICAgICAgICAgICAgdmFsdWU6IHRhcmdldERpc3RhbmNlLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBlYXNlOiAnU2luZS5lYXNlSW5PdXQnLFxuICAgICAgICAgICAgb25VcGRhdGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWluRGlzdGFuY2VQeCA9IHR3ZWVuU3RhdGUudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFpbkNhcnModHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhaW5EaXN0YW5jZVB4ID0gdGFyZ2V0RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFpbk1vdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhaW5DYXJzKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChvbkNvbXBsZXRlKSBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbW92ZVRyYWluVG9FbmQgKG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmFpbFRvdGFsTGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIGlmIChvbkNvbXBsZXRlKSBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXhEaXN0YW5jZSA9IE1hdGgubWF4KDAsIHRoaXMucmFpbFRvdGFsTGVuZ3RoIC0gMSk7XG4gICAgICAgIGNvbnN0IHRyYWluTGVuZ3RoID0gTWF0aC5tYXgoMCwgKHRoaXMubWF4Q2FycyAtIDEpICogdGhpcy50cmFpbkdhcFB4KTtcbiAgICAgICAgY29uc3QgdGFyZ2V0RGlzdGFuY2UgPSBtYXhEaXN0YW5jZSArIHRyYWluTGVuZ3RoO1xuICAgICAgICBjb25zdCBkZWx0YSA9IE1hdGguYWJzKHRhcmdldERpc3RhbmNlIC0gdGhpcy50cmFpbkRpc3RhbmNlUHgpO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IFBoYXNlci5NYXRoLkNsYW1wKE1hdGgucm91bmQoNTIwICsgZGVsdGEgKiAxLjYpLCA4MDAsIDE4MDApO1xuXG4gICAgICAgIHRoaXMudHJhaW5Nb3ZpbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCB0d2VlblN0YXRlID0geyB2YWx1ZTogdGhpcy50cmFpbkRpc3RhbmNlUHggfTtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHR3ZWVuU3RhdGUsXG4gICAgICAgICAgICB2YWx1ZTogdGFyZ2V0RGlzdGFuY2UsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2U6ICdTaW5lLmVhc2VJbk91dCcsXG4gICAgICAgICAgICBvblVwZGF0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhaW5EaXN0YW5jZVB4ID0gdHdlZW5TdGF0ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYWluQ2Fycyh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFpbkRpc3RhbmNlUHggPSB0YXJnZXREaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWluTW92aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFpbkNhcnModHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9uQ29tcGxldGUpIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbG9zZVF1aXogKClcbiAgICB7XG4gICAgICAgIHRoaXMucXVpek1vZGFsLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnF1aXpPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UXVlc3Rpb25Gb3JJbmRleCAoaW5kZXg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnF1ZXN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBGQUxMQkFDS19RVUVTVElPTlNbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucXVlc3Rpb25zW2luZGV4ICUgdGhpcy5xdWVzdGlvbnMubGVuZ3RoXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVRyYWNrQ3VydmUgKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgYmFzZVdpZHRoID0gNzUwO1xuICAgICAgICBjb25zdCBiYXNlSGVpZ2h0ID0gMTMzNDtcbiAgICAgICAgY29uc3Qgc2NhbGVYID0gd2lkdGggLyBiYXNlV2lkdGg7XG4gICAgICAgIGNvbnN0IHNjYWxlWSA9IGhlaWdodCAvIGJhc2VIZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgcG9pbnRzID0gW1xuICAgICAgICAgICAgeyB4OiA0MDUsIHk6IDEwIH0sXG4gICAgICAgICAgICB7IHg6IDQ1NSwgeTogODUgfSxcbiAgICAgICAgICAgIHsgeDogNTE1LCB5OiAyMDAgfSxcbiAgICAgICAgICAgIHsgeDogNDg1LCB5OiAzNjAgfSxcbiAgICAgICAgICAgIHsgeDogMzc1LCB5OiA1NDAgfSxcbiAgICAgICAgICAgIHsgeDogMjUwLCB5OiA3NDAgfSxcbiAgICAgICAgICAgIHsgeDogMjIwLCB5OiA5MjAgfSxcbiAgICAgICAgICAgIHsgeDogMjcwLCB5OiAxMTAwIH0sXG4gICAgICAgICAgICB7IHg6IDMyNSwgeTogMTE4NSB9LFxuICAgICAgICAgICAgeyB4OiA1MDUsIHk6IDEzMjUgfVxuICAgICAgICBdLm1hcCgocCkgPT4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIocC54ICogc2NhbGVYLCBwLnkgKiBzY2FsZVkpKTtcblxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5DdXJ2ZXMuU3BsaW5lKHBvaW50cyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzYW1wbGVUcmFjayAoY3VydmU6IFBoYXNlci5DdXJ2ZXMuU3BsaW5lLCBjb3VudDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1bXSA9IFtdO1xuICAgICAgICBjb25zdCB0b3RhbCA9IE1hdGgubWF4KDEsIGNvdW50IC0gMSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRvdGFsID09PSAwID8gMCA6IGkgLyB0b3RhbDtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBjdXJ2ZS5nZXRQb2ludEF0KHQpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeyB4OiBwLngsIHk6IHAueSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd1RyYWNrQ3VydmUgKGN1cnZlOiBQaGFzZXIuQ3VydmVzLlNwbGluZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgc3RhcnRULCBlbmRUIH0gPSB0aGlzLmdldFZpc2libGVUUmFuZ2UoY3VydmUpO1xuICAgICAgICBjb25zdCBncmFwaGljcyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGdyYXBoaWNzLnNldERlcHRoKDEwMDApO1xuICAgICAgICBncmFwaGljcy5saW5lU3R5bGUoMTAsIDB4ZmYwMDAwLCAxKTtcbiAgICAgICAgY29uc3Qgc3RlcHMgPSAxMjA7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gY3VydmUuZ2V0UG9pbnQoc3RhcnRUKTtcbiAgICAgICAgZ3JhcGhpY3MuYmVnaW5QYXRoKCk7XG4gICAgICAgIGdyYXBoaWNzLm1vdmVUbyhmaXJzdC54LCBmaXJzdC55KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gc3RlcHM7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHN0YXJ0VCArIChlbmRUIC0gc3RhcnRUKSAqIChpIC8gc3RlcHMpO1xuICAgICAgICAgICAgY29uc3QgcCA9IGN1cnZlLmdldFBvaW50KHQpO1xuICAgICAgICAgICAgZ3JhcGhpY3MubGluZVRvKHAueCwgcC55KTtcbiAgICAgICAgfVxuICAgICAgICBncmFwaGljcy5zdHJva2VQYXRoKCk7XG4gICAgICAgIHRoaXMuZGVidWdDdXJ2ZUdyYXBoaWNzID0gZ3JhcGhpY3M7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3Q3VydmVNYXJrZXJzIChjdXJ2ZTogUGhhc2VyLkN1cnZlcy5TcGxpbmUsIGNvdW50OiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHsgc3RhcnRULCBlbmRUIH0gPSB0aGlzLmdldFZpc2libGVUUmFuZ2UoY3VydmUpO1xuICAgICAgICBjb25zdCBncmFwaGljcyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGdyYXBoaWNzLnNldERlcHRoKDEwMDEpO1xuICAgICAgICBncmFwaGljcy5maWxsU3R5bGUoMHgyMmM1NWUsIDEpO1xuICAgICAgICBncmFwaGljcy5saW5lU3R5bGUoMiwgMHgyMmM1NWUsIDEpO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMSwgY291bnQgLSAxKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdG90YWwgPT09IDAgPyBzdGFydFQgOiBzdGFydFQgKyAoZW5kVCAtIHN0YXJ0VCkgKiAoaSAvIHRvdGFsKTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gY3VydmUuZ2V0UG9pbnQodCk7XG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkWCA9IFBoYXNlci5NYXRoLkNsYW1wKHBvaW50LngsIDE2LCB3aWR0aCAtIDE2KTtcbiAgICAgICAgICAgIGNvbnN0IGNsYW1wZWRZID0gUGhhc2VyLk1hdGguQ2xhbXAocG9pbnQueSwgMTYsIGhlaWdodCAtIDE2KTtcbiAgICAgICAgICAgIGlmIChjbGFtcGVkWCAhPT0gcG9pbnQueCB8fCBjbGFtcGVkWSAhPT0gcG9pbnQueSkge1xuICAgICAgICAgICAgICAgIGdyYXBoaWNzLnN0cm9rZUxpbmVTaGFwZShuZXcgUGhhc2VyLkdlb20uTGluZShwb2ludC54LCBwb2ludC55LCBjbGFtcGVkWCwgY2xhbXBlZFkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JhcGhpY3MuZmlsbENpcmNsZShjbGFtcGVkWCwgY2xhbXBlZFksIDgpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxUZXh0ID0gYCR7aSArIDF9ICgke01hdGgucm91bmQocG9pbnQueCl9LCAke01hdGgucm91bmQocG9pbnQueSl9KWA7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuYWRkLnRleHQoY2xhbXBlZFggKyAxMCwgY2xhbXBlZFkgLSAxMCwgbGFiZWxUZXh0LCB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzIyYzU1ZScsXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiAnIzBmMTcyYScsXG4gICAgICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxhYmVsLnNldERlcHRoKDEwMDIpO1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z01hcmtlckxhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlYnVnTWFya2VyR3JhcGhpY3MgPSBncmFwaGljcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZpc2libGVUUmFuZ2UgKGN1cnZlOiBQaGFzZXIuQ3VydmVzLlNwbGluZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgbWFyZ2luID0gODtcbiAgICAgICAgY29uc3Qgc2FtcGxlcyA9IDQwMDtcbiAgICAgICAgbGV0IHN0YXJ0VCA9IDA7XG4gICAgICAgIGxldCBlbmRUID0gMTtcbiAgICAgICAgbGV0IGZvdW5kU3RhcnQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBzYW1wbGVzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBpIC8gc2FtcGxlcztcbiAgICAgICAgICAgIGNvbnN0IHAgPSBjdXJ2ZS5nZXRQb2ludCh0KTtcbiAgICAgICAgICAgIGNvbnN0IGluc2lkZSA9IHAueCA+PSBtYXJnaW4gJiYgcC54IDw9IHdpZHRoIC0gbWFyZ2luICYmIHAueSA+PSBtYXJnaW4gJiYgcC55IDw9IGhlaWdodCAtIG1hcmdpbjtcbiAgICAgICAgICAgIGlmIChpbnNpZGUgJiYgIWZvdW5kU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBzdGFydFQgPSB0O1xuICAgICAgICAgICAgICAgIGZvdW5kU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluc2lkZSkge1xuICAgICAgICAgICAgICAgIGVuZFQgPSB0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhcnRFeHRlbmQgPSAwLjA7XG4gICAgICAgIGNvbnN0IGVuZEV4dGVuZCA9IDAuMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0VDogTWF0aC5tYXgoMCwgc3RhcnRUIC0gc3RhcnRFeHRlbmQpLFxuICAgICAgICAgICAgZW5kVDogTWF0aC5taW4oMSwgZW5kVCArIGVuZEV4dGVuZClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRyYWNrQW5nbGUgKHBvaW50czogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9W10sIGluZGV4OiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBjdXJyID0gcG9pbnRzW2luZGV4XTtcbiAgICAgICAgY29uc3QgbmV4dCA9IHBvaW50c1tpbmRleCArIDFdID8/IHBvaW50c1tpbmRleCAtIDFdID8/IGN1cnI7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihuZXh0LnkgLSBjdXJyLnksIG5leHQueCAtIGN1cnIueCk7XG4gICAgICAgIHJldHVybiBhbmdsZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkUmFpbFBhdGggKHNwbGluZTogUGhhc2VyLkN1cnZlcy5TcGxpbmUpXG4gICAge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBzcGxpbmUuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIGNvbnN0IHNhbXBsZUV2ZXJ5UHggPSAyMDtcbiAgICAgICAgY29uc3Qgc2FtcGxlcyA9IE1hdGgubWF4KDYwLCBNYXRoLnJvdW5kKGxlbmd0aCAvIHNhbXBsZUV2ZXJ5UHgpKTtcbiAgICAgICAgY29uc3QgcG9pbnRzOiBQaGFzZXIuTWF0aC5WZWN0b3IyW10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBzYW1wbGVzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBpIC8gc2FtcGxlcztcbiAgICAgICAgICAgIGNvbnN0IHAgPSBzcGxpbmUuZ2V0UG9pbnRBdCh0KTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHAueCwgcC55KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRoaXMucmFpbFBhdGhQb2ludHMgPSBwb2ludHM7XG4gICAgICAgICAgICB0aGlzLnJhaWxTZWdtZW50TGVuZ3RocyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5yYWlsVG90YWxMZW5ndGggPSAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VnbWVudHM6IG51bWJlcltdID0gW107XG4gICAgICAgIGxldCB0b3RhbCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC0gMTsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICBjb25zdCBzZWdMZW4gPSBQaGFzZXIuTWF0aC5EaXN0YW5jZS5CZXR3ZWVuKGN1cnIueCwgY3Vyci55LCBuZXh0LngsIG5leHQueSk7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKHNlZ0xlbik7XG4gICAgICAgICAgICB0b3RhbCArPSBzZWdMZW47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJhaWxQYXRoUG9pbnRzID0gcG9pbnRzO1xuICAgICAgICB0aGlzLnJhaWxTZWdtZW50TGVuZ3RocyA9IHNlZ21lbnRzO1xuICAgICAgICB0aGlzLnJhaWxUb3RhbExlbmd0aCA9IHRvdGFsO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2FtcGxlUmFpbEJ5RGlzdGFuY2VOb1dyYXAgKGRpc3RhbmNlUHg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJhaWxQYXRoUG9pbnRzLmxlbmd0aCA8IDIgfHwgdGhpcy5yYWlsVG90YWxMZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoMCwgMCksXG4gICAgICAgICAgICAgICAgYW5nbGU6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b3RhbCA9IHRoaXMucmFpbFRvdGFsTGVuZ3RoO1xuICAgICAgICBpZiAoZGlzdGFuY2VQeCA8PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMucmFpbFBhdGhQb2ludHNbMF07XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5yYWlsUGF0aFBvaW50c1sxXTtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihuZXh0LnkgLSBzdGFydC55LCBuZXh0LnggLSBzdGFydC54KTtcbiAgICAgICAgICAgIGNvbnN0IGRpciA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKE1hdGguY29zKGFuZ2xlKSwgTWF0aC5zaW4oYW5nbGUpKTtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHN0YXJ0LngsIHN0YXJ0LnkpLmFkZChkaXIuc2NhbGUoZGlzdGFuY2VQeCkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgcG9zaXRpb246IHBvcywgYW5nbGUgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzdGFuY2VQeCA+PSB0b3RhbCkge1xuICAgICAgICAgICAgY29uc3QgZW5kID0gdGhpcy5yYWlsUGF0aFBvaW50c1t0aGlzLnJhaWxQYXRoUG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IHRoaXMucmFpbFBhdGhQb2ludHNbdGhpcy5yYWlsUGF0aFBvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihlbmQueSAtIHByZXYueSwgZW5kLnggLSBwcmV2LngpO1xuICAgICAgICAgICAgY29uc3QgZGlyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoTWF0aC5jb3MoYW5nbGUpLCBNYXRoLnNpbihhbmdsZSkpO1xuICAgICAgICAgICAgY29uc3QgcG9zID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoZW5kLngsIGVuZC55KS5hZGQoZGlyLnNjYWxlKGRpc3RhbmNlUHggLSB0b3RhbCkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgcG9zaXRpb246IHBvcywgYW5nbGUgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZW1haW5pbmcgPSBkaXN0YW5jZVB4O1xuICAgICAgICBsZXQgc2VnSW5kZXggPSAwO1xuXG4gICAgICAgIHdoaWxlIChzZWdJbmRleCA8IHRoaXMucmFpbFNlZ21lbnRMZW5ndGhzLmxlbmd0aCAmJiByZW1haW5pbmcgPiB0aGlzLnJhaWxTZWdtZW50TGVuZ3Roc1tzZWdJbmRleF0pIHtcbiAgICAgICAgICAgIHJlbWFpbmluZyAtPSB0aGlzLnJhaWxTZWdtZW50TGVuZ3Roc1tzZWdJbmRleF07XG4gICAgICAgICAgICBzZWdJbmRleCArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2FmZUluZGV4ID0gTWF0aC5taW4oc2VnSW5kZXgsIHRoaXMucmFpbFBhdGhQb2ludHMubGVuZ3RoIC0gMik7XG4gICAgICAgIGNvbnN0IGN1cnIgPSB0aGlzLnJhaWxQYXRoUG9pbnRzW3NhZmVJbmRleF07XG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLnJhaWxQYXRoUG9pbnRzW3NhZmVJbmRleCArIDFdO1xuICAgICAgICBjb25zdCBzZWdMZW4gPSB0aGlzLnJhaWxTZWdtZW50TGVuZ3Roc1tzYWZlSW5kZXhdIHx8IDE7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gUGhhc2VyLk1hdGguQ2xhbXAocmVtYWluaW5nIC8gc2VnTGVuLCAwLCAxKTtcblxuICAgICAgICBjb25zdCB4ID0gUGhhc2VyLk1hdGguTGluZWFyKGN1cnIueCwgbmV4dC54LCByYXRpbyk7XG4gICAgICAgIGNvbnN0IHkgPSBQaGFzZXIuTWF0aC5MaW5lYXIoY3Vyci55LCBuZXh0LnksIHJhdGlvKTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKG5leHQueSAtIGN1cnIueSwgbmV4dC54IC0gY3Vyci54KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLFxuICAgICAgICAgICAgYW5nbGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVJhaWx3YXkgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3Qgc3BsaW5lID0gdGhpcy5jcmVhdGVUcmFja0N1cnZlKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLnRyYWNrU3BsaW5lID0gc3BsaW5lO1xuICAgICAgICB0aGlzLnRyYWNrTGVuZ3RoID0gc3BsaW5lLmdldExlbmd0aCgpO1xuICAgICAgICB0aGlzLmJ1aWxkUmFpbFBhdGgoc3BsaW5lKTtcblxuICAgICAgICBjb25zdCBiYXNlU2NhbGUgPSBNYXRoLm1pbih3aWR0aCAvIDc1MCwgaGVpZ2h0IC8gMTMzNCk7XG4gICAgICAgIGNvbnN0IHJhaWxPZmZzZXQgPSAxOCAqIGJhc2VTY2FsZTtcbiAgICAgICAgY29uc3Qgc2xlZXBlcldpZHRoID0gcmFpbE9mZnNldCAqIDEuODtcbiAgICAgICAgY29uc3Qgc2xlZXBlckhlaWdodCA9IDcgKiBiYXNlU2NhbGU7XG5cbiAgICAgICAgY29uc3QgcmFpbHdheUNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgdGhpcy5yYWlsd2F5Q29udGFpbmVyID0gcmFpbHdheUNvbnRhaW5lcjtcblxuICAgICAgICBjb25zdCByYWlsTGVmdDogUGhhc2VyLk1hdGguVmVjdG9yMltdID0gW107XG4gICAgICAgIGNvbnN0IHJhaWxSaWdodDogUGhhc2VyLk1hdGguVmVjdG9yMltdID0gW107XG5cbiAgICAgICAgY29uc3Qgc2FtcGxlcyA9IDE0MDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2FtcGxlczsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gaSAvIHNhbXBsZXM7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHNwbGluZS5nZXRQb2ludCh0KTtcbiAgICAgICAgICAgIGNvbnN0IHRhbmdlbnQgPSBzcGxpbmUuZ2V0VGFuZ2VudCh0KS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbCA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKC10YW5nZW50LnksIHRhbmdlbnQueCkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByYWlsTGVmdC5wdXNoKG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKFxuICAgICAgICAgICAgICAgIHBvaW50LnggKyBub3JtYWwueCAqIHJhaWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgcG9pbnQueSArIG5vcm1hbC55ICogcmFpbE9mZnNldFxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICByYWlsUmlnaHQucHVzaChuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihcbiAgICAgICAgICAgICAgICBwb2ludC54IC0gbm9ybWFsLnggKiByYWlsT2Zmc2V0LFxuICAgICAgICAgICAgICAgIHBvaW50LnkgLSBub3JtYWwueSAqIHJhaWxPZmZzZXRcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmFpbHMgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICByYWlscy5saW5lU3R5bGUoOCAqIGJhc2VTY2FsZSwgMHhmOGZhZmMsIDEpO1xuICAgICAgICByYWlscy5iZWdpblBhdGgoKTtcbiAgICAgICAgcmFpbHMubW92ZVRvKHJhaWxMZWZ0WzBdLngsIHJhaWxMZWZ0WzBdLnkpO1xuICAgICAgICByYWlsTGVmdC5mb3JFYWNoKChwKSA9PiByYWlscy5saW5lVG8ocC54LCBwLnkpKTtcbiAgICAgICAgcmFpbHMuc3Ryb2tlUGF0aCgpO1xuXG4gICAgICAgIHJhaWxzLmJlZ2luUGF0aCgpO1xuICAgICAgICByYWlscy5tb3ZlVG8ocmFpbFJpZ2h0WzBdLngsIHJhaWxSaWdodFswXS55KTtcbiAgICAgICAgcmFpbFJpZ2h0LmZvckVhY2goKHApID0+IHJhaWxzLmxpbmVUbyhwLngsIHAueSkpO1xuICAgICAgICByYWlscy5zdHJva2VQYXRoKCk7XG4gICAgICAgIHJhaWxzLnNldERlcHRoKDUpO1xuICAgICAgICByYWlsd2F5Q29udGFpbmVyLmFkZChyYWlscyk7XG5cbiAgICAgICAgY29uc3Qgc2xlZXBlckNvdW50ID0gMjg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHNsZWVwZXJDb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gaSAvIHNsZWVwZXJDb3VudDtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gc3BsaW5lLmdldFBvaW50KHQpO1xuICAgICAgICAgICAgY29uc3QgdGFuZ2VudCA9IHNwbGluZS5nZXRUYW5nZW50KHQpLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHRhbmdlbnQueSwgdGFuZ2VudC54KSArIE1hdGguUEkgLyAyO1xuICAgICAgICAgICAgY29uc3Qgc2xlZXBlciA9IHRoaXMuYWRkLnJlY3RhbmdsZShwb2ludC54LCBwb2ludC55LCBzbGVlcGVyV2lkdGgsIHNsZWVwZXJIZWlnaHQsIDB4YjQ1MzA5LCAwLjk1KTtcbiAgICAgICAgICAgIHNsZWVwZXIuc2V0Um90YXRpb24oYW5nbGUpO1xuICAgICAgICAgICAgc2xlZXBlci5zZXREZXB0aCg0KTtcbiAgICAgICAgICAgIHJhaWx3YXlDb250YWluZXIuYWRkKHNsZWVwZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGVidWdUcmFjaykge1xuICAgICAgICAgICAgdGhpcy5kcmF3VHJhY2tDdXJ2ZShzcGxpbmUpO1xuICAgICAgICAgICAgdGhpcy5kcmF3Q3VydmVNYXJrZXJzKHNwbGluZSwgMTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRSYWlsd2F5VmlzaWJsZSh0aGlzLnNob3dSYWlsT3ZlcmxheSk7XG4gICAgICAgIHRoaXMuc2V0RGVidWdUcmFja1Zpc2libGUodGhpcy5kZWJ1Z1RyYWNrKTtcblxuICAgICAgICB0aGlzLnRyYWluRGlzdGFuY2VQeCA9IDA7XG4gICAgICAgIGlmICh0aGlzLnRyYWluU3RlcFB4IDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMudHJhaW5TdGVwUHggPSB0aGlzLnJhaWxUb3RhbExlbmd0aCA+IDEgPyAodGhpcy5yYWlsVG90YWxMZW5ndGggLSAxKSAvIHRoaXMubWF4Q2FycyA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZyZXNoTG9ja3MoKTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFpbkNhcnModHJ1ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVCYXJyaWVyR2F0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmVzLmV4aXN0cygndHJhaW4tYmFycmllcicpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGdhdGUgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAndHJhaW4tYmFycmllcicpO1xuICAgICAgICBnYXRlLnNldERlcHRoKDYpO1xuICAgICAgICBnYXRlLnNldE9yaWdpbigwLjA4LCAwLjUpO1xuICAgICAgICB0aGlzLmJhcnJpZXJHYXRlID0gZ2F0ZTtcbiAgICAgICAgdGhpcy51cGRhdGVCYXJyaWVyUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5zZXRCYXJyaWVyT3BlbihmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVCYXJyaWVyUG9zaXRpb24gKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5iYXJyaWVyR2F0ZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBiYXNlV2lkdGggPSA3NTA7XG4gICAgICAgIGNvbnN0IGJhc2VIZWlnaHQgPSAxMzM0O1xuICAgICAgICBjb25zdCBzY2FsZVggPSB0aGlzLnNjYWxlLndpZHRoIC8gYmFzZVdpZHRoO1xuICAgICAgICBjb25zdCBzY2FsZVkgPSB0aGlzLnNjYWxlLmhlaWdodCAvIGJhc2VIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGJhc2VYID0gMzU1O1xuICAgICAgICBjb25zdCBiYXNlWSA9IDIzMDtcbiAgICAgICAgdGhpcy5iYXJyaWVyR2F0ZS5zZXRQb3NpdGlvbihiYXNlWCAqIHNjYWxlWCwgYmFzZVkgKiBzY2FsZVkpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSAqIDAuMzU7XG4gICAgICAgIHRoaXMuYmFycmllckdhdGUuc2V0U2NhbGUoc2NhbGUpO1xuICAgICAgICB0aGlzLmJhcnJpZXJCYXNlQW5nbGUgPSAwO1xuICAgICAgICBjb25zdCB0YXJnZXRBbmdsZSA9IHRoaXMuYmFycmllcklzT3BlbiA/IHRoaXMuYmFycmllckJhc2VBbmdsZSAtIFBoYXNlci5NYXRoLkRlZ1RvUmFkKDQ1KSA6IHRoaXMuYmFycmllckJhc2VBbmdsZTtcbiAgICAgICAgdGhpcy5iYXJyaWVyR2F0ZS5zZXRSb3RhdGlvbih0YXJnZXRBbmdsZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRCYXJyaWVyT3BlbiAob3BlbjogYm9vbGVhbiwgaW1tZWRpYXRlOiBib29sZWFuID0gZmFsc2UpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuYmFycmllckdhdGUpIHJldHVybjtcbiAgICAgICAgdGhpcy5iYXJyaWVySXNPcGVuID0gb3BlbjtcbiAgICAgICAgY29uc3QgdGFyZ2V0QW5nbGUgPSBvcGVuXG4gICAgICAgICAgICA/IHRoaXMuYmFycmllckJhc2VBbmdsZSAtIFBoYXNlci5NYXRoLkRlZ1RvUmFkKDQ1KVxuICAgICAgICAgICAgOiB0aGlzLmJhcnJpZXJCYXNlQW5nbGU7XG4gICAgICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFycmllckdhdGUuc2V0Um90YXRpb24odGFyZ2V0QW5nbGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmJhcnJpZXJHYXRlLFxuICAgICAgICAgICAgcm90YXRpb246IHRhcmdldEFuZ2xlLFxuICAgICAgICAgICAgZHVyYXRpb246IDIyMCxcbiAgICAgICAgICAgIGVhc2U6ICdTaW5lLmVhc2VJbk91dCdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVUcmFpbkNhcnMgKGZvcmNlOiBib29sZWFuID0gZmFsc2UpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2hvd0NhcnMpIHJldHVybjtcbiAgICAgICAgaWYgKCFmb3JjZSAmJiAhdGhpcy50cmFpbk1vdmluZykgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5yYWlsVG90YWxMZW5ndGggPD0gMCkgcmV0dXJuO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXJTbG90cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuY2FyU2xvdHNbaV07XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZUZyb21Cb3R0b20gPSB0aGlzLnRyYWluRGlzdGFuY2VQeCAtIGkgKiB0aGlzLnRyYWluR2FwUHg7XG4gICAgICAgICAgICBjb25zdCBtYXBwZWREaXN0YW5jZSA9IE1hdGgubWF4KDAsIHRoaXMucmFpbFRvdGFsTGVuZ3RoIC0gMSkgLSBkaXN0YW5jZUZyb21Cb3R0b207XG4gICAgICAgICAgICBjb25zdCBzYW1wbGUgPSB0aGlzLnNhbXBsZVJhaWxCeURpc3RhbmNlTm9XcmFwKG1hcHBlZERpc3RhbmNlKTtcbiAgICAgICAgICAgIHNsb3QuY2FyLnNldFBvc2l0aW9uKHNhbXBsZS5wb3NpdGlvbi54LCBzYW1wbGUucG9zaXRpb24ueSk7XG4gICAgICAgICAgICBzbG90LmNhci5zZXRSb3RhdGlvbihzYW1wbGUuYW5nbGUgKyB0aGlzLnRyYWluUm90YXRpb25PZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGVhZENhciA9IHRoaXMuY2FyU2xvdHNbMF0/LmNhcjtcbiAgICAgICAgaWYgKGxlYWRDYXIgJiYgdGhpcy5sZWFkQ2FyQmFkZ2UgJiYgdGhpcy5sZWFkQ2FyQmFkZ2Uuc2NlbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFggPSAtbGVhZENhci5kaXNwbGF5V2lkdGggKiAwLjM0O1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IC1sZWFkQ2FyLmRpc3BsYXlIZWlnaHQgKiAwLjA4O1xuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSBsZWFkQ2FyLnJvdGF0aW9uO1xuICAgICAgICAgICAgY29uc3Qgd29ybGRYID0gbGVhZENhci54ICsgTWF0aC5jb3Mocm90YXRpb24pICogb2Zmc2V0WCAtIE1hdGguc2luKHJvdGF0aW9uKSAqIG9mZnNldFk7XG4gICAgICAgICAgICBjb25zdCB3b3JsZFkgPSBsZWFkQ2FyLnkgKyBNYXRoLnNpbihyb3RhdGlvbikgKiBvZmZzZXRYICsgTWF0aC5jb3Mocm90YXRpb24pICogb2Zmc2V0WTtcbiAgICAgICAgICAgIHRoaXMubGVhZENhckJhZGdlLnNldFBvc2l0aW9uKHdvcmxkWCwgd29ybGRZKTtcbiAgICAgICAgICAgIHRoaXMubGVhZENhckJhZGdlLnNldFJvdGF0aW9uKHJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0U2hvd0NhcnMgKHZhbHVlOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaG93Q2FycyA9IHZhbHVlO1xuICAgICAgICB0aGlzLmNhclNsb3RzLmZvckVhY2goKHNsb3QpID0+IHtcbiAgICAgICAgICAgIHNsb3QuY2FyLnNldFZpc2libGUodmFsdWUpO1xuICAgICAgICAgICAgc2xvdC5sb2NrLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMubGVhZENhckJhZGdlKSB7XG4gICAgICAgICAgICB0aGlzLmxlYWRDYXJCYWRnZS5zZXRWaXNpYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaExvY2tzKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYWluQ2Fycyh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0UmFpbHdheVZpc2libGUgKHZhbHVlOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmFpbHdheUNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5yYWlsd2F5Q29udGFpbmVyLnNldFZpc2libGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlYnVnQ3VydmVHcmFwaGljcykge1xuICAgICAgICAgICAgdGhpcy5kZWJ1Z0N1cnZlR3JhcGhpY3Muc2V0VmlzaWJsZSh2YWx1ZSAmJiB0aGlzLmRlYnVnVHJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlYnVnTWFya2VyR3JhcGhpY3MpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWdNYXJrZXJHcmFwaGljcy5zZXRWaXNpYmxlKHZhbHVlICYmIHRoaXMuZGVidWdUcmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1Z01hcmtlckxhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4gbGFiZWwuc2V0VmlzaWJsZSh2YWx1ZSAmJiB0aGlzLmRlYnVnVHJhY2spKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzUmFpbHdheVZpc2libGUgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhaWx3YXlDb250YWluZXI/LnZpc2libGUgPz8gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldERlYnVnVHJhY2tWaXNpYmxlICh2YWx1ZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIHRoaXMuZGVidWdUcmFjayA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5kZWJ1Z0N1cnZlR3JhcGhpY3MpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWdDdXJ2ZUdyYXBoaWNzLnNldFZpc2libGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlYnVnTWFya2VyR3JhcGhpY3MpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWdNYXJrZXJHcmFwaGljcy5zZXRWaXNpYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlYnVnTWFya2VyTGFiZWxzLmZvckVhY2goKGxhYmVsKSA9PiBsYWJlbC5zZXRWaXNpYmxlKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRUcmFpbk1vdmluZyAodmFsdWU6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICB0aGlzLnRyYWluTW92aW5nID0gdmFsdWU7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhaW5DYXJzKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbmRHYW1lIChyZWFzb246IHN0cmluZywgcmVzdWx0OiAnd2luJyB8ICdsb3NlJylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVPdmVyKSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnF1aXpPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbG9zZVF1aXooKTtcbiAgICAgICAgdGhpcy5zdWJtaXRTZXNzaW9uUmVzdWx0KCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gJ2xvc2UnKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5UaW1lVXBNb2RhbCgnT3V0IG9mIHRpbWUhIFRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wZW5UaW1lVXBNb2RhbChyZWFzb24gfHwgJ0dyZWF0IGpvYiEgWW91IHdvbiEnKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdFRpbWUgKHNlY29uZHM6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgICAgIGNvbnN0IHNlY3MgPSBzZWNvbmRzICUgNjA7XG4gICAgICAgIHJldHVybiBgJHttaW5zfW0gJHtzZWNzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1zYDtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiU2NlbmUiLCJFdmVudEJ1cyIsImdldEdhbWVDb25maWciLCJyZXNvbHZlR2FtZUNvZGUiLCJRdWl6UGFuZWwiLCJGQUxMQkFDS19RVUVTVElPTlMiLCJxdWVzdGlvbiIsImNvbnRlbnQiLCJvcHRpb25zIiwidGV4dCIsImlzX2NvcnJlY3QiLCJUcmFpbkdhbWUiLCJpbml0IiwiZGF0YSIsImdhbWVDb2RlIiwicmVnaXN0cnkiLCJnZXQiLCJzZXQiLCJzZXNzaW9uSWQiLCJzZXNzaW9uR2FtZUlkIiwiZ2FtZUlkIiwic2Vzc2lvblF1ZXN0aW9ucyIsInF1ZXN0aW9ucyIsInNlc3Npb25UaW1lTGltaXQiLCJ0aW1lTGltaXQiLCJjcmVhdGUiLCJ3aWR0aCIsImhlaWdodCIsInNjYWxlIiwiZ2FtZUNvbmZpZyIsImdhbWVPdmVyIiwicXVpek9wZW4iLCJxdWl6TG9ja2VkIiwic3RhcnRNb2RhbE9wZW4iLCJoYXNTdGFydGVkIiwiY3VycmVudFNlc3Npb25RdWVzdGlvbklkIiwiY3VycmVudE9wdGlvbklkcyIsImxlYWRDYXJTdGF0ZSIsImJhcnJpZXJJc09wZW4iLCJjYXJTbG90cyIsImxlYWRDYXJCYWRnZSIsInVuZGVmaW5lZCIsImNhbWVyYSIsImNhbWVyYXMiLCJtYWluIiwic2V0QmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZCIsImFkZCIsImltYWdlIiwic2V0RGlzcGxheVNpemUiLCJzZXRPcmlnaW4iLCJzZXR1cFF1ZXN0aW9ucyIsInNldHVwVGltZXIiLCJjcmVhdGVIdWQiLCJjdXJyZW50SW5kZXgiLCJzY29yZSIsImNyZWF0ZVJhaWx3YXkiLCJzaG93Q2FycyIsImxheW91dFRyYWluIiwidXBkYXRlVHJhaW5DYXJzIiwiY3JlYXRlQmFycmllckdhdGUiLCJjcmVhdGVRdWl6TW9kYWwiLCJjcmVhdGVTdGFydE1vZGFsIiwiY3JlYXRlVGltZVVwTW9kYWwiLCJvcGVuU3RhcnRNb2RhbCIsIm9uIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJzZXRQb3NpdGlvbiIsImxheW91dEh1ZCIsImxheW91dFF1aXoiLCJ1cGRhdGVCYXJyaWVyUG9zaXRpb24iLCJsYXlvdXRTdGFydE1vZGFsIiwibGF5b3V0VGltZVVwTW9kYWwiLCJlbWl0IiwidXBkYXRlIiwiX3RpbWUiLCJkZWx0YSIsInJlbWFpbmluZ01zIiwiTWF0aCIsIm1heCIsInNlY29uZHMiLCJjZWlsIiwibGFzdFNlY29uZFNob3duIiwidGltZXJUZXh0Iiwic2V0VGV4dCIsImZvcm1hdFRpbWUiLCJlbmRHYW1lIiwic291cmNlIiwibGVuZ3RoIiwic2xpY2UiLCJ0b3RhbFRpbWVNcyIsInVpUm9vdCIsImNvbnRhaW5lciIsInNldERlcHRoIiwiaHVkQmFja0J1dHRvbiIsImJhY2tCZyIsImdyYXBoaWNzIiwiZmlsbFN0eWxlIiwiZmlsbFJvdW5kZWRSZWN0IiwibGluZVN0eWxlIiwic3Ryb2tlUm91bmRlZFJlY3QiLCJiYWNrSWNvbiIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImNvbG9yIiwiYmFja0hpdCIsInpvbmUiLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJoYW5kbGVCYWNrVG9HYW1lTGlzdCIsInNldFNpemUiLCJodWRQb2ludHNQaWxsIiwicG9pbnRzQmciLCJwb2ludHNXIiwicG9pbnRzSCIsInN0YXIiLCJzZXRTY2FsZSIsInNldFRpbnQiLCJzY29yZVRleHQiLCJodWRUaW1lclBpbGwiLCJ0aW1lckJnIiwidGltZXJXIiwidGltZXJIIiwiY3JlYXRlVHJhZmZpY0xpZ2h0IiwidG9wSW5zZXQiLCJyb3VuZCIsInNpZGVJbnNldCIsInJpZ2h0RWRnZSIsInNob3VsZExlYXZlIiwid2luZG93IiwiY29uZmlybSIsImxvY2F0aW9uIiwiaHJlZiIsImxpZ2h0SGVpZ2h0Iiwic291cmNlSGVpZ2h0Iiwic291cmNlV2lkdGgiLCJsaWdodFdpZHRoIiwiYmFzZVgiLCJiYXNlWSIsImFuY2hvclkiLCJtYWtlVmFyaWFudCIsImtleSIsInNldEFscGhhIiwib2Zmc2V0cyIsInJlZCIsIngiLCJ5IiwieWVsbG93IiwiZ3JlZW4iLCJ0ZXh0dXJlcyIsImV4aXN0cyIsInJlY3RhbmdsZSIsIm5vcm1hbGl6ZSIsIm9iaiIsInRyYWZmaWNMaWdodFZhcmlhbnRzIiwidHJhZmZpY0xpZ2h0IiwiY3ljbGUiLCJjeWNsZUluZGV4Iiwic2V0VHJhZmZpY0xpZ2h0Q29sb3IiLCJ0aW1lIiwiYWRkRXZlbnQiLCJkZWxheSIsImxvb3AiLCJjYWxsYmFjayIsInRyYWZmaWNMaWdodFN0YXRlIiwic2V0VmlzaWJsZSIsInNjYWxlWCIsImRpc3BsYXlXaWR0aCIsInNjYWxlWSIsImRpc3BsYXlIZWlnaHQiLCJtaW4iLCJ0cmFpbkNhclNjYWxlRmFjdG9yIiwidHJhY2tDdXJ2ZSIsImNyZWF0ZVRyYWNrQ3VydmUiLCJ0cmFja1BvaW50cyIsInNhbXBsZVRyYWNrIiwibWF4Q2FycyIsImkiLCJjYXJLZXkiLCJwb2ludCIsImFuZ2xlIiwiZ2V0VHJhY2tBbmdsZSIsInRyYWluUm90YXRpb25PZmZzZXQiLCJjYXIiLCJzZXRSb3RhdGlvbiIsImxvY2siLCJjcmVhdGVMb2NrT3ZlcmxheSIsImRpc2FibGVJbnRlcmFjdGl2ZSIsInB1c2giLCJpbmRleCIsInJlZmVyZW5jZUNhciIsImNhckxlbmd0aCIsInRyYWluR2FwUHgiLCJ0cmFpbkNhckdhcEZhY3RvciIsInRyYWluU3RlcFB4IiwibGVhZENhckJhc2VTaXplIiwic2V0VGV4dHVyZSIsInNldExlYWRDYXJTdGF0ZSIsInJlZnJlc2hMb2NrcyIsImdldExlYWRDYXJUZXh0dXJlS2V5Iiwic3RhdGUiLCJsZWFkQ2FyIiwic2NlbmUiLCJ0ZXh0dXJlIiwidGV4dHVyZUtleSIsImRlcHRoIiwicGFuZWxXIiwicGFuZWxIIiwiYmciLCJzZXRTdHJva2VTdHlsZSIsImhpdEFyZWEiLCJQaGFzZXIiLCJHZW9tIiwiUmVjdGFuZ2xlIiwiQ29udGFpbnMiLCJzZXREYXRhIiwic2V0RmlsbFN0eWxlIiwiaW5wdXQiLCJzZXREZWZhdWx0Q3Vyc29yIiwib3BlblF1ZXN0aW9uIiwiZm9yRWFjaCIsInNsb3QiLCJwb2ludHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwicXVpelBhbmVsIiwib3B0aW9uQ291bnQiLCJwYXJlbnQiLCJzaG93SW5kZXgiLCJxdWl6TW9kYWwiLCJvbk9wdGlvblNlbGVjdGVkIiwiaGFuZGxlQW5zd2VyIiwib3ZlcmxheSIsInBhbmVsIiwicGFuZWxXaWR0aCIsInBhbmVsSGVpZ2h0IiwicGFuZWxTaGFkb3ciLCJwYW5lbEJnIiwidGl0bGUiLCJhbGlnbiIsImxpbmVTcGFjaW5nIiwiYnV0dG9uIiwiY3JlYXRlU3RhcnRCdXR0b24iLCJzdGFydE1vZGFsIiwic3RhcnRNb2RhbFBhbmVsIiwidGltZVVwVGl0bGVUZXh0IiwiY3JlYXRlVGltZW91dEJ1dHRvbiIsInRpbWVVcE1vZGFsIiwidGltZVVwTW9kYWxQYW5lbCIsImxpc3QiLCJyYWRpdXMiLCJzaGFkb3ciLCJkcmF3IiwiZmlsbCIsInN0cm9rZSIsImNsZWFyIiwiaGl0IiwidHdlZW5zIiwidGFyZ2V0cyIsImR1cmF0aW9uIiwiZWFzZSIsInN0YXJ0R2FtZUZsb3ciLCJ5b3lvIiwicmVwZWF0IiwiZ2V0RGF0YSIsImRlbGF5ZWRDYWxsIiwic3lzIiwiaXNBY3RpdmUiLCJyZXN0YXJ0VHJhaW5SdW4iLCJhbHBoYSIsImNsb3NlU3RhcnRNb2RhbCIsIm9wZW5UaW1lVXBNb2RhbCIsIm1lc3NhZ2UiLCJzdWJtaXRTZXNzaW9uUmVzdWx0IiwidGhlbiIsImVuZEdhbWVTZXNzaW9uIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJjbG9zZVF1aXoiLCJyZXN0YXJ0IiwibGF5b3V0IiwiZ2V0UXVlc3Rpb25Gb3JJbmRleCIsIm1hcCIsIm9wdCIsImlkIiwic2Vzc2lvbl9xdWVzdGlvbl9pZCIsImNvcnJlY3RJbmRleCIsImZpbmRJbmRleCIsImN1cnJlbnRDb3JyZWN0SW5kZXgiLCJzZXRGZWVkYmFjayIsInNldFF1ZXN0aW9uIiwidG90YWwiLCJzZXRCYXJyaWVyT3BlbiIsInNlbGVjdGVkSW5kZXgiLCJpc0NvcnJlY3QiLCJzZWxlY3RlZE9wdGlvbklkIiwic3VibWl0QW5zd2VyIiwicmVzIiwic2V0T3B0aW9uU3RhdGUiLCJhcHBseUNvcnJlY3QiLCJhcHBseVdyb25nIiwibW92ZVRyYWluVG9FbmQiLCJtb3ZlVHJhaW5Ub0luZGV4IiwidGFyZ2V0SW5kZXgiLCJvbkNvbXBsZXRlIiwicmFpbFRvdGFsTGVuZ3RoIiwidmlzdWFsSW5kZXgiLCJDbGFtcCIsIm1heERpc3RhbmNlIiwidGFyZ2V0RGlzdGFuY2UiLCJhYnMiLCJ0cmFpbkRpc3RhbmNlUHgiLCJ0cmFpbk1vdmluZyIsInR3ZWVuU3RhdGUiLCJ2YWx1ZSIsIm9uVXBkYXRlIiwidHJhaW5MZW5ndGgiLCJiYXNlV2lkdGgiLCJiYXNlSGVpZ2h0IiwicCIsIlZlY3RvcjIiLCJDdXJ2ZXMiLCJTcGxpbmUiLCJjdXJ2ZSIsImNvdW50IiwidCIsImdldFBvaW50QXQiLCJkcmF3VHJhY2tDdXJ2ZSIsInN0YXJ0VCIsImVuZFQiLCJnZXRWaXNpYmxlVFJhbmdlIiwic3RlcHMiLCJmaXJzdCIsImdldFBvaW50IiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlUGF0aCIsImRlYnVnQ3VydmVHcmFwaGljcyIsImRyYXdDdXJ2ZU1hcmtlcnMiLCJjbGFtcGVkWCIsImNsYW1wZWRZIiwic3Ryb2tlTGluZVNoYXBlIiwiTGluZSIsImZpbGxDaXJjbGUiLCJsYWJlbFRleHQiLCJsYWJlbCIsInN0cm9rZVRoaWNrbmVzcyIsImRlYnVnTWFya2VyTGFiZWxzIiwiZGVidWdNYXJrZXJHcmFwaGljcyIsIm1hcmdpbiIsInNhbXBsZXMiLCJmb3VuZFN0YXJ0IiwiaW5zaWRlIiwic3RhcnRFeHRlbmQiLCJlbmRFeHRlbmQiLCJjdXJyIiwibmV4dCIsImF0YW4yIiwiYnVpbGRSYWlsUGF0aCIsInNwbGluZSIsImdldExlbmd0aCIsInNhbXBsZUV2ZXJ5UHgiLCJyYWlsUGF0aFBvaW50cyIsInJhaWxTZWdtZW50TGVuZ3RocyIsInNlZ21lbnRzIiwic2VnTGVuIiwiRGlzdGFuY2UiLCJCZXR3ZWVuIiwic2FtcGxlUmFpbEJ5RGlzdGFuY2VOb1dyYXAiLCJkaXN0YW5jZVB4IiwicG9zaXRpb24iLCJzdGFydCIsImRpciIsImNvcyIsInNpbiIsInBvcyIsImVuZCIsInByZXYiLCJyZW1haW5pbmciLCJzZWdJbmRleCIsInNhZmVJbmRleCIsInJhdGlvIiwiTGluZWFyIiwidHJhY2tTcGxpbmUiLCJ0cmFja0xlbmd0aCIsImJhc2VTY2FsZSIsInJhaWxPZmZzZXQiLCJzbGVlcGVyV2lkdGgiLCJzbGVlcGVySGVpZ2h0IiwicmFpbHdheUNvbnRhaW5lciIsInJhaWxMZWZ0IiwicmFpbFJpZ2h0IiwidGFuZ2VudCIsImdldFRhbmdlbnQiLCJub3JtYWwiLCJyYWlscyIsInNsZWVwZXJDb3VudCIsIlBJIiwic2xlZXBlciIsImRlYnVnVHJhY2siLCJzZXRSYWlsd2F5VmlzaWJsZSIsInNob3dSYWlsT3ZlcmxheSIsInNldERlYnVnVHJhY2tWaXNpYmxlIiwiZ2F0ZSIsImJhcnJpZXJHYXRlIiwiYmFycmllckJhc2VBbmdsZSIsInRhcmdldEFuZ2xlIiwiRGVnVG9SYWQiLCJvcGVuIiwiaW1tZWRpYXRlIiwicm90YXRpb24iLCJmb3JjZSIsImRpc3RhbmNlRnJvbUJvdHRvbSIsIm1hcHBlZERpc3RhbmNlIiwic2FtcGxlIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJ3b3JsZFgiLCJ3b3JsZFkiLCJzZXRTaG93Q2FycyIsImlzUmFpbHdheVZpc2libGUiLCJ2aXNpYmxlIiwic2V0VHJhaW5Nb3ZpbmciLCJyZWFzb24iLCJyZXN1bHQiLCJtaW5zIiwiZmxvb3IiLCJzZWNzIiwiY29uc3RydWN0b3IiLCJ0cmFpblNwZWVkUHhQZXJTZWMiLCJzaG93SG92ZXJDb29yZHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/game/scenes/TrainGame.ts\n"));

/***/ })

});