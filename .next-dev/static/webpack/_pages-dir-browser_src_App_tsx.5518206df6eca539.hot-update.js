"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_App_tsx",{

/***/ "(pages-dir-browser)/./src/game/scenes/Game.ts":
/*!*********************************!*\
  !*** ./src/game/scenes/Game.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Game: () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventBus */ \"(pages-dir-browser)/./src/game/EventBus.ts\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! phaser */ \"(pages-dir-browser)/./node_modules/phaser/dist/phaser.js\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _objects_EmoteCharacter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../objects/EmoteCharacter */ \"(pages-dir-browser)/./src/game/objects/EmoteCharacter.ts\");\n/* harmony import */ var _gameConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gameConfig */ \"(pages-dir-browser)/./src/game/gameConfig.ts\");\n/* harmony import */ var _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/QuizPanel */ \"(pages-dir-browser)/./src/game/ui/QuizPanel.ts\");\n\n\n\n\n\nclass Game extends phaser__WEBPACK_IMPORTED_MODULE_1__.Scene {\n    init(data) {\n        var _data_gameCode;\n        this.gameCode = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.resolveGameCode)((_data_gameCode = data === null || data === void 0 ? void 0 : data.gameCode) !== null && _data_gameCode !== void 0 ? _data_gameCode : this.registry.get('gameCode'));\n        this.registry.set('gameCode', this.gameCode);\n        this.gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.getGameConfig)(this.gameCode);\n        var _data_sessionId;\n        this.sessionId = (_data_sessionId = data === null || data === void 0 ? void 0 : data.sessionId) !== null && _data_sessionId !== void 0 ? _data_sessionId : null;\n        var _data_gameId;\n        this.sessionGameId = (_data_gameId = data === null || data === void 0 ? void 0 : data.gameId) !== null && _data_gameId !== void 0 ? _data_gameId : null;\n        var _data_questions;\n        this.sessionQuestions = (_data_questions = data === null || data === void 0 ? void 0 : data.questions) !== null && _data_questions !== void 0 ? _data_questions : null;\n        var _data_timeLimit;\n        this.sessionTimeLimit = (_data_timeLimit = data === null || data === void 0 ? void 0 : data.timeLimit) !== null && _data_timeLimit !== void 0 ? _data_timeLimit : null;\n    }\n    create() {\n        const { width, height } = this.scale;\n        this.camera = this.cameras.main;\n        // Parallax background\n        this.createParallaxBackground();\n        // Track (Leaves) - Use bg-main as the scrolling map\n        this.trackImage = this.add.image(width / 2, height, this.gameConfig.mapKey).setOrigin(0.5, 1);\n        const trackScale = width / this.trackImage.width;\n        this.trackImage.setScale(trackScale);\n        const mapTop = this.trackImage.y - this.trackImage.displayHeight;\n        this.camera.setBounds(0, mapTop, width, this.trackImage.displayHeight);\n        // Build leaf path based on the map texture\n        this.leafPath = this.gameConfig.useTexturePath ? this.buildLeafPath(this.gameConfig.mapKey) : [];\n        // Player Setup - Using EmoteCharacter (idle/correct/incorrect states)\n        const startPos = this.getLeafPosition(0);\n        this.player = new _objects_EmoteCharacter__WEBPACK_IMPORTED_MODULE_2__.EmoteCharacter(this, startPos.x, startPos.y);\n        this.currentLeafIndex = 0;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > startPos.x);\n        // Start idle animation\n        this.player.playIdle();\n        // Initial Camera Position\n        this.camera.scrollY = startPos.y - 900;\n        // UI camera (fixed screen-space)\n        this.uiCamera = this.cameras.add(0, 0, width, height);\n        this.uiCamera.setScroll(0, 0);\n        this.uiCamera.ignore(this.children.list);\n        // UI\n        this.createUI();\n        if (this.sessionTimeLimit && this.sessionTimeLimit > 0) {\n            this.totalTimeMs = this.sessionTimeLimit * 1000;\n        }\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit('current-scene-ready', this);\n    }\n    createParallaxBackground() {\n        this.cameras.main.setBackgroundColor(this.gameConfig.backgroundColor);\n        this.parallaxLayers = [];\n    }\n    update() {\n        var _this_parallaxLayers;\n        if (!((_this_parallaxLayers = this.parallaxLayers) === null || _this_parallaxLayers === void 0 ? void 0 : _this_parallaxLayers.length)) return;\n        const scrollY = this.camera.scrollY;\n        this.parallaxLayers.forEach((layer)=>{\n            const factor = layer.getData('scrollFactor');\n            const baseY = layer.getData('baseY');\n            layer.y = baseY + scrollY * factor;\n        });\n    }\n    createUI() {\n        const { width, height } = this.scale;\n        // Fixed UI Container\n        this.uiRoot = this.add.container(0, 0).setScrollFactor(0).setDepth(100);\n        // Timer + Score HUD\n        this.timerOverlay = this.add.container(0, 0).setScrollFactor(0).setDepth(2000);\n        // Back button\n        this.hudBackButton = this.add.container(0, 0);\n        const backBg = this.add.graphics();\n        backBg.fillStyle(0xffffff, 0.95);\n        backBg.fillRoundedRect(-24, -24, 48, 48, 14);\n        backBg.lineStyle(2, 0x0ea5e9, 0.2);\n        backBg.strokeRoundedRect(-24, -24, 48, 48, 14);\n        const backIcon = this.add.text(0, 1, '<', {\n            fontFamily: 'Arial Black',\n            fontSize: '28px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const backHit = this.add.zone(0, 0, 48, 48).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        });\n        backHit.on('pointerup', ()=>this.handleBackToGameList());\n        this.hudBackButton.add([\n            backBg,\n            backIcon\n        ]);\n        this.hudBackButton.setSize(48, 48);\n        this.hudBackButton.add(backHit);\n        // Points pill\n        this.hudPointsPill = this.add.container(0, 0);\n        const pointsBg = this.add.graphics();\n        const pointsW = 170;\n        const pointsH = 44;\n        pointsBg.fillStyle(0xe0f2fe, 0.98);\n        pointsBg.fillRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        pointsBg.lineStyle(2, 0x93c5fd, 0.7);\n        pointsBg.strokeRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        const star = this.add.image(-pointsW / 2 + 24, 0, 'star').setScale(0.32).setTint(0xfbbf24);\n        this.scoreText = this.add.text(-pointsW / 2 + 46, 0, 'POINTS: 00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0, 0.5);\n        this.hudPointsPill.add([\n            pointsBg,\n            star,\n            this.scoreText\n        ]);\n        // Timer pill\n        this.hudTimerPill = this.add.container(0, 0);\n        const timerBg = this.add.graphics();\n        const timerW = 100;\n        const timerH = 40;\n        timerBg.fillStyle(0xdbeafe, 0.98);\n        timerBg.fillRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        timerBg.lineStyle(2, 0x60a5fa, 0.6);\n        timerBg.strokeRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        this.timerText = this.add.text(0, 0, '03:00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.hudTimerPill.add([\n            timerBg,\n            this.timerText\n        ]);\n        // Hearts pill\n        this.hudHeartsPill = this.add.container(0, 0);\n        const heartsBg = this.add.graphics();\n        const heartsW = 92;\n        const heartsH = 36;\n        heartsBg.fillStyle(0xffffff, 0.98);\n        heartsBg.fillRoundedRect(-heartsW / 2, -heartsH / 2, heartsW, heartsH, 18);\n        heartsBg.lineStyle(2, 0x93c5fd, 0.35);\n        heartsBg.strokeRoundedRect(-heartsW / 2, -heartsH / 2, heartsW, heartsH, 18);\n        const heartsText = this.add.text(0, 0, '❤ ❤ ❤', {\n            fontFamily: 'Arial Black',\n            fontSize: '16px',\n            color: '#ef4444'\n        }).setOrigin(0.5);\n        this.hudHeartsPill.add([\n            heartsBg,\n            heartsText\n        ]);\n        this.timerOverlay.add([\n            this.hudBackButton,\n            this.hudPointsPill,\n            this.hudTimerPill,\n            this.hudHeartsPill\n        ]);\n        this.uiRoot.add(this.timerOverlay);\n        this.layoutHud();\n        // Jump Button\n        this.jumpButton = this.createJumpButton(width / 2, height - 150);\n        this.jumpButton.setScrollFactor(0);\n        this.uiRoot.add(this.jumpButton);\n        this.jumpButton.setVisible(false);\n        this.jumpButton.setActive(false);\n        this.setupJumpInput();\n        // Quiz Modal (UI overlay)\n        this.createQuizModal();\n        this.scale.on('resize', ()=>{\n            if (this.quizModal) this.layoutQuiz();\n            this.layoutHud();\n        });\n        // Start Modal (first screen)\n        this.createStartModal();\n        this.openStartModal();\n        // Ensure only UI camera renders UI\n        this.cameras.main.ignore([\n            this.uiRoot,\n            this.timerOverlay\n        ]);\n        // End Modal\n        this.createEndModal();\n        // Time Up Modal\n        this.createTimeUpModal();\n    }\n    layoutHud() {\n        if (!this.hudBackButton || !this.hudPointsPill || !this.hudTimerPill || !this.hudHeartsPill) return;\n        const { width, height } = this.scale;\n        const topInset = Math.max(20, Math.round(height * 0.03));\n        const sideInset = Math.max(16, Math.round(width * 0.045));\n        const gap = 10;\n        const heartsW = 92;\n        const timerW = 100;\n        this.hudBackButton.setPosition(sideInset + 24, topInset + 24);\n        this.hudPointsPill.setPosition(width / 2, topInset + 24);\n        const rightEdge = width - sideInset;\n        this.hudHeartsPill.setPosition(rightEdge - heartsW / 2, topInset + 24);\n        this.hudTimerPill.setPosition(rightEdge - heartsW - gap - timerW / 2, topInset + 24);\n    }\n    handleBackToGameList() {\n        window.location.href = '/';\n    }\n    createJumpButton(x, y) {\n        const container = this.add.container(x, y);\n        const width = 300;\n        const height = 100;\n        const bg = this.add.rectangle(0, 0, width, height, 0xfbbf24).setStrokeStyle(4, 0xffffff).setFillStyle(0x22c55e);\n        const text = this.add.text(0, 0, 'NEXT JUMP!', {\n            fontFamily: 'Arial Black',\n            fontSize: '32px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        container.add([\n            bg,\n            text\n        ]);\n        container.setSize(width, height);\n        this.jumpButtonBg = bg;\n        const onPress = ()=>{\n            if (this.quizOpen || this.startModalOpen) return;\n            bg.setFillStyle(0x16a34a);\n            this.openQuizModal();\n        };\n        const onRelease = ()=>{\n            bg.setFillStyle(0x22c55e);\n        };\n        container.setInteractive(new Phaser.Geom.Rectangle(-width / 2, -height / 2, width, height), Phaser.Geom.Rectangle.Contains);\n        container.on('pointerdown', onPress);\n        container.on('pointerup', onRelease);\n        container.on('pointerout', onRelease);\n        // Add simple pulse tween\n        this.tweens.add({\n            targets: container,\n            scale: 1.05,\n            duration: 800,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    setupJumpInput() {\n        this.input.enabled = true;\n        if (this.input.mouse) this.input.mouse.enabled = true;\n        this.input.on('pointerdown', (pointer)=>{\n            if (this.quizOpen || this.startModalOpen) return;\n            const bounds = this.jumpButton.getBounds();\n            if (bounds.contains(pointer.x, pointer.y)) {\n                this.jumpButtonBg.setFillStyle(0x16a34a);\n                this.openQuizModal();\n            }\n        });\n        this.input.on('pointerup', ()=>{\n            this.jumpButtonBg.setFillStyle(0x22c55e);\n        });\n    }\n    createQuizModal() {\n        this.quizPanel = new _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_4__.QuizPanel(this, {\n            optionCount: 4,\n            depth: 200,\n            parent: this.uiRoot,\n            showIndex: true\n        });\n        this.quizModal = this.quizPanel.container;\n        this.quizPanelContainer = this.quizPanel.panelContainer;\n        this.quizPanelShadow = this.quizPanel.panelShadow;\n        this.quizPanelBg = this.quizPanel.panelBg;\n        this.quizPanelGlow = this.quizPanel.panelGlow;\n        this.quizIndexText = this.quizPanel.indexText;\n        this.quizFeedbackTitleText = this.quizPanel.feedbackTitleText;\n        this.quizFeedbackSubtitleText = this.quizPanel.feedbackSubtitleText;\n        this.quizQuestionText = this.quizPanel.questionText;\n        this.quizOptionButtons = this.quizPanel.optionButtons;\n        this.quizPanel.onOptionSelected((index)=>{\n            if (!this.quizOpen || this.quizLocked) return;\n            this.handleQuizAnswer(index);\n        });\n        this.layoutQuiz();\n    }\n    createStartModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(220);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.12).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 160;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.58)).setScrollFactor(0);\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -26, 'Help the robot cross the river.', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a',\n            align: 'center',\n            wordWrap: {\n                width: panelWidth - 60,\n                useAdvancedWrap: true\n            }\n        }).setOrigin(0.5);\n        const button = this.createStartButton(0, 42);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            button\n        ]);\n        container.add([\n            overlay,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.startModal = container;\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createEndModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(230);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.6).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 220;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.56)).setScrollFactor(0);\n        overlay.setDepth(0);\n        panelContainer.setDepth(1);\n        const blocker = this.add.zone(0, 0, width, height).setOrigin(0, 0);\n        blocker.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), (shape, x, y)=>{\n            const panelBounds = panelContainer.getBounds();\n            if (Phaser.Geom.Rectangle.Contains(panelBounds, x, y)) return false;\n            return Phaser.Geom.Rectangle.Contains(shape, x, y);\n        });\n        blocker.on('pointerdown', ()=>{});\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -64, 'Congratulations!', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const subtitle = this.add.text(0, -36, 'You completed the run.', {\n            fontFamily: 'Arial',\n            fontSize: '18px',\n            color: '#0f172a',\n            align: 'center',\n            wordWrap: {\n                width: panelWidth - 60,\n                useAdvancedWrap: true\n            }\n        }).setOrigin(0.5);\n        const statsGap = 16;\n        const cardWidth = Math.min(200, Math.floor((panelWidth - 120) / 2));\n        const cardHeight = 46;\n        const statsY = 62;\n        const scoreCard = this.add.graphics();\n        scoreCard.fillStyle(0x93c5fd, 0.18);\n        scoreCard.fillRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        scoreCard.lineStyle(2, 0x93c5fd, 0.45);\n        scoreCard.strokeRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        const timeCard = this.add.graphics();\n        timeCard.fillStyle(0x93c5fd, 0.18);\n        timeCard.fillRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        timeCard.lineStyle(2, 0x93c5fd, 0.45);\n        timeCard.strokeRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        const scoreCardContainer = this.add.container(-cardWidth / 2 - statsGap / 2, statsY, [\n            scoreCard\n        ]);\n        const timeCardContainer = this.add.container(cardWidth / 2 + statsGap / 2, statsY, [\n            timeCard\n        ]);\n        const scoreLabel = this.add.text(scoreCardContainer.x, statsY - 16, 'SCORE', {\n            fontFamily: 'Arial Black',\n            fontSize: '12px',\n            color: '#1e3a8a'\n        }).setOrigin(0.5);\n        const timeLabel = this.add.text(timeCardContainer.x, statsY - 16, 'TIME', {\n            fontFamily: 'Arial Black',\n            fontSize: '12px',\n            color: '#1e3a8a'\n        }).setOrigin(0.5);\n        this.endModalScoreText = this.add.text(scoreCardContainer.x, statsY + 6, '0', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.endModalTimeText = this.add.text(timeCardContainer.x, statsY + 6, '00:00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const restartButton = this.createEndRestartButton(0, panelHeight / 2 + 56);\n        restartButton.setDepth(2);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            subtitle,\n            scoreCardContainer,\n            timeCardContainer,\n            scoreLabel,\n            timeLabel,\n            this.endModalScoreText,\n            this.endModalTimeText\n        ]);\n        panelContainer.add(restartButton);\n        container.add([\n            overlay,\n            blocker,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.endModal = container;\n        this.endModal.setData('panel', panelContainer);\n        this.endModal.setData('overlay', overlay);\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createEndRestartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Play Again', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hit = this.add.rectangle(0, 0, width, height, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n            this.restartRun();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    createTimeUpModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(240);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.12).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 160;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.56)).setScrollFactor(0);\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -26, 'Out of time! Failed', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const restartButton = this.createRestartButton(0, 42);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            restartButton\n        ]);\n        container.add([\n            overlay,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.timeUpModal = container;\n        this.timeUpModal.setData('panel', panelContainer);\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createRestartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Continue', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hit = this.add.rectangle(0, 0, width, height, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n            this.restartRun();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    createStartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Start Game', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hitPad = 16;\n        const hitW = width + hitPad * 2;\n        const hitH = height + hitPad * 2;\n        const hit = this.add.rectangle(0, 0, hitW, hitH, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        const onPress = ()=>{\n            if (!this.startModalOpen) return;\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.closeStartModal();\n            this.openQuizModal();\n        };\n        const onRelease = ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n        };\n        hit.on('pointerdown', onPress);\n        hit.on('pointerup', onRelease);\n        hit.on('pointerout', onRelease);\n        this.tweens.add({\n            targets: container,\n            scale: 1.05,\n            duration: 800,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    openStartModal() {\n        this.startModalOpen = true;\n        this.jumpButton.setAlpha(0.4);\n        this.stopTimer();\n        this.startModal.setVisible(true);\n        this.startModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.startModal,\n            alpha: 1,\n            duration: 180\n        });\n    }\n    closeStartModal() {\n        this.startModalOpen = false;\n        this.jumpButton.setAlpha(1);\n        this.startTimer();\n        this.startModal.setVisible(false);\n    }\n    setQuestion(data) {\n        this.quizPanel.setFeedback('idle');\n        this.quizPanel.setQuestion(data);\n        this.layoutQuiz();\n    }\n    layoutQuiz() {\n        if (!this.quizPanel) return;\n        const { width, height } = this.scale;\n        const result = this.quizPanel.layout(width, height);\n        this.uiScale = result.uiScale;\n        this.quizPanelHeight = result.panelHeight;\n        this.quizPanelWidth = result.panelWidth;\n    }\n    openQuizModal() {\n        if (this.gameOver) return;\n        if (this.gameCompleted) return;\n        if (this.player.isJumping()) return;\n        this.quizOpen = true;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(0.6);\n        const questionPool = this.getQuestionPool();\n        const question = questionPool[this.quizCurrentIndex % questionPool.length];\n        this.setQuestion({\n            index: this.quizCurrentIndex + 1,\n            total: questionPool.length,\n            question: question.question,\n            options: question.options\n        });\n        this.quizModal.setVisible(true);\n        this.quizModal.setAlpha(0);\n        const panel = this.quizPanel.panelContainer;\n        panel.setScale(0.96);\n        panel.y += 18;\n        this.tweens.add({\n            targets: this.quizModal,\n            alpha: 1,\n            duration: 180\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            y: panel.y - 18,\n            duration: 220,\n            ease: 'Back.easeOut'\n        });\n    }\n    closeQuizModal() {\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(1);\n        this.quizModal.setVisible(false);\n    }\n    async handleQuizAnswer(index) {\n        const questionPool = this.getQuestionPool();\n        const question = questionPool[this.quizCurrentIndex % questionPool.length];\n        let isCorrect = index === question.correctIndex;\n        const selectedOptionId = question.optionIds[index];\n        if (this.sessionId && question.sessionQuestionId && selectedOptionId) {\n            try {\n                const { submitAnswer } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\"));\n                const res = await submitAnswer(this.sessionId, question.sessionQuestionId, selectedOptionId);\n                isCorrect = res.data.is_correct;\n            } catch (error) {\n                console.error('submitAnswer failed, fallback to local check', error);\n            }\n        }\n        const btn = this.quizOptionButtons[index];\n        const redraw = btn.getData('redraw');\n        if (isCorrect) {\n            this.quizLocked = true;\n            redraw('correct');\n            this.setQuizFeedback('correct');\n            this.updateScore(1);\n            this.speedUpJump();\n            await this.delay(400);\n            this.closeQuizModal();\n            await this.handleJump();\n            this.quizCurrentIndex += 1;\n            this.time.delayedCall(250, ()=>{\n                this.openQuizModal();\n            });\n        } else {\n            this.quizLocked = true;\n            redraw('wrong');\n            this.setQuizFeedback('wrong');\n            this.updateScore(-1);\n            this.showPlayerState('incorrect');\n            const panel = this.quizPanel.panelContainer;\n            const startX = panel.x;\n            this.tweens.add({\n                targets: panel,\n                x: startX + 10,\n                duration: 60,\n                yoyo: true,\n                repeat: 3,\n                ease: 'Sine.easeInOut',\n                onComplete: ()=>{\n                    panel.x = startX;\n                    this.quizLocked = false;\n                    redraw('normal');\n                }\n            });\n        }\n    }\n    getQuestionPool() {\n        const apiQuestions = this.sessionQuestions;\n        if (apiQuestions === null || apiQuestions === void 0 ? void 0 : apiQuestions.length) {\n            if (!this.questionSourceLogged) {\n                var _apiQuestions__question, _apiQuestions_;\n                this.questionSourceLogged = true;\n                var _apiQuestions__question_content;\n                console.log('[GAME][TOWN] Using session questions', {\n                    gameCode: this.gameCode,\n                    count: apiQuestions.length,\n                    sample: (_apiQuestions__question_content = (_apiQuestions_ = apiQuestions[0]) === null || _apiQuestions_ === void 0 ? void 0 : (_apiQuestions__question = _apiQuestions_.question) === null || _apiQuestions__question === void 0 ? void 0 : _apiQuestions__question.content) !== null && _apiQuestions__question_content !== void 0 ? _apiQuestions__question_content : null\n                });\n            }\n            return apiQuestions.map((item)=>{\n                const options = item.question.options.map((opt)=>opt.text);\n                const optionIds = item.question.options.map((opt)=>{\n                    var _opt_id;\n                    return (_opt_id = opt.id) !== null && _opt_id !== void 0 ? _opt_id : '';\n                });\n                let correctIndex = item.question.options.findIndex((opt)=>opt.is_correct);\n                if (correctIndex < 0) correctIndex = 0;\n                var _item_session_question_id;\n                return {\n                    sessionQuestionId: (_item_session_question_id = item.session_question_id) !== null && _item_session_question_id !== void 0 ? _item_session_question_id : null,\n                    question: item.question.content,\n                    options,\n                    optionIds,\n                    correctIndex\n                };\n            });\n        }\n        if (!this.questionSourceLogged) {\n            this.questionSourceLogged = true;\n            console.warn('[GAME][TOWN] Using fallback local questions', {\n                gameCode: this.gameCode\n            });\n        }\n        return [\n            {\n                sessionQuestionId: null,\n                question: 'What is the capital of Vietnam?',\n                options: [\n                    'Hanoi',\n                    'Da Nang',\n                    'Hai Phong',\n                    'Can Tho'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            },\n            {\n                sessionQuestionId: null,\n                question: 'Which language does Phaser use?',\n                options: [\n                    'TypeScript/JavaScript',\n                    'C#',\n                    'Python',\n                    'Go'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            },\n            {\n                sessionQuestionId: null,\n                question: 'What color are the leaves in the game?',\n                options: [\n                    'Green',\n                    'Red',\n                    'Purple',\n                    'Yellow'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            }\n        ];\n    }\n    async handleJump() {\n        if (this.player.isJumping()) return;\n        if (this.gameOver) return;\n        const nextIndex = this.currentLeafIndex + 1;\n        const maxIndex = this.leafPath.length > 0 ? this.leafPath.length - 1 : Number.POSITIVE_INFINITY;\n        if (this.leafPath.length > 0 && nextIndex > maxIndex) {\n            return;\n        }\n        const targetPos = this.getLeafPosition(nextIndex);\n        // Stop idle animation during jump\n        this.player.stopIdle();\n        // Scroll Camera\n        this.tweens.add({\n            targets: this.camera,\n            scrollY: targetPos.y - 800,\n            duration: 600,\n            ease: 'Sine.easeInOut'\n        });\n        // Perform jump using EmoteCharacter\n        await this.player.jumpTo(targetPos.x, targetPos.y, this.jumpDurationMs);\n        // Update state after jump completes\n        this.currentLeafIndex = nextIndex;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > targetPos.x);\n        // Show correct state on new leaf, then resume idle\n        this.player.showCorrect(800);\n        this.time.delayedCall(800, ()=>{\n            this.player.playIdle();\n        });\n        if (this.leafPath.length > 0 && this.currentLeafIndex >= maxIndex) {\n            this.gameCompleted = true;\n            this.jumpButton.setAlpha(0.4);\n            this.quizOpen = false;\n            this.quizLocked = false;\n            this.stopTimer();\n            this.timerOverlay.setVisible(false);\n            if (this.totalTimeMs > 0) {\n                this.updateScore(3);\n            }\n            this.updateEndTimeText();\n            this.time.delayedCall(400, ()=>{\n                this.openEndModal();\n            });\n        }\n    }\n    startTimer() {\n        if (this.timerEvent) {\n            this.timerEvent.remove(false);\n        }\n        this.totalTimeMs = this.sessionTimeLimit && this.sessionTimeLimit > 0 ? this.sessionTimeLimit * 1000 : 180000;\n        this.updateTimerText(this.totalTimeMs);\n        this.timerEvent = this.time.addEvent({\n            delay: 1000,\n            loop: true,\n            callback: ()=>{\n                if (this.gameCompleted || this.gameOver) return;\n                this.totalTimeMs -= 1000;\n                this.updateTimerText(this.totalTimeMs);\n                if (this.totalTimeMs <= 0) {\n                    this.totalTimeMs = 0;\n                    this.updateTimerText(this.totalTimeMs);\n                    this.handleTimeUp();\n                }\n            }\n        });\n    }\n    stopTimer() {\n        if (this.timerEvent) {\n            this.timerEvent.remove(false);\n        }\n    }\n    updateTimerText(ms) {\n        const totalSeconds = Math.max(0, Math.floor(ms / 1000));\n        const minutes = Math.floor(totalSeconds / 60);\n        const seconds = totalSeconds % 60;\n        const pad = (n)=>n < 10 ? \"0\".concat(n) : \"\".concat(n);\n        const text = \"\".concat(minutes, \"m \").concat(pad(seconds), \"s\");\n        this.timerText.setText(text);\n    }\n    handleTimeUp() {\n        if (this.gameOver || this.gameCompleted) return;\n        this.gameOver = true;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(0.4);\n        this.closeQuizModal();\n        this.openTimeUpModal();\n    }\n    openEndModal() {\n        if (!this.endModal) return;\n        const panel = this.endModal.getData('panel');\n        const overlay = this.endModal.getData('overlay');\n        panel.setScale(0.9);\n        if (overlay) overlay.setAlpha(0);\n        this.endModal.setVisible(true);\n        this.endModal.setAlpha(1);\n        this.launchConfetti();\n        this.submitSessionResult();\n        this.tweens.add({\n            targets: overlay,\n            alpha: 0.6,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            duration: 260,\n            ease: 'Back.easeOut'\n        });\n    }\n    launchConfetti() {\n        if (this.confettiEmitter) {\n            this.confettiEmitter.destroy();\n        }\n        if (this.confettiBurstEvent) {\n            this.confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        }\n        const { width, height } = this.scale;\n        this.confettiEmitter = this.add.particles(0, 0, 'tile-flower', {\n            speed: {\n                min: 90,\n                max: 170\n            },\n            angle: {\n                min: 0,\n                max: 360\n            },\n            rotate: {\n                min: -220,\n                max: 220\n            },\n            scale: {\n                start: 0.32,\n                end: 0.1\n            },\n            lifespan: {\n                min: 1400,\n                max: 2200\n            },\n            quantity: 0,\n            frequency: -1,\n            gravityY: 160\n        });\n        this.confettiEmitter.setScrollFactor(0);\n        this.confettiEmitter.setDepth(2100);\n        this.uiRoot.add(this.confettiEmitter);\n        this.confettiBurstEvent = this.time.addEvent({\n            delay: 900,\n            repeat: 0,\n            callback: ()=>{\n                if (!this.confettiEmitter) return;\n                this.confettiEmitter.explode(18, width / 2, height / 2);\n            }\n        });\n        this.time.delayedCall(3500, ()=>{\n            var _this_confettiEmitter, _this_confettiBurstEvent;\n            (_this_confettiEmitter = this.confettiEmitter) === null || _this_confettiEmitter === void 0 ? void 0 : _this_confettiEmitter.destroy();\n            this.confettiEmitter = undefined;\n            (_this_confettiBurstEvent = this.confettiBurstEvent) === null || _this_confettiBurstEvent === void 0 ? void 0 : _this_confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        });\n    }\n    openTimeUpModal() {\n        if (!this.timeUpModal) return;\n        const panel = this.timeUpModal.getData('panel');\n        panel.setScale(0.96);\n        this.timeUpModal.setVisible(true);\n        this.timeUpModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.timeUpModal,\n            alpha: 1,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            duration: 240,\n            ease: 'Back.easeOut'\n        });\n    }\n    closeTimeUpModal() {\n        if (!this.timeUpModal) return;\n        this.timeUpModal.setVisible(false);\n    }\n    closeEndModal() {\n        if (!this.endModal) return;\n        this.endModal.setVisible(false);\n        this.endModal.setAlpha(0);\n        const overlay = this.endModal.getData('overlay');\n        if (overlay) overlay.setAlpha(0);\n        if (this.confettiEmitter) {\n            this.confettiEmitter.destroy();\n            this.confettiEmitter = undefined;\n        }\n        if (this.confettiBurstEvent) {\n            this.confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        }\n    }\n    submitSessionResult() {\n        if (!this.sessionGameId) return;\n        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\")).then((param)=>{\n            let { endGameSession } = param;\n            return endGameSession(this.sessionGameId, this.score);\n        }).catch((err)=>{\n            console.error('endGameSession failed', err);\n        });\n    }\n    restartRun() {\n        this.gameOver = false;\n        this.gameCompleted = false;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.quizCurrentIndex = 0;\n        this.startModalOpen = false;\n        this.score = 0;\n        this.scoreText.setText('POINTS: 00');\n        this.jumpDurationMs = 900;\n        this.closeTimeUpModal();\n        this.closeQuizModal();\n        this.closeEndModal();\n        if (this.startModal) this.startModal.setVisible(false);\n        const startPos = this.getLeafPosition(0);\n        this.player.setPosition(startPos.x, startPos.y);\n        this.player.playIdle();\n        this.currentLeafIndex = 0;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > startPos.x);\n        this.camera.scrollY = startPos.y - 900;\n        this.stopTimer();\n        this.timerOverlay.setVisible(true);\n        this.jumpButton.setAlpha(1);\n        this.startTimer();\n        this.openQuizModal();\n    }\n    updateScore(delta) {\n        this.score += delta;\n        const points = Math.max(0, this.score);\n        this.scoreText.setText(\"POINTS: \".concat(points.toString().padStart(2, '0')));\n        if (this.endModalScoreText) {\n            this.endModalScoreText.setText(\"Score: \".concat(this.score));\n        }\n    }\n    updateEndTimeText() {\n        if (!this.endModalTimeText) return;\n        const baseMs = this.sessionTimeLimit && this.sessionTimeLimit > 0 ? this.sessionTimeLimit * 1000 : 180000;\n        const elapsedMs = baseMs - this.totalTimeMs;\n        const totalSeconds = Math.max(0, Math.floor(elapsedMs / 1000));\n        const minutes = Math.floor(totalSeconds / 60);\n        const seconds = totalSeconds % 60;\n        const pad = (n)=>n < 10 ? \"0\".concat(n) : \"\".concat(n);\n        this.endModalTimeText.setText(\"Time: \".concat(pad(minutes), \":\").concat(pad(seconds)));\n    }\n    speedUpJump() {\n        this.jumpDurationMs = Math.max(450, this.jumpDurationMs - 40);\n    }\n    getLeafPosition(index) {\n        if (this.leafPath.length > 0 && this.trackImage) {\n            const pathLength = this.leafPath.length;\n            const pathIndex = Math.min(index, pathLength - 1);\n            const leaf = this.leafPath[pathIndex];\n            const scale = this.trackImage.scaleX;\n            const mapLeft = this.trackImage.x - this.trackImage.displayWidth / 2;\n            const mapTop = this.trackImage.y - this.trackImage.displayHeight;\n            const x = mapLeft + leaf.x * scale;\n            const y = mapTop + leaf.y * scale;\n            return {\n                x,\n                y\n            };\n        }\n        const centerX = this.scale.width / 2;\n        const isLeft = index % 2 === 0;\n        // Adjacent leaf = alternate left/right with a small upward step\n        const y = this.leafStartY - index * this.leafStepY;\n        const x = isLeft ? centerX - this.leafSideOffset : centerX + this.leafSideOffset;\n        return {\n            x,\n            y\n        };\n    }\n    buildLeafPath(textureKey) {\n        const texture = this.textures.get(textureKey);\n        const source = texture === null || texture === void 0 ? void 0 : texture.getSourceImage();\n        if (!source || !source.width || !source.height) {\n            return [];\n        }\n        const canvas = this.sys.game.canvas.ownerDocument.createElement('canvas');\n        canvas.width = source.width;\n        canvas.height = source.height;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) return [];\n        ctx.drawImage(source, 0, 0);\n        const imageData = ctx.getImageData(0, 0, source.width, source.height);\n        const data = imageData.data;\n        const width = source.width;\n        const height = source.height;\n        const visited = new Uint8Array(width * height);\n        const centers = [];\n        const isLeafPixel = (idx)=>{\n            const r = data[idx] / 255;\n            const g = data[idx + 1] / 255;\n            const b = data[idx + 2] / 255;\n            const max = Math.max(r, g, b);\n            const min = Math.min(r, g, b);\n            const delta = max - min;\n            if (delta === 0) return false;\n            let hue = 0;\n            if (max === r) {\n                hue = (g - b) / delta % 6;\n            } else if (max === g) {\n                hue = (b - r) / delta + 2;\n            } else {\n                hue = (r - g) / delta + 4;\n            }\n            hue = Math.round(hue * 60);\n            if (hue < 0) hue += 360;\n            const saturation = max === 0 ? 0 : delta / max;\n            const isGreenHue = hue >= 70 && hue <= 150;\n            const isSaturated = saturation >= 0.35;\n            return isGreenHue && isSaturated;\n        };\n        const minBlobSize = 4500;\n        const stack = [];\n        for(let y = 0; y < height; y++){\n            for(let x = 0; x < width; x++){\n                const index = y * width + x;\n                if (visited[index]) continue;\n                const dataIndex = index * 4;\n                if (!isLeafPixel(dataIndex)) {\n                    visited[index] = 1;\n                    continue;\n                }\n                let sumX = 0;\n                let sumY = 0;\n                let count = 0;\n                let minX = x;\n                let maxX = x;\n                let minY = y;\n                let maxY = y;\n                stack.push(index);\n                visited[index] = 1;\n                while(stack.length){\n                    const current = stack.pop();\n                    const cy = Math.floor(current / width);\n                    const cx = current - cy * width;\n                    const currentDataIndex = current * 4;\n                    if (!isLeafPixel(currentDataIndex)) {\n                        continue;\n                    }\n                    sumX += cx;\n                    sumY += cy;\n                    count += 1;\n                    if (cx < minX) minX = cx;\n                    if (cx > maxX) maxX = cx;\n                    if (cy < minY) minY = cy;\n                    if (cy > maxY) maxY = cy;\n                    if (cx > 0) {\n                        const left = current - 1;\n                        if (!visited[left]) {\n                            const leftIndex = left * 4;\n                            if (isLeafPixel(leftIndex)) {\n                                visited[left] = 1;\n                                stack.push(left);\n                            } else {\n                                visited[left] = 1;\n                            }\n                        }\n                    }\n                    if (cx < width - 1) {\n                        const right = current + 1;\n                        if (!visited[right]) {\n                            const rightIndex = right * 4;\n                            if (isLeafPixel(rightIndex)) {\n                                visited[right] = 1;\n                                stack.push(right);\n                            } else {\n                                visited[right] = 1;\n                            }\n                        }\n                    }\n                    if (cy > 0) {\n                        const up = current - width;\n                        if (!visited[up]) {\n                            const upIndex = up * 4;\n                            if (isLeafPixel(upIndex)) {\n                                visited[up] = 1;\n                                stack.push(up);\n                            } else {\n                                visited[up] = 1;\n                            }\n                        }\n                    }\n                    if (cy < height - 1) {\n                        const down = current + width;\n                        if (!visited[down]) {\n                            const downIndex = down * 4;\n                            if (isLeafPixel(downIndex)) {\n                                visited[down] = 1;\n                                stack.push(down);\n                            } else {\n                                visited[down] = 1;\n                            }\n                        }\n                    }\n                }\n                if (count >= minBlobSize) {\n                    const blobWidth = maxX - minX;\n                    const blobHeight = maxY - minY;\n                    const aspect = blobWidth / (blobHeight || 1);\n                    if (blobWidth >= 90 && blobHeight >= 90 && aspect > 0.6 && aspect < 1.7) {\n                        centers.push(new Phaser.Math.Vector2(sumX / count, sumY / count));\n                    }\n                }\n            }\n        }\n        centers.sort((a, b)=>{\n            const dy = b.y - a.y;\n            if (Math.abs(dy) > 2) return dy;\n            return a.x - b.x;\n        });\n        return centers;\n    }\n    /**\n     * Show player state - correct or incorrect\n     */ showPlayerState(state) {\n        if (state === 'correct') {\n            this.player.showCorrect(800);\n        } else {\n            this.player.showIncorrect(800);\n        }\n    }\n    setQuizFeedback(state) {\n        if (!this.quizPanel) return;\n        this.quizPanel.setFeedback(state);\n        this.quizFeedbackState = state;\n    }\n    delay(ms) {\n        return new Promise((resolve)=>{\n            this.time.delayedCall(ms, ()=>resolve());\n        });\n    }\n    constructor(){\n        super('Game'), this.quizPanelWidth = 0, this.quizPanelHeight = 0, this.uiScale = 1, this.safeInsetBottom = 16, this.quizFeedbackState = 'idle', this.quizOptionButtons = [], this.quizOpen = false, this.quizLocked = false, this.quizCurrentIndex = 0, this.startModalOpen = false, this.gameCompleted = false, this.gameOver = false, this.totalTimeMs = 180000, this.jumpDurationMs = 900, // Game State\n        this.score = 0, this.currentLeafIndex = 0, this.sessionId = null, this.sessionGameId = null, this.sessionQuestions = null, this.sessionTimeLimit = null, this.questionSourceLogged = false, this.gameCode = 'vocab_race', this.gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.getGameConfig)('vocab_race'), // Leaf path (detected from track texture)\n        this.leafPath = [], // Fallback zig-zag config\n        this.leafStartY = 940, this.leafStepY = 140, this.leafSideOffset = 180;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9nYW1lL3NjZW5lcy9HYW1lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBdUM7QUFDUjtBQUM0QjtBQUVJO0FBQ25CO0FBRXJDLE1BQU1NLGFBQWFMLHlDQUFLQTtJQTZFM0JNLEtBQU1DLElBQW1KLEVBQ3pKO1lBQ29DQTtRQUFoQyxJQUFJLENBQUNDLFFBQVEsR0FBR0wsNERBQWVBLENBQUNJLENBQUFBLGlCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1DLFFBQVEsY0FBZEQsNEJBQUFBLGlCQUFtQixJQUFJLENBQUNFLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDO1FBQ3JFLElBQUksQ0FBQ0QsUUFBUSxDQUFDRSxHQUFHLENBQUMsWUFBWSxJQUFJLENBQUNILFFBQVE7UUFDM0MsSUFBSSxDQUFDSSxVQUFVLEdBQUdWLDBEQUFhQSxDQUFDLElBQUksQ0FBQ00sUUFBUTtZQUM1QkQ7UUFBakIsSUFBSSxDQUFDTSxTQUFTLEdBQUdOLENBQUFBLGtCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1NLFNBQVMsY0FBZk4sNkJBQUFBLGtCQUFtQjtZQUNmQTtRQUFyQixJQUFJLENBQUNPLGFBQWEsR0FBR1AsQ0FBQUEsZUFBQUEsaUJBQUFBLDJCQUFBQSxLQUFNUSxNQUFNLGNBQVpSLDBCQUFBQSxlQUFnQjtZQUNiQTtRQUF4QixJQUFJLENBQUNTLGdCQUFnQixHQUFHVCxDQUFBQSxrQkFBQUEsaUJBQUFBLDJCQUFBQSxLQUFNVSxTQUFTLGNBQWZWLDZCQUFBQSxrQkFBbUI7WUFDbkJBO1FBQXhCLElBQUksQ0FBQ1csZ0JBQWdCLEdBQUdYLENBQUFBLGtCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1ZLFNBQVMsY0FBZlosNkJBQUFBLGtCQUFtQjtJQUMvQztJQUVBYSxTQUNBO1FBQ0ksTUFBTSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQ0MsS0FBSztRQUNwQyxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSTtRQUUvQixzQkFBc0I7UUFDdEIsSUFBSSxDQUFDQyx3QkFBd0I7UUFFN0Isb0RBQW9EO1FBQ3BELElBQUksQ0FBQ0MsVUFBVSxHQUFHLElBQUksQ0FBQ0MsR0FBRyxDQUFDQyxLQUFLLENBQUNULFFBQVEsR0FBR0MsUUFBUSxJQUFJLENBQUNWLFVBQVUsQ0FBQ21CLE1BQU0sRUFBRUMsU0FBUyxDQUFDLEtBQUs7UUFDM0YsTUFBTUMsYUFBYVosUUFBUSxJQUFJLENBQUNPLFVBQVUsQ0FBQ1AsS0FBSztRQUNoRCxJQUFJLENBQUNPLFVBQVUsQ0FBQ00sUUFBUSxDQUFDRDtRQUV6QixNQUFNRSxTQUFTLElBQUksQ0FBQ1AsVUFBVSxDQUFDUSxDQUFDLEdBQUcsSUFBSSxDQUFDUixVQUFVLENBQUNTLGFBQWE7UUFDaEUsSUFBSSxDQUFDYixNQUFNLENBQUNjLFNBQVMsQ0FBQyxHQUFHSCxRQUFRZCxPQUFPLElBQUksQ0FBQ08sVUFBVSxDQUFDUyxhQUFhO1FBRXJFLDJDQUEyQztRQUMzQyxJQUFJLENBQUNFLFFBQVEsR0FBRyxJQUFJLENBQUMzQixVQUFVLENBQUM0QixjQUFjLEdBQUcsSUFBSSxDQUFDQyxhQUFhLENBQUMsSUFBSSxDQUFDN0IsVUFBVSxDQUFDbUIsTUFBTSxJQUFJLEVBQUU7UUFFaEcsc0VBQXNFO1FBQ3RFLE1BQU1XLFdBQVcsSUFBSSxDQUFDQyxlQUFlLENBQUM7UUFDdEMsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSTNDLG1FQUFjQSxDQUFDLElBQUksRUFBRXlDLFNBQVNHLENBQUMsRUFBRUgsU0FBU04sQ0FBQztRQUM3RCxJQUFJLENBQUNVLGdCQUFnQixHQUFHO1FBRXhCLE1BQU1DLFVBQVUsSUFBSSxDQUFDSixlQUFlLENBQUMsSUFBSSxDQUFDRyxnQkFBZ0IsR0FBRztRQUM3RCxJQUFJLENBQUNGLE1BQU0sQ0FBQ0ksSUFBSSxDQUFDRCxRQUFRRixDQUFDLEdBQUdILFNBQVNHLENBQUM7UUFFdkMsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQ0QsTUFBTSxDQUFDSyxRQUFRO1FBRXBCLDBCQUEwQjtRQUMxQixJQUFJLENBQUN6QixNQUFNLENBQUMwQixPQUFPLEdBQUdSLFNBQVNOLENBQUMsR0FBRztRQUVuQyxpQ0FBaUM7UUFDakMsSUFBSSxDQUFDZSxRQUFRLEdBQUcsSUFBSSxDQUFDMUIsT0FBTyxDQUFDSSxHQUFHLENBQUMsR0FBRyxHQUFHUixPQUFPQztRQUM5QyxJQUFJLENBQUM2QixRQUFRLENBQUNDLFNBQVMsQ0FBQyxHQUFHO1FBQzNCLElBQUksQ0FBQ0QsUUFBUSxDQUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUNDLElBQUk7UUFFdkMsS0FBSztRQUNMLElBQUksQ0FBQ0MsUUFBUTtRQUViLElBQUksSUFBSSxDQUFDdEMsZ0JBQWdCLElBQUksSUFBSSxDQUFDQSxnQkFBZ0IsR0FBRyxHQUFHO1lBQ3BELElBQUksQ0FBQ3VDLFdBQVcsR0FBRyxJQUFJLENBQUN2QyxnQkFBZ0IsR0FBRztRQUMvQztRQUVBbkIsK0NBQVFBLENBQUMyRCxJQUFJLENBQUMsdUJBQXVCLElBQUk7SUFDN0M7SUFFQS9CLDJCQUEyQjtRQUN2QixJQUFJLENBQUNGLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDaUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDL0MsVUFBVSxDQUFDZ0QsZUFBZTtRQUNwRSxJQUFJLENBQUNDLGNBQWMsR0FBRyxFQUFFO0lBQzVCO0lBRUFDLFNBQVM7WUFDQTtRQUFMLElBQUksR0FBQywyQkFBSSxDQUFDRCxjQUFjLGNBQW5CLGdFQUFxQkUsTUFBTSxHQUFFO1FBQ2xDLE1BQU1iLFVBQVUsSUFBSSxDQUFDMUIsTUFBTSxDQUFDMEIsT0FBTztRQUVuQyxJQUFJLENBQUNXLGNBQWMsQ0FBQ0csT0FBTyxDQUFDLENBQUNDO1lBQ3pCLE1BQU1DLFNBQVNELE1BQU1FLE9BQU8sQ0FBQztZQUM3QixNQUFNQyxRQUFRSCxNQUFNRSxPQUFPLENBQUM7WUFDNUJGLE1BQU03QixDQUFDLEdBQUdnQyxRQUFRbEIsVUFBVWdCO1FBQ2hDO0lBQ0o7SUFFQVYsV0FBVztRQUNQLE1BQU0sRUFBRW5DLEtBQUssRUFBRUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDQyxLQUFLO1FBRXBDLHFCQUFxQjtRQUNyQixJQUFJLENBQUM4QyxNQUFNLEdBQUcsSUFBSSxDQUFDeEMsR0FBRyxDQUFDeUMsU0FBUyxDQUFDLEdBQUcsR0FBR0MsZUFBZSxDQUFDLEdBQUdDLFFBQVEsQ0FBQztRQUVuRSxvQkFBb0I7UUFDcEIsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSSxDQUFDNUMsR0FBRyxDQUFDeUMsU0FBUyxDQUFDLEdBQUcsR0FBR0MsZUFBZSxDQUFDLEdBQUdDLFFBQVEsQ0FBQztRQUV6RSxjQUFjO1FBQ2QsSUFBSSxDQUFDRSxhQUFhLEdBQUcsSUFBSSxDQUFDN0MsR0FBRyxDQUFDeUMsU0FBUyxDQUFDLEdBQUc7UUFDM0MsTUFBTUssU0FBUyxJQUFJLENBQUM5QyxHQUFHLENBQUMrQyxRQUFRO1FBQ2hDRCxPQUFPRSxTQUFTLENBQUMsVUFBVTtRQUMzQkYsT0FBT0csZUFBZSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJO1FBQ3pDSCxPQUFPSSxTQUFTLENBQUMsR0FBRyxVQUFVO1FBQzlCSixPQUFPSyxpQkFBaUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSTtRQUMzQyxNQUFNQyxXQUFXLElBQUksQ0FBQ3BELEdBQUcsQ0FBQ3FELElBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSztZQUN0Q0MsWUFBWTtZQUNaQyxVQUFVO1lBQ1ZDLE9BQU87UUFDWCxHQUFHckQsU0FBUyxDQUFDO1FBQ2IsTUFBTXNELFVBQVUsSUFBSSxDQUFDekQsR0FBRyxDQUFDMEQsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQ25DdkQsU0FBUyxDQUFDLEtBQ1Z3RCxjQUFjLENBQUM7WUFBRUMsZUFBZTtRQUFLO1FBQzFDSCxRQUFRSSxFQUFFLENBQUMsYUFBYSxJQUFNLElBQUksQ0FBQ0Msb0JBQW9CO1FBQ3ZELElBQUksQ0FBQ2pCLGFBQWEsQ0FBQzdDLEdBQUcsQ0FBQztZQUFDOEM7WUFBUU07U0FBUztRQUN6QyxJQUFJLENBQUNQLGFBQWEsQ0FBQ2tCLE9BQU8sQ0FBQyxJQUFJO1FBQy9CLElBQUksQ0FBQ2xCLGFBQWEsQ0FBQzdDLEdBQUcsQ0FBQ3lEO1FBRXZCLGNBQWM7UUFDZCxJQUFJLENBQUNPLGFBQWEsR0FBRyxJQUFJLENBQUNoRSxHQUFHLENBQUN5QyxTQUFTLENBQUMsR0FBRztRQUMzQyxNQUFNd0IsV0FBVyxJQUFJLENBQUNqRSxHQUFHLENBQUMrQyxRQUFRO1FBQ2xDLE1BQU1tQixVQUFVO1FBQ2hCLE1BQU1DLFVBQVU7UUFDaEJGLFNBQVNqQixTQUFTLENBQUMsVUFBVTtRQUM3QmlCLFNBQVNoQixlQUFlLENBQUMsQ0FBQ2lCLFVBQVUsR0FBRyxDQUFDQyxVQUFVLEdBQUdELFNBQVNDLFNBQVM7UUFDdkVGLFNBQVNmLFNBQVMsQ0FBQyxHQUFHLFVBQVU7UUFDaENlLFNBQVNkLGlCQUFpQixDQUFDLENBQUNlLFVBQVUsR0FBRyxDQUFDQyxVQUFVLEdBQUdELFNBQVNDLFNBQVM7UUFDekUsTUFBTUMsT0FBTyxJQUFJLENBQUNwRSxHQUFHLENBQUNDLEtBQUssQ0FBQyxDQUFDaUUsVUFBVSxJQUFJLElBQUksR0FBRyxRQUFRN0QsUUFBUSxDQUFDLE1BQU1nRSxPQUFPLENBQUM7UUFDakYsSUFBSSxDQUFDQyxTQUFTLEdBQUcsSUFBSSxDQUFDdEUsR0FBRyxDQUFDcUQsSUFBSSxDQUFDLENBQUNhLFVBQVUsSUFBSSxJQUFJLEdBQUcsY0FBYztZQUMvRFosWUFBWTtZQUNaQyxVQUFVO1lBQ1ZDLE9BQU87UUFDWCxHQUFHckQsU0FBUyxDQUFDLEdBQUc7UUFDaEIsSUFBSSxDQUFDNkQsYUFBYSxDQUFDaEUsR0FBRyxDQUFDO1lBQUNpRTtZQUFVRztZQUFNLElBQUksQ0FBQ0UsU0FBUztTQUFDO1FBRXZELGFBQWE7UUFDYixJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJLENBQUN2RSxHQUFHLENBQUN5QyxTQUFTLENBQUMsR0FBRztRQUMxQyxNQUFNK0IsVUFBVSxJQUFJLENBQUN4RSxHQUFHLENBQUMrQyxRQUFRO1FBQ2pDLE1BQU0wQixTQUFTO1FBQ2YsTUFBTUMsU0FBUztRQUNmRixRQUFReEIsU0FBUyxDQUFDLFVBQVU7UUFDNUJ3QixRQUFRdkIsZUFBZSxDQUFDLENBQUN3QixTQUFTLEdBQUcsQ0FBQ0MsU0FBUyxHQUFHRCxRQUFRQyxRQUFRO1FBQ2xFRixRQUFRdEIsU0FBUyxDQUFDLEdBQUcsVUFBVTtRQUMvQnNCLFFBQVFyQixpQkFBaUIsQ0FBQyxDQUFDc0IsU0FBUyxHQUFHLENBQUNDLFNBQVMsR0FBR0QsUUFBUUMsUUFBUTtRQUNwRSxJQUFJLENBQUNDLFNBQVMsR0FBRyxJQUFJLENBQUMzRSxHQUFHLENBQUNxRCxJQUFJLENBQUMsR0FBRyxHQUFHLFNBQVM7WUFDMUNDLFlBQVk7WUFDWkMsVUFBVTtZQUNWQyxPQUFPO1FBQ1gsR0FBR3JELFNBQVMsQ0FBQztRQUNiLElBQUksQ0FBQ29FLFlBQVksQ0FBQ3ZFLEdBQUcsQ0FBQztZQUFDd0U7WUFBUyxJQUFJLENBQUNHLFNBQVM7U0FBQztRQUUvQyxjQUFjO1FBQ2QsSUFBSSxDQUFDQyxhQUFhLEdBQUcsSUFBSSxDQUFDNUUsR0FBRyxDQUFDeUMsU0FBUyxDQUFDLEdBQUc7UUFDM0MsTUFBTW9DLFdBQVcsSUFBSSxDQUFDN0UsR0FBRyxDQUFDK0MsUUFBUTtRQUNsQyxNQUFNK0IsVUFBVTtRQUNoQixNQUFNQyxVQUFVO1FBQ2hCRixTQUFTN0IsU0FBUyxDQUFDLFVBQVU7UUFDN0I2QixTQUFTNUIsZUFBZSxDQUFDLENBQUM2QixVQUFVLEdBQUcsQ0FBQ0MsVUFBVSxHQUFHRCxTQUFTQyxTQUFTO1FBQ3ZFRixTQUFTM0IsU0FBUyxDQUFDLEdBQUcsVUFBVTtRQUNoQzJCLFNBQVMxQixpQkFBaUIsQ0FBQyxDQUFDMkIsVUFBVSxHQUFHLENBQUNDLFVBQVUsR0FBR0QsU0FBU0MsU0FBUztRQUN6RSxNQUFNQyxhQUFhLElBQUksQ0FBQ2hGLEdBQUcsQ0FBQ3FELElBQUksQ0FBQyxHQUFHLEdBQUcsU0FBUztZQUM1Q0MsWUFBWTtZQUNaQyxVQUFVO1lBQ1ZDLE9BQU87UUFDWCxHQUFHckQsU0FBUyxDQUFDO1FBQ2IsSUFBSSxDQUFDeUUsYUFBYSxDQUFDNUUsR0FBRyxDQUFDO1lBQUM2RTtZQUFVRztTQUFXO1FBRTdDLElBQUksQ0FBQ3BDLFlBQVksQ0FBQzVDLEdBQUcsQ0FBQztZQUFDLElBQUksQ0FBQzZDLGFBQWE7WUFBRSxJQUFJLENBQUNtQixhQUFhO1lBQUUsSUFBSSxDQUFDTyxZQUFZO1lBQUUsSUFBSSxDQUFDSyxhQUFhO1NBQUM7UUFDckcsSUFBSSxDQUFDcEMsTUFBTSxDQUFDeEMsR0FBRyxDQUFDLElBQUksQ0FBQzRDLFlBQVk7UUFDakMsSUFBSSxDQUFDcUMsU0FBUztRQUVkLGNBQWM7UUFDZCxJQUFJLENBQUNDLFVBQVUsR0FBRyxJQUFJLENBQUNDLGdCQUFnQixDQUFDM0YsUUFBUSxHQUFHQyxTQUFTO1FBQzVELElBQUksQ0FBQ3lGLFVBQVUsQ0FBQ3hDLGVBQWUsQ0FBQztRQUNoQyxJQUFJLENBQUNGLE1BQU0sQ0FBQ3hDLEdBQUcsQ0FBQyxJQUFJLENBQUNrRixVQUFVO1FBQy9CLElBQUksQ0FBQ0EsVUFBVSxDQUFDRSxVQUFVLENBQUM7UUFDM0IsSUFBSSxDQUFDRixVQUFVLENBQUNHLFNBQVMsQ0FBQztRQUUxQixJQUFJLENBQUNDLGNBQWM7UUFFbkIsMEJBQTBCO1FBQzFCLElBQUksQ0FBQ0MsZUFBZTtRQUNwQixJQUFJLENBQUM3RixLQUFLLENBQUNtRSxFQUFFLENBQUMsVUFBVTtZQUNwQixJQUFJLElBQUksQ0FBQzJCLFNBQVMsRUFBRSxJQUFJLENBQUNDLFVBQVU7WUFDbkMsSUFBSSxDQUFDUixTQUFTO1FBQ2xCO1FBRUEsNkJBQTZCO1FBQzdCLElBQUksQ0FBQ1MsZ0JBQWdCO1FBQ3JCLElBQUksQ0FBQ0MsY0FBYztRQUVuQixtQ0FBbUM7UUFDbkMsSUFBSSxDQUFDL0YsT0FBTyxDQUFDQyxJQUFJLENBQUMyQixNQUFNLENBQUM7WUFBQyxJQUFJLENBQUNnQixNQUFNO1lBQUUsSUFBSSxDQUFDSSxZQUFZO1NBQUM7UUFFekQsWUFBWTtRQUNaLElBQUksQ0FBQ2dELGNBQWM7UUFFbkIsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQ0MsaUJBQWlCO0lBQzFCO0lBRVFaLFlBQWtCO1FBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUNwQyxhQUFhLElBQUksQ0FBQyxJQUFJLENBQUNtQixhQUFhLElBQUksQ0FBQyxJQUFJLENBQUNPLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQ0ssYUFBYSxFQUFFO1FBQzdGLE1BQU0sRUFBRXBGLEtBQUssRUFBRUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDQyxLQUFLO1FBQ3BDLE1BQU1vRyxXQUFXQyxLQUFLQyxHQUFHLENBQUMsSUFBSUQsS0FBS0UsS0FBSyxDQUFDeEcsU0FBUztRQUNsRCxNQUFNeUcsWUFBWUgsS0FBS0MsR0FBRyxDQUFDLElBQUlELEtBQUtFLEtBQUssQ0FBQ3pHLFFBQVE7UUFDbEQsTUFBTTJHLE1BQU07UUFDWixNQUFNckIsVUFBVTtRQUNoQixNQUFNTCxTQUFTO1FBRWYsSUFBSSxDQUFDNUIsYUFBYSxDQUFDdUQsV0FBVyxDQUFDRixZQUFZLElBQUlKLFdBQVc7UUFDMUQsSUFBSSxDQUFDOUIsYUFBYSxDQUFDb0MsV0FBVyxDQUFDNUcsUUFBUSxHQUFHc0csV0FBVztRQUVyRCxNQUFNTyxZQUFZN0csUUFBUTBHO1FBQzFCLElBQUksQ0FBQ3RCLGFBQWEsQ0FBQ3dCLFdBQVcsQ0FBQ0MsWUFBWXZCLFVBQVUsR0FBR2dCLFdBQVc7UUFDbkUsSUFBSSxDQUFDdkIsWUFBWSxDQUFDNkIsV0FBVyxDQUFDQyxZQUFZdkIsVUFBVXFCLE1BQU0xQixTQUFTLEdBQUdxQixXQUFXO0lBQ3JGO0lBRVFoQyx1QkFBNkI7UUFDakN3QyxPQUFPQyxRQUFRLENBQUNDLElBQUksR0FBRztJQUMzQjtJQUVBckIsaUJBQWlCbkUsQ0FBUyxFQUFFVCxDQUFTLEVBQUU7UUFDbkMsTUFBTWtDLFlBQVksSUFBSSxDQUFDekMsR0FBRyxDQUFDeUMsU0FBUyxDQUFDekIsR0FBR1Q7UUFDeEMsTUFBTWYsUUFBUTtRQUNkLE1BQU1DLFNBQVM7UUFFZixNQUFNZ0gsS0FBSyxJQUFJLENBQUN6RyxHQUFHLENBQUMwRyxTQUFTLENBQUMsR0FBRyxHQUFHbEgsT0FBT0MsUUFBUSxVQUM5Q2tILGNBQWMsQ0FBQyxHQUFHLFVBQ2xCQyxZQUFZLENBQUM7UUFFbEIsTUFBTXZELE9BQU8sSUFBSSxDQUFDckQsR0FBRyxDQUFDcUQsSUFBSSxDQUFDLEdBQUcsR0FBRyxjQUFjO1lBQzNDQyxZQUFZO1lBQWVDLFVBQVU7WUFBUUMsT0FBTztRQUN4RCxHQUFHckQsU0FBUyxDQUFDO1FBRWJzQyxVQUFVekMsR0FBRyxDQUFDO1lBQUN5RztZQUFJcEQ7U0FBSztRQUN4QlosVUFBVXNCLE9BQU8sQ0FBQ3ZFLE9BQU9DO1FBRXpCLElBQUksQ0FBQ29ILFlBQVksR0FBR0o7UUFFcEIsTUFBTUssVUFBVTtZQUNaLElBQUksSUFBSSxDQUFDQyxRQUFRLElBQUksSUFBSSxDQUFDQyxjQUFjLEVBQUU7WUFDMUNQLEdBQUdHLFlBQVksQ0FBQztZQUNoQixJQUFJLENBQUNLLGFBQWE7UUFDdEI7UUFFQSxNQUFNQyxZQUFZO1lBQ2RULEdBQUdHLFlBQVksQ0FBQztRQUNwQjtRQUVBbkUsVUFBVWtCLGNBQWMsQ0FBQyxJQUFJd0QsT0FBT0MsSUFBSSxDQUFDQyxTQUFTLENBQUMsQ0FBQzdILFFBQVEsR0FBRyxDQUFDQyxTQUFTLEdBQUdELE9BQU9DLFNBQVMwSCxPQUFPQyxJQUFJLENBQUNDLFNBQVMsQ0FBQ0MsUUFBUTtRQUUxSDdFLFVBQVVvQixFQUFFLENBQUMsZUFBZWlEO1FBRTVCckUsVUFBVW9CLEVBQUUsQ0FBQyxhQUFhcUQ7UUFFMUJ6RSxVQUFVb0IsRUFBRSxDQUFDLGNBQWNxRDtRQUUzQix5QkFBeUI7UUFDekIsSUFBSSxDQUFDSyxNQUFNLENBQUN2SCxHQUFHLENBQUM7WUFDWndILFNBQVMvRTtZQUNUL0MsT0FBTztZQUNQK0gsVUFBVTtZQUNWQyxNQUFNO1lBQ05DLFFBQVEsQ0FBQztRQUNiO1FBRUEsT0FBT2xGO0lBQ1g7SUFFUTZDLGlCQUF1QjtRQUMzQixJQUFJLENBQUNzQyxLQUFLLENBQUNDLE9BQU8sR0FBRztRQUNyQixJQUFJLElBQUksQ0FBQ0QsS0FBSyxDQUFDRSxLQUFLLEVBQUUsSUFBSSxDQUFDRixLQUFLLENBQUNFLEtBQUssQ0FBQ0QsT0FBTyxHQUFHO1FBRWpELElBQUksQ0FBQ0QsS0FBSyxDQUFDL0QsRUFBRSxDQUFDLGVBQWUsQ0FBQ2tFO1lBQzFCLElBQUksSUFBSSxDQUFDaEIsUUFBUSxJQUFJLElBQUksQ0FBQ0MsY0FBYyxFQUFFO1lBQzFDLE1BQU1nQixTQUFTLElBQUksQ0FBQzlDLFVBQVUsQ0FBQytDLFNBQVM7WUFDeEMsSUFBSUQsT0FBT0UsUUFBUSxDQUFDSCxRQUFRL0csQ0FBQyxFQUFFK0csUUFBUXhILENBQUMsR0FBRztnQkFDdkMsSUFBSSxDQUFDc0csWUFBWSxDQUFDRCxZQUFZLENBQUM7Z0JBQy9CLElBQUksQ0FBQ0ssYUFBYTtZQUN0QjtRQUNKO1FBRUEsSUFBSSxDQUFDVyxLQUFLLENBQUMvRCxFQUFFLENBQUMsYUFBYTtZQUN2QixJQUFJLENBQUNnRCxZQUFZLENBQUNELFlBQVksQ0FBQztRQUNuQztJQUNKO0lBRVFyQixrQkFBd0I7UUFDNUIsSUFBSSxDQUFDNEMsU0FBUyxHQUFHLElBQUk1SixvREFBU0EsQ0FBQyxJQUFJLEVBQUU7WUFBRTZKLGFBQWE7WUFBR0MsT0FBTztZQUFLQyxRQUFRLElBQUksQ0FBQzlGLE1BQU07WUFBRStGLFdBQVc7UUFBSztRQUN4RyxJQUFJLENBQUMvQyxTQUFTLEdBQUcsSUFBSSxDQUFDMkMsU0FBUyxDQUFDMUYsU0FBUztRQUN6QyxJQUFJLENBQUMrRixrQkFBa0IsR0FBRyxJQUFJLENBQUNMLFNBQVMsQ0FBQ00sY0FBYztRQUN2RCxJQUFJLENBQUNDLGVBQWUsR0FBRyxJQUFJLENBQUNQLFNBQVMsQ0FBQ1EsV0FBVztRQUNqRCxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJLENBQUNULFNBQVMsQ0FBQ1UsT0FBTztRQUN6QyxJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJLENBQUNYLFNBQVMsQ0FBQ1ksU0FBUztRQUM3QyxJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJLENBQUNiLFNBQVMsQ0FBQ2MsU0FBUztRQUM3QyxJQUFJLENBQUNDLHFCQUFxQixHQUFHLElBQUksQ0FBQ2YsU0FBUyxDQUFDZ0IsaUJBQWlCO1FBQzdELElBQUksQ0FBQ0Msd0JBQXdCLEdBQUcsSUFBSSxDQUFDakIsU0FBUyxDQUFDa0Isb0JBQW9CO1FBQ25FLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDbkIsU0FBUyxDQUFDb0IsWUFBWTtRQUNuRCxJQUFJLENBQUNDLGlCQUFpQixHQUFHLElBQUksQ0FBQ3JCLFNBQVMsQ0FBQ3NCLGFBQWE7UUFFckQsSUFBSSxDQUFDdEIsU0FBUyxDQUFDdUIsZ0JBQWdCLENBQUMsQ0FBQ0M7WUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQzVDLFFBQVEsSUFBSSxJQUFJLENBQUM2QyxVQUFVLEVBQUU7WUFDdkMsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ0Y7UUFDMUI7UUFFQSxJQUFJLENBQUNsRSxVQUFVO0lBQ25CO0lBRVFDLG1CQUF5QjtRQUM3QixNQUFNLEVBQUVsRyxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQ0MsS0FBSztRQUVwQyxNQUFNK0MsWUFBWSxJQUFJLENBQUN6QyxHQUFHLENBQUN5QyxTQUFTLENBQUMsR0FBRyxHQUFHQyxlQUFlLENBQUMsR0FBR0MsUUFBUSxDQUFDO1FBRXZFLE1BQU1tSCxVQUFVLElBQUksQ0FBQzlKLEdBQUcsQ0FBQzBHLFNBQVMsQ0FBQyxHQUFHLEdBQUdsSCxPQUFPQyxRQUFRLFVBQVUsTUFDN0RVLFNBQVMsQ0FBQyxHQUFHO1FBRWxCLE1BQU00SixhQUFhaEUsS0FBS2lFLEdBQUcsQ0FBQyxLQUFLeEssUUFBUTtRQUN6QyxNQUFNeUssY0FBYztRQUNwQixNQUFNeEIsaUJBQWlCLElBQUksQ0FBQ3pJLEdBQUcsQ0FBQ3lDLFNBQVMsQ0FBQ2pELFFBQVEsR0FBR3VHLEtBQUtFLEtBQUssQ0FBQ3hHLFNBQVMsT0FBT2lELGVBQWUsQ0FBQztRQUVoRyxNQUFNaUcsY0FBYyxJQUFJLENBQUMzSSxHQUFHLENBQUMrQyxRQUFRO1FBQ3JDNEYsWUFBWTNGLFNBQVMsQ0FBQyxVQUFVO1FBQ2hDMkYsWUFBWTFGLGVBQWUsQ0FBQyxDQUFDOEcsYUFBYSxJQUFJLEdBQUcsQ0FBQ0UsY0FBYyxJQUFJLElBQUlGLFlBQVlFLGFBQWE7UUFFakcsTUFBTXBCLFVBQVUsSUFBSSxDQUFDN0ksR0FBRyxDQUFDK0MsUUFBUTtRQUNqQzhGLFFBQVE3RixTQUFTLENBQUMsVUFBVTtRQUM1QjZGLFFBQVE1RixlQUFlLENBQUMsQ0FBQzhHLGFBQWEsR0FBRyxDQUFDRSxjQUFjLEdBQUdGLFlBQVlFLGFBQWE7UUFDcEZwQixRQUFRM0YsU0FBUyxDQUFDLEdBQUcsVUFBVTtRQUMvQjJGLFFBQVExRixpQkFBaUIsQ0FBQyxDQUFDNEcsYUFBYSxHQUFHLENBQUNFLGNBQWMsR0FBR0YsWUFBWUUsYUFBYTtRQUV0RixNQUFNQyxRQUFRLElBQUksQ0FBQ2xLLEdBQUcsQ0FBQ3FELElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxtQ0FBbUM7WUFDbkVDLFlBQVk7WUFDWkMsVUFBVTtZQUNWQyxPQUFPO1lBQ1AyRyxPQUFPO1lBQ1BDLFVBQVU7Z0JBQUU1SyxPQUFPdUssYUFBYTtnQkFBSU0saUJBQWlCO1lBQUs7UUFDOUQsR0FBR2xLLFNBQVMsQ0FBQztRQUViLE1BQU1tSyxTQUFTLElBQUksQ0FBQ0MsaUJBQWlCLENBQUMsR0FBRztRQUV6QzlCLGVBQWV6SSxHQUFHLENBQUM7WUFBQzJJO1lBQWFFO1lBQVNxQjtZQUFPSTtTQUFPO1FBQ3hEN0gsVUFBVXpDLEdBQUcsQ0FBQztZQUFDOEo7WUFBU3JCO1NBQWU7UUFDdkNoRyxVQUFVMkMsVUFBVSxDQUFDO1FBRXJCLElBQUksQ0FBQ29GLFVBQVUsR0FBRy9IO1FBQ2xCLElBQUksSUFBSSxDQUFDRCxNQUFNLEVBQUUsSUFBSSxDQUFDQSxNQUFNLENBQUN4QyxHQUFHLENBQUN5QztJQUNyQztJQUVRbUQsaUJBQXVCO1FBQzNCLE1BQU0sRUFBRXBHLEtBQUssRUFBRUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDQyxLQUFLO1FBRXBDLE1BQU0rQyxZQUFZLElBQUksQ0FBQ3pDLEdBQUcsQ0FBQ3lDLFNBQVMsQ0FBQyxHQUFHLEdBQUdDLGVBQWUsQ0FBQyxHQUFHQyxRQUFRLENBQUM7UUFFdkUsTUFBTW1ILFVBQVUsSUFBSSxDQUFDOUosR0FBRyxDQUFDMEcsU0FBUyxDQUFDLEdBQUcsR0FBR2xILE9BQU9DLFFBQVEsVUFBVSxLQUM3RFUsU0FBUyxDQUFDLEdBQUc7UUFFbEIsTUFBTTRKLGFBQWFoRSxLQUFLaUUsR0FBRyxDQUFDLEtBQUt4SyxRQUFRO1FBQ3pDLE1BQU15SyxjQUFjO1FBQ3BCLE1BQU14QixpQkFBaUIsSUFBSSxDQUFDekksR0FBRyxDQUFDeUMsU0FBUyxDQUFDakQsUUFBUSxHQUFHdUcsS0FBS0UsS0FBSyxDQUFDeEcsU0FBUyxPQUFPaUQsZUFBZSxDQUFDO1FBQ2hHb0gsUUFBUW5ILFFBQVEsQ0FBQztRQUNqQjhGLGVBQWU5RixRQUFRLENBQUM7UUFFeEIsTUFBTThILFVBQVUsSUFBSSxDQUFDekssR0FBRyxDQUFDMEQsSUFBSSxDQUFDLEdBQUcsR0FBR2xFLE9BQU9DLFFBQVFVLFNBQVMsQ0FBQyxHQUFHO1FBQ2hFc0ssUUFBUTlHLGNBQWMsQ0FBQyxJQUFJd0QsT0FBT0MsSUFBSSxDQUFDQyxTQUFTLENBQUMsR0FBRyxHQUFHN0gsT0FBT0MsU0FBUyxDQUFDaUwsT0FBTzFKLEdBQUdUO1lBQzlFLE1BQU1vSyxjQUFjbEMsZUFBZVIsU0FBUztZQUM1QyxJQUFJZCxPQUFPQyxJQUFJLENBQUNDLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDcUQsYUFBYTNKLEdBQUdULElBQUksT0FBTztZQUM5RCxPQUFPNEcsT0FBT0MsSUFBSSxDQUFDQyxTQUFTLENBQUNDLFFBQVEsQ0FBQ29ELE9BQWdDMUosR0FBR1Q7UUFDN0U7UUFDQWtLLFFBQVE1RyxFQUFFLENBQUMsZUFBZSxLQUFPO1FBRWpDLE1BQU04RSxjQUFjLElBQUksQ0FBQzNJLEdBQUcsQ0FBQytDLFFBQVE7UUFDckM0RixZQUFZM0YsU0FBUyxDQUFDLFVBQVU7UUFDaEMyRixZQUFZMUYsZUFBZSxDQUFDLENBQUM4RyxhQUFhLElBQUksR0FBRyxDQUFDRSxjQUFjLElBQUksSUFBSUYsWUFBWUUsYUFBYTtRQUVqRyxNQUFNcEIsVUFBVSxJQUFJLENBQUM3SSxHQUFHLENBQUMrQyxRQUFRO1FBQ2pDOEYsUUFBUTdGLFNBQVMsQ0FBQyxVQUFVO1FBQzVCNkYsUUFBUTVGLGVBQWUsQ0FBQyxDQUFDOEcsYUFBYSxHQUFHLENBQUNFLGNBQWMsR0FBR0YsWUFBWUUsYUFBYTtRQUNwRnBCLFFBQVEzRixTQUFTLENBQUMsR0FBRyxVQUFVO1FBQy9CMkYsUUFBUTFGLGlCQUFpQixDQUFDLENBQUM0RyxhQUFhLEdBQUcsQ0FBQ0UsY0FBYyxHQUFHRixZQUFZRSxhQUFhO1FBRXRGLE1BQU1DLFFBQVEsSUFBSSxDQUFDbEssR0FBRyxDQUFDcUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLG9CQUFvQjtZQUNwREMsWUFBWTtZQUNaQyxVQUFVO1lBQ1ZDLE9BQU87UUFDWCxHQUFHckQsU0FBUyxDQUFDO1FBRWIsTUFBTXlLLFdBQVcsSUFBSSxDQUFDNUssR0FBRyxDQUFDcUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLDBCQUEwQjtZQUM3REMsWUFBWTtZQUNaQyxVQUFVO1lBQ1ZDLE9BQU87WUFDUDJHLE9BQU87WUFDUEMsVUFBVTtnQkFBRTVLLE9BQU91SyxhQUFhO2dCQUFJTSxpQkFBaUI7WUFBSztRQUM5RCxHQUFHbEssU0FBUyxDQUFDO1FBRWIsTUFBTTBLLFdBQVc7UUFDakIsTUFBTUMsWUFBWS9FLEtBQUtpRSxHQUFHLENBQUMsS0FBS2pFLEtBQUtnRixLQUFLLENBQUMsQ0FBQ2hCLGFBQWEsR0FBRSxJQUFLO1FBQ2hFLE1BQU1pQixhQUFhO1FBQ25CLE1BQU1DLFNBQVM7UUFFZixNQUFNQyxZQUFZLElBQUksQ0FBQ2xMLEdBQUcsQ0FBQytDLFFBQVE7UUFDbkNtSSxVQUFVbEksU0FBUyxDQUFDLFVBQVU7UUFDOUJrSSxVQUFVakksZUFBZSxDQUFDLENBQUM2SCxZQUFZLEdBQUcsQ0FBQ0UsYUFBYSxHQUFHRixXQUFXRSxZQUFZO1FBQ2xGRSxVQUFVaEksU0FBUyxDQUFDLEdBQUcsVUFBVTtRQUNqQ2dJLFVBQVUvSCxpQkFBaUIsQ0FBQyxDQUFDMkgsWUFBWSxHQUFHLENBQUNFLGFBQWEsR0FBR0YsV0FBV0UsWUFBWTtRQUVwRixNQUFNRyxXQUFXLElBQUksQ0FBQ25MLEdBQUcsQ0FBQytDLFFBQVE7UUFDbENvSSxTQUFTbkksU0FBUyxDQUFDLFVBQVU7UUFDN0JtSSxTQUFTbEksZUFBZSxDQUFDLENBQUM2SCxZQUFZLEdBQUcsQ0FBQ0UsYUFBYSxHQUFHRixXQUFXRSxZQUFZO1FBQ2pGRyxTQUFTakksU0FBUyxDQUFDLEdBQUcsVUFBVTtRQUNoQ2lJLFNBQVNoSSxpQkFBaUIsQ0FBQyxDQUFDMkgsWUFBWSxHQUFHLENBQUNFLGFBQWEsR0FBR0YsV0FBV0UsWUFBWTtRQUVuRixNQUFNSSxxQkFBcUIsSUFBSSxDQUFDcEwsR0FBRyxDQUFDeUMsU0FBUyxDQUFDLENBQUNxSSxZQUFZLElBQUlELFdBQVcsR0FBR0ksUUFBUTtZQUFDQztTQUFVO1FBQ2hHLE1BQU1HLG9CQUFvQixJQUFJLENBQUNyTCxHQUFHLENBQUN5QyxTQUFTLENBQUNxSSxZQUFZLElBQUlELFdBQVcsR0FBR0ksUUFBUTtZQUFDRTtTQUFTO1FBRTdGLE1BQU1HLGFBQWEsSUFBSSxDQUFDdEwsR0FBRyxDQUFDcUQsSUFBSSxDQUFDK0gsbUJBQW1CcEssQ0FBQyxFQUFFaUssU0FBUyxJQUFJLFNBQVM7WUFDekUzSCxZQUFZO1lBQ1pDLFVBQVU7WUFDVkMsT0FBTztRQUNYLEdBQUdyRCxTQUFTLENBQUM7UUFFYixNQUFNb0wsWUFBWSxJQUFJLENBQUN2TCxHQUFHLENBQUNxRCxJQUFJLENBQUNnSSxrQkFBa0JySyxDQUFDLEVBQUVpSyxTQUFTLElBQUksUUFBUTtZQUN0RTNILFlBQVk7WUFDWkMsVUFBVTtZQUNWQyxPQUFPO1FBQ1gsR0FBR3JELFNBQVMsQ0FBQztRQUViLElBQUksQ0FBQ3FMLGlCQUFpQixHQUFHLElBQUksQ0FBQ3hMLEdBQUcsQ0FBQ3FELElBQUksQ0FBQytILG1CQUFtQnBLLENBQUMsRUFBRWlLLFNBQVMsR0FBRyxLQUFLO1lBQzFFM0gsWUFBWTtZQUNaQyxVQUFVO1lBQ1ZDLE9BQU87UUFDWCxHQUFHckQsU0FBUyxDQUFDO1FBRWIsSUFBSSxDQUFDc0wsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDekwsR0FBRyxDQUFDcUQsSUFBSSxDQUFDZ0ksa0JBQWtCckssQ0FBQyxFQUFFaUssU0FBUyxHQUFHLFNBQVM7WUFDNUUzSCxZQUFZO1lBQ1pDLFVBQVU7WUFDVkMsT0FBTztRQUNYLEdBQUdyRCxTQUFTLENBQUM7UUFFYixNQUFNdUwsZ0JBQWdCLElBQUksQ0FBQ0Msc0JBQXNCLENBQUMsR0FBRzFCLGNBQWMsSUFBSTtRQUN2RXlCLGNBQWMvSSxRQUFRLENBQUM7UUFFdkI4RixlQUFlekksR0FBRyxDQUFDO1lBQ2YySTtZQUNBRTtZQUNBcUI7WUFDQVU7WUFDQVE7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQSxJQUFJLENBQUNDLGlCQUFpQjtZQUN0QixJQUFJLENBQUNDLGdCQUFnQjtTQUN4QjtRQUNEaEQsZUFBZXpJLEdBQUcsQ0FBQzBMO1FBRW5CakosVUFBVXpDLEdBQUcsQ0FBQztZQUFDOEo7WUFBU1c7WUFBU2hDO1NBQWU7UUFDaERoRyxVQUFVMkMsVUFBVSxDQUFDO1FBRXJCLElBQUksQ0FBQ3dHLFFBQVEsR0FBR25KO1FBQ2hCLElBQUksQ0FBQ21KLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDLFNBQVNwRDtRQUMvQixJQUFJLENBQUNtRCxRQUFRLENBQUNDLE9BQU8sQ0FBQyxXQUFXL0I7UUFDakMsSUFBSSxJQUFJLENBQUN0SCxNQUFNLEVBQUUsSUFBSSxDQUFDQSxNQUFNLENBQUN4QyxHQUFHLENBQUN5QztJQUNyQztJQUVRa0osdUJBQXVCM0ssQ0FBUyxFQUFFVCxDQUFTLEVBQWdDO1FBQy9FLE1BQU1rQyxZQUFZLElBQUksQ0FBQ3pDLEdBQUcsQ0FBQ3lDLFNBQVMsQ0FBQ3pCLEdBQUdULEdBQUdtQyxlQUFlLENBQUM7UUFDM0QsTUFBTWxELFFBQVE7UUFDZCxNQUFNQyxTQUFTO1FBQ2YsTUFBTXFNLFNBQVM7UUFFZixNQUFNQyxTQUFTLElBQUksQ0FBQy9MLEdBQUcsQ0FBQytDLFFBQVE7UUFDaENnSixPQUFPL0ksU0FBUyxDQUFDLFVBQVU7UUFDM0IrSSxPQUFPOUksZUFBZSxDQUFDLENBQUN6RCxRQUFRLElBQUksR0FBRyxDQUFDQyxTQUFTLElBQUksR0FBR0QsT0FBT0MsUUFBUXFNO1FBRXZFLE1BQU1yRixLQUFLLElBQUksQ0FBQ3pHLEdBQUcsQ0FBQytDLFFBQVE7UUFDNUIsTUFBTWlKLE9BQU8sQ0FBQ0MsTUFBY0M7WUFDeEJ6RixHQUFHMEYsS0FBSztZQUNSMUYsR0FBR3pELFNBQVMsQ0FBQ2lKLE1BQU07WUFDbkJ4RixHQUFHeEQsZUFBZSxDQUFDLENBQUN6RCxRQUFRLEdBQUcsQ0FBQ0MsU0FBUyxHQUFHRCxPQUFPQyxRQUFRcU07WUFDM0RyRixHQUFHdkQsU0FBUyxDQUFDLEdBQUdnSixRQUFRO1lBQ3hCekYsR0FBR3RELGlCQUFpQixDQUFDLENBQUMzRCxRQUFRLEdBQUcsQ0FBQ0MsU0FBUyxHQUFHRCxPQUFPQyxRQUFRcU07UUFDakU7UUFDQUUsS0FBSyxVQUFVO1FBRWYsTUFBTTNJLE9BQU8sSUFBSSxDQUFDckQsR0FBRyxDQUFDcUQsSUFBSSxDQUFDLEdBQUcsR0FBRyxjQUFjO1lBQzNDQyxZQUFZO1lBQ1pDLFVBQVU7WUFDVkMsT0FBTztRQUNYLEdBQUdyRCxTQUFTLENBQUM7UUFFYixNQUFNaU0sTUFBTSxJQUFJLENBQUNwTSxHQUFHLENBQUMwRyxTQUFTLENBQUMsR0FBRyxHQUFHbEgsT0FBT0MsUUFBUSxVQUFVO1FBQzlEMk0sSUFBSXpJLGNBQWM7UUFFbEJsQixVQUFVekMsR0FBRyxDQUFDO1lBQUMrTDtZQUFRdEY7WUFBSXBEO1lBQU0rSTtTQUFJO1FBQ3JDM0osVUFBVXNCLE9BQU8sQ0FBQ3ZFLE9BQU9DO1FBRXpCMk0sSUFBSXZJLEVBQUUsQ0FBQyxlQUFlO1lBQ2xCbUksS0FBSyxVQUFVO1lBQ2YsSUFBSSxDQUFDekUsTUFBTSxDQUFDdkgsR0FBRyxDQUFDO2dCQUFFd0gsU0FBUy9FO2dCQUFXL0MsT0FBTztnQkFBTStILFVBQVU7Z0JBQUs0RSxNQUFNO1lBQWU7UUFDM0Y7UUFDQUQsSUFBSXZJLEVBQUUsQ0FBQyxjQUFjO1lBQ2pCbUksS0FBSyxVQUFVO1lBQ2YsSUFBSSxDQUFDekUsTUFBTSxDQUFDdkgsR0FBRyxDQUFDO2dCQUFFd0gsU0FBUy9FO2dCQUFXL0MsT0FBTztnQkFBRytILFVBQVU7Z0JBQUs0RSxNQUFNO1lBQWU7UUFDeEY7UUFDQUQsSUFBSXZJLEVBQUUsQ0FBQyxlQUFlO1lBQ2xCbUksS0FBSyxVQUFVO1lBQ2YsSUFBSSxDQUFDekUsTUFBTSxDQUFDdkgsR0FBRyxDQUFDO2dCQUFFd0gsU0FBUy9FO2dCQUFXL0MsT0FBTztnQkFBTStILFVBQVU7Z0JBQUk0RSxNQUFNO1lBQWU7WUFDdEYsSUFBSSxDQUFDQyxVQUFVO1FBQ25CO1FBQ0FGLElBQUl2SSxFQUFFLENBQUMsYUFBYTtZQUNoQm1JLEtBQUssVUFBVTtZQUNmLElBQUksQ0FBQ3pFLE1BQU0sQ0FBQ3ZILEdBQUcsQ0FBQztnQkFBRXdILFNBQVMvRTtnQkFBVy9DLE9BQU87Z0JBQU0rSCxVQUFVO2dCQUFJNEUsTUFBTTtZQUFlO1FBQzFGO1FBRUEsT0FBTzVKO0lBQ1g7SUFFUW9ELG9CQUEwQjtRQUM5QixNQUFNLEVBQUVyRyxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQ0MsS0FBSztRQUVwQyxNQUFNK0MsWUFBWSxJQUFJLENBQUN6QyxHQUFHLENBQUN5QyxTQUFTLENBQUMsR0FBRyxHQUFHQyxlQUFlLENBQUMsR0FBR0MsUUFBUSxDQUFDO1FBRXZFLE1BQU1tSCxVQUFVLElBQUksQ0FBQzlKLEdBQUcsQ0FBQzBHLFNBQVMsQ0FBQyxHQUFHLEdBQUdsSCxPQUFPQyxRQUFRLFVBQVUsTUFDN0RVLFNBQVMsQ0FBQyxHQUFHO1FBRWxCLE1BQU00SixhQUFhaEUsS0FBS2lFLEdBQUcsQ0FBQyxLQUFLeEssUUFBUTtRQUN6QyxNQUFNeUssY0FBYztRQUNwQixNQUFNeEIsaUJBQWlCLElBQUksQ0FBQ3pJLEdBQUcsQ0FBQ3lDLFNBQVMsQ0FBQ2pELFFBQVEsR0FBR3VHLEtBQUtFLEtBQUssQ0FBQ3hHLFNBQVMsT0FBT2lELGVBQWUsQ0FBQztRQUVoRyxNQUFNaUcsY0FBYyxJQUFJLENBQUMzSSxHQUFHLENBQUMrQyxRQUFRO1FBQ3JDNEYsWUFBWTNGLFNBQVMsQ0FBQyxVQUFVO1FBQ2hDMkYsWUFBWTFGLGVBQWUsQ0FBQyxDQUFDOEcsYUFBYSxJQUFJLEdBQUcsQ0FBQ0UsY0FBYyxJQUFJLElBQUlGLFlBQVlFLGFBQWE7UUFFakcsTUFBTXBCLFVBQVUsSUFBSSxDQUFDN0ksR0FBRyxDQUFDK0MsUUFBUTtRQUNqQzhGLFFBQVE3RixTQUFTLENBQUMsVUFBVTtRQUM1QjZGLFFBQVE1RixlQUFlLENBQUMsQ0FBQzhHLGFBQWEsR0FBRyxDQUFDRSxjQUFjLEdBQUdGLFlBQVlFLGFBQWE7UUFDcEZwQixRQUFRM0YsU0FBUyxDQUFDLEdBQUcsVUFBVTtRQUMvQjJGLFFBQVExRixpQkFBaUIsQ0FBQyxDQUFDNEcsYUFBYSxHQUFHLENBQUNFLGNBQWMsR0FBR0YsWUFBWUUsYUFBYTtRQUV0RixNQUFNQyxRQUFRLElBQUksQ0FBQ2xLLEdBQUcsQ0FBQ3FELElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSx1QkFBdUI7WUFDdkRDLFlBQVk7WUFDWkMsVUFBVTtZQUNWQyxPQUFPO1FBQ1gsR0FBR3JELFNBQVMsQ0FBQztRQUViLE1BQU11TCxnQkFBZ0IsSUFBSSxDQUFDYSxtQkFBbUIsQ0FBQyxHQUFHO1FBRWxEOUQsZUFBZXpJLEdBQUcsQ0FBQztZQUFDMkk7WUFBYUU7WUFBU3FCO1lBQU93QjtTQUFjO1FBRS9EakosVUFBVXpDLEdBQUcsQ0FBQztZQUFDOEo7WUFBU3JCO1NBQWU7UUFDdkNoRyxVQUFVMkMsVUFBVSxDQUFDO1FBRXJCLElBQUksQ0FBQ29ILFdBQVcsR0FBRy9KO1FBQ25CLElBQUksQ0FBQytKLFdBQVcsQ0FBQ1gsT0FBTyxDQUFDLFNBQVNwRDtRQUNsQyxJQUFJLElBQUksQ0FBQ2pHLE1BQU0sRUFBRSxJQUFJLENBQUNBLE1BQU0sQ0FBQ3hDLEdBQUcsQ0FBQ3lDO0lBQ3JDO0lBRVE4SixvQkFBb0J2TCxDQUFTLEVBQUVULENBQVMsRUFBZ0M7UUFDNUUsTUFBTWtDLFlBQVksSUFBSSxDQUFDekMsR0FBRyxDQUFDeUMsU0FBUyxDQUFDekIsR0FBR1QsR0FBR21DLGVBQWUsQ0FBQztRQUMzRCxNQUFNbEQsUUFBUTtRQUNkLE1BQU1DLFNBQVM7UUFDZixNQUFNcU0sU0FBUztRQUVmLE1BQU1DLFNBQVMsSUFBSSxDQUFDL0wsR0FBRyxDQUFDK0MsUUFBUTtRQUNoQ2dKLE9BQU8vSSxTQUFTLENBQUMsVUFBVTtRQUMzQitJLE9BQU85SSxlQUFlLENBQUMsQ0FBQ3pELFFBQVEsSUFBSSxHQUFHLENBQUNDLFNBQVMsSUFBSSxHQUFHRCxPQUFPQyxRQUFRcU07UUFFdkUsTUFBTXJGLEtBQUssSUFBSSxDQUFDekcsR0FBRyxDQUFDK0MsUUFBUTtRQUM1QixNQUFNaUosT0FBTyxDQUFDQyxNQUFjQztZQUN4QnpGLEdBQUcwRixLQUFLO1lBQ1IxRixHQUFHekQsU0FBUyxDQUFDaUosTUFBTTtZQUNuQnhGLEdBQUd4RCxlQUFlLENBQUMsQ0FBQ3pELFFBQVEsR0FBRyxDQUFDQyxTQUFTLEdBQUdELE9BQU9DLFFBQVFxTTtZQUMzRHJGLEdBQUd2RCxTQUFTLENBQUMsR0FBR2dKLFFBQVE7WUFDeEJ6RixHQUFHdEQsaUJBQWlCLENBQUMsQ0FBQzNELFFBQVEsR0FBRyxDQUFDQyxTQUFTLEdBQUdELE9BQU9DLFFBQVFxTTtRQUNqRTtRQUNBRSxLQUFLLFVBQVU7UUFFZixNQUFNM0ksT0FBTyxJQUFJLENBQUNyRCxHQUFHLENBQUNxRCxJQUFJLENBQUMsR0FBRyxHQUFHLFlBQVk7WUFDekNDLFlBQVk7WUFDWkMsVUFBVTtZQUNWQyxPQUFPO1FBQ1gsR0FBR3JELFNBQVMsQ0FBQztRQUViLE1BQU1pTSxNQUFNLElBQUksQ0FBQ3BNLEdBQUcsQ0FBQzBHLFNBQVMsQ0FBQyxHQUFHLEdBQUdsSCxPQUFPQyxRQUFRLFVBQVU7UUFDOUQyTSxJQUFJekksY0FBYztRQUVsQmxCLFVBQVV6QyxHQUFHLENBQUM7WUFBQytMO1lBQVF0RjtZQUFJcEQ7WUFBTStJO1NBQUk7UUFDckMzSixVQUFVc0IsT0FBTyxDQUFDdkUsT0FBT0M7UUFDekIyTSxJQUFJdkksRUFBRSxDQUFDLGVBQWU7WUFDbEJtSSxLQUFLLFVBQVU7WUFDZixJQUFJLENBQUN6RSxNQUFNLENBQUN2SCxHQUFHLENBQUM7Z0JBQUV3SCxTQUFTL0U7Z0JBQVcvQyxPQUFPO2dCQUFNK0gsVUFBVTtnQkFBSzRFLE1BQU07WUFBZTtRQUMzRjtRQUNBRCxJQUFJdkksRUFBRSxDQUFDLGNBQWM7WUFDakJtSSxLQUFLLFVBQVU7WUFDZixJQUFJLENBQUN6RSxNQUFNLENBQUN2SCxHQUFHLENBQUM7Z0JBQUV3SCxTQUFTL0U7Z0JBQVcvQyxPQUFPO2dCQUFHK0gsVUFBVTtnQkFBSzRFLE1BQU07WUFBZTtRQUN4RjtRQUNBRCxJQUFJdkksRUFBRSxDQUFDLGVBQWU7WUFDbEJtSSxLQUFLLFVBQVU7WUFDZixJQUFJLENBQUN6RSxNQUFNLENBQUN2SCxHQUFHLENBQUM7Z0JBQUV3SCxTQUFTL0U7Z0JBQVcvQyxPQUFPO2dCQUFNK0gsVUFBVTtnQkFBSTRFLE1BQU07WUFBZTtZQUN0RixJQUFJLENBQUNDLFVBQVU7UUFDbkI7UUFDQUYsSUFBSXZJLEVBQUUsQ0FBQyxhQUFhO1lBQ2hCbUksS0FBSyxVQUFVO1lBQ2YsSUFBSSxDQUFDekUsTUFBTSxDQUFDdkgsR0FBRyxDQUFDO2dCQUFFd0gsU0FBUy9FO2dCQUFXL0MsT0FBTztnQkFBTStILFVBQVU7Z0JBQUk0RSxNQUFNO1lBQWU7UUFDMUY7UUFFQSxPQUFPNUo7SUFDWDtJQUVROEgsa0JBQWtCdkosQ0FBUyxFQUFFVCxDQUFTLEVBQWdDO1FBQzFFLE1BQU1rQyxZQUFZLElBQUksQ0FBQ3pDLEdBQUcsQ0FBQ3lDLFNBQVMsQ0FBQ3pCLEdBQUdULEdBQUdtQyxlQUFlLENBQUM7UUFDM0QsTUFBTWxELFFBQVE7UUFDZCxNQUFNQyxTQUFTO1FBQ2YsTUFBTXFNLFNBQVM7UUFFZixNQUFNQyxTQUFTLElBQUksQ0FBQy9MLEdBQUcsQ0FBQytDLFFBQVE7UUFDaENnSixPQUFPL0ksU0FBUyxDQUFDLFVBQVU7UUFDM0IrSSxPQUFPOUksZUFBZSxDQUFDLENBQUN6RCxRQUFRLElBQUksR0FBRyxDQUFDQyxTQUFTLElBQUksR0FBR0QsT0FBT0MsUUFBUXFNO1FBRXZFLE1BQU1yRixLQUFLLElBQUksQ0FBQ3pHLEdBQUcsQ0FBQytDLFFBQVE7UUFDNUIsTUFBTWlKLE9BQU8sQ0FBQ0MsTUFBY0M7WUFDeEJ6RixHQUFHMEYsS0FBSztZQUNSMUYsR0FBR3pELFNBQVMsQ0FBQ2lKLE1BQU07WUFDbkJ4RixHQUFHeEQsZUFBZSxDQUFDLENBQUN6RCxRQUFRLEdBQUcsQ0FBQ0MsU0FBUyxHQUFHRCxPQUFPQyxRQUFRcU07WUFDM0RyRixHQUFHdkQsU0FBUyxDQUFDLEdBQUdnSixRQUFRO1lBQ3hCekYsR0FBR3RELGlCQUFpQixDQUFDLENBQUMzRCxRQUFRLEdBQUcsQ0FBQ0MsU0FBUyxHQUFHRCxPQUFPQyxRQUFRcU07UUFDakU7UUFDQUUsS0FBSyxVQUFVO1FBRWYsTUFBTTNJLE9BQU8sSUFBSSxDQUFDckQsR0FBRyxDQUFDcUQsSUFBSSxDQUFDLEdBQUcsR0FBRyxjQUFjO1lBQzNDQyxZQUFZO1lBQWVDLFVBQVU7WUFBUUMsT0FBTztRQUN4RCxHQUFHckQsU0FBUyxDQUFDO1FBRWIsTUFBTXNNLFNBQVM7UUFDZixNQUFNQyxPQUFPbE4sUUFBUWlOLFNBQVM7UUFDOUIsTUFBTUUsT0FBT2xOLFNBQVNnTixTQUFTO1FBQy9CLE1BQU1MLE1BQU0sSUFBSSxDQUFDcE0sR0FBRyxDQUFDMEcsU0FBUyxDQUFDLEdBQUcsR0FBR2dHLE1BQU1DLE1BQU0sVUFBVTtRQUMzRFAsSUFBSXpJLGNBQWM7UUFFbEJsQixVQUFVekMsR0FBRyxDQUFDO1lBQUMrTDtZQUFRdEY7WUFBSXBEO1lBQU0rSTtTQUFJO1FBQ3JDM0osVUFBVXNCLE9BQU8sQ0FBQ3ZFLE9BQU9DO1FBRXpCLE1BQU1xSCxVQUFVO1lBQ1osSUFBSSxDQUFDLElBQUksQ0FBQ0UsY0FBYyxFQUFFO1lBQzFCZ0YsS0FBSyxVQUFVO1lBQ2YsSUFBSSxDQUFDWSxlQUFlO1lBQ3BCLElBQUksQ0FBQzNGLGFBQWE7UUFDdEI7UUFFQSxNQUFNQyxZQUFZO1lBQ2Q4RSxLQUFLLFVBQVU7UUFDbkI7UUFFQUksSUFBSXZJLEVBQUUsQ0FBQyxlQUFlaUQ7UUFDdEJzRixJQUFJdkksRUFBRSxDQUFDLGFBQWFxRDtRQUNwQmtGLElBQUl2SSxFQUFFLENBQUMsY0FBY3FEO1FBRXJCLElBQUksQ0FBQ0ssTUFBTSxDQUFDdkgsR0FBRyxDQUFDO1lBQ1p3SCxTQUFTL0U7WUFDVC9DLE9BQU87WUFDUCtILFVBQVU7WUFDVkMsTUFBTTtZQUNOQyxRQUFRLENBQUM7UUFDYjtRQUVBLE9BQU9sRjtJQUNYO0lBRVFrRCxpQkFBdUI7UUFDM0IsSUFBSSxDQUFDcUIsY0FBYyxHQUFHO1FBQ3RCLElBQUksQ0FBQzlCLFVBQVUsQ0FBQzJILFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUNDLFNBQVM7UUFFZCxJQUFJLENBQUN0QyxVQUFVLENBQUNwRixVQUFVLENBQUM7UUFDM0IsSUFBSSxDQUFDb0YsVUFBVSxDQUFDcUMsUUFBUSxDQUFDO1FBRXpCLElBQUksQ0FBQ3RGLE1BQU0sQ0FBQ3ZILEdBQUcsQ0FBQztZQUNad0gsU0FBUyxJQUFJLENBQUNnRCxVQUFVO1lBQ3hCdUMsT0FBTztZQUNQdEYsVUFBVTtRQUNkO0lBQ0o7SUFFUW1GLGtCQUF3QjtRQUM1QixJQUFJLENBQUM1RixjQUFjLEdBQUc7UUFDdEIsSUFBSSxDQUFDOUIsVUFBVSxDQUFDMkgsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQ0csVUFBVTtRQUNmLElBQUksQ0FBQ3hDLFVBQVUsQ0FBQ3BGLFVBQVUsQ0FBQztJQUMvQjtJQUVRNkgsWUFBWXZPLElBQTJFLEVBQVE7UUFDbkcsSUFBSSxDQUFDeUosU0FBUyxDQUFDK0UsV0FBVyxDQUFDO1FBQzNCLElBQUksQ0FBQy9FLFNBQVMsQ0FBQzhFLFdBQVcsQ0FBQ3ZPO1FBQzNCLElBQUksQ0FBQytHLFVBQVU7SUFDbkI7SUFFUUEsYUFBbUI7UUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQzBDLFNBQVMsRUFBRTtRQUNyQixNQUFNLEVBQUUzSSxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQ0MsS0FBSztRQUNwQyxNQUFNeU4sU0FBUyxJQUFJLENBQUNoRixTQUFTLENBQUNpRixNQUFNLENBQUM1TixPQUFPQztRQUM1QyxJQUFJLENBQUM0TixPQUFPLEdBQUdGLE9BQU9FLE9BQU87UUFDN0IsSUFBSSxDQUFDQyxlQUFlLEdBQUdILE9BQU9sRCxXQUFXO1FBQ3pDLElBQUksQ0FBQ3NELGNBQWMsR0FBR0osT0FBT3BELFVBQVU7SUFDM0M7SUFFUTlDLGdCQUFzQjtRQUMxQixJQUFJLElBQUksQ0FBQ3VHLFFBQVEsRUFBRTtRQUNuQixJQUFJLElBQUksQ0FBQ0MsYUFBYSxFQUFFO1FBQ3hCLElBQUksSUFBSSxDQUFDMU0sTUFBTSxDQUFDMk0sU0FBUyxJQUFJO1FBQzdCLElBQUksQ0FBQzNHLFFBQVEsR0FBRztRQUNoQixJQUFJLENBQUM2QyxVQUFVLEdBQUc7UUFDbEIsSUFBSSxDQUFDMUUsVUFBVSxDQUFDMkgsUUFBUSxDQUFDO1FBRXpCLE1BQU1jLGVBQWUsSUFBSSxDQUFDQyxlQUFlO1FBQ3pDLE1BQU1DLFdBQVdGLFlBQVksQ0FBQyxJQUFJLENBQUNHLGdCQUFnQixHQUFHSCxhQUFhekwsTUFBTSxDQUFDO1FBQzFFLElBQUksQ0FBQytLLFdBQVcsQ0FBQztZQUNidEQsT0FBTyxJQUFJLENBQUNtRSxnQkFBZ0IsR0FBRztZQUMvQkMsT0FBT0osYUFBYXpMLE1BQU07WUFDMUIyTCxVQUFVQSxTQUFTQSxRQUFRO1lBQzNCRyxTQUFTSCxTQUFTRyxPQUFPO1FBQzdCO1FBRUEsSUFBSSxDQUFDeEksU0FBUyxDQUFDSixVQUFVLENBQUM7UUFDMUIsSUFBSSxDQUFDSSxTQUFTLENBQUNxSCxRQUFRLENBQUM7UUFDeEIsTUFBTW9CLFFBQVEsSUFBSSxDQUFDOUYsU0FBUyxDQUFDTSxjQUFjO1FBQzNDd0YsTUFBTTVOLFFBQVEsQ0FBQztRQUNmNE4sTUFBTTFOLENBQUMsSUFBSTtRQUNYLElBQUksQ0FBQ2dILE1BQU0sQ0FBQ3ZILEdBQUcsQ0FBQztZQUNad0gsU0FBUyxJQUFJLENBQUNoQyxTQUFTO1lBQ3ZCdUgsT0FBTztZQUNQdEYsVUFBVTtRQUNkO1FBQ0EsSUFBSSxDQUFDRixNQUFNLENBQUN2SCxHQUFHLENBQUM7WUFDWndILFNBQVN5RztZQUNUdk8sT0FBTztZQUNQYSxHQUFHME4sTUFBTTFOLENBQUMsR0FBRztZQUNia0gsVUFBVTtZQUNWNEUsTUFBTTtRQUNWO0lBQ0o7SUFFUTZCLGlCQUF1QjtRQUMzQixJQUFJLENBQUNuSCxRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDNkMsVUFBVSxHQUFHO1FBQ2xCLElBQUksQ0FBQzFFLFVBQVUsQ0FBQzJILFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUNySCxTQUFTLENBQUNKLFVBQVUsQ0FBQztJQUM5QjtJQUVBLE1BQWN5RSxpQkFBaUJGLEtBQWEsRUFBaUI7UUFDekQsTUFBTWdFLGVBQWUsSUFBSSxDQUFDQyxlQUFlO1FBQ3pDLE1BQU1DLFdBQVdGLFlBQVksQ0FBQyxJQUFJLENBQUNHLGdCQUFnQixHQUFHSCxhQUFhekwsTUFBTSxDQUFDO1FBQzFFLElBQUlpTSxZQUFZeEUsVUFBVWtFLFNBQVNPLFlBQVk7UUFFL0MsTUFBTUMsbUJBQW1CUixTQUFTUyxTQUFTLENBQUMzRSxNQUFNO1FBQ2xELElBQUksSUFBSSxDQUFDM0ssU0FBUyxJQUFJNk8sU0FBU1UsaUJBQWlCLElBQUlGLGtCQUFrQjtZQUNsRSxJQUFJO2dCQUNBLE1BQU0sRUFBRUcsWUFBWSxFQUFFLEdBQUcsTUFBTSwySkFBNEI7Z0JBQzNELE1BQU1DLE1BQU0sTUFBTUQsYUFDZCxJQUFJLENBQUN4UCxTQUFTLEVBQ2Q2TyxTQUFTVSxpQkFBaUIsRUFDMUJGO2dCQUVKRixZQUFZTSxJQUFJL1AsSUFBSSxDQUFDZ1EsVUFBVTtZQUNuQyxFQUFFLE9BQU9DLE9BQU87Z0JBQ1pDLFFBQVFELEtBQUssQ0FBQyxnREFBZ0RBO1lBQ2xFO1FBQ0o7UUFFQSxNQUFNRSxNQUFNLElBQUksQ0FBQ3JGLGlCQUFpQixDQUFDRyxNQUFNO1FBQ3pDLE1BQU1tRixTQUFTRCxJQUFJdk0sT0FBTyxDQUFDO1FBRTNCLElBQUk2TCxXQUFXO1lBQ1gsSUFBSSxDQUFDdkUsVUFBVSxHQUFHO1lBQ2xCa0YsT0FBTztZQUNQLElBQUksQ0FBQ0MsZUFBZSxDQUFDO1lBQ3JCLElBQUksQ0FBQ0MsV0FBVyxDQUFDO1lBQ2pCLElBQUksQ0FBQ0MsV0FBVztZQUNoQixNQUFNLElBQUksQ0FBQ0MsS0FBSyxDQUFDO1lBQ2pCLElBQUksQ0FBQ2hCLGNBQWM7WUFDbkIsTUFBTSxJQUFJLENBQUNpQixVQUFVO1lBQ3JCLElBQUksQ0FBQ3JCLGdCQUFnQixJQUFJO1lBQ3pCLElBQUksQ0FBQ3NCLElBQUksQ0FBQ0MsV0FBVyxDQUFDLEtBQUs7Z0JBQ3ZCLElBQUksQ0FBQ3BJLGFBQWE7WUFDdEI7UUFDSixPQUFPO1lBQ0gsSUFBSSxDQUFDMkMsVUFBVSxHQUFHO1lBQ2xCa0YsT0FBTztZQUNQLElBQUksQ0FBQ0MsZUFBZSxDQUFDO1lBQ3JCLElBQUksQ0FBQ0MsV0FBVyxDQUFDLENBQUM7WUFDbEIsSUFBSSxDQUFDTSxlQUFlLENBQUM7WUFDckIsTUFBTXJCLFFBQVEsSUFBSSxDQUFDOUYsU0FBUyxDQUFDTSxjQUFjO1lBQzNDLE1BQU04RyxTQUFTdEIsTUFBTWpOLENBQUM7WUFDdEIsSUFBSSxDQUFDdUcsTUFBTSxDQUFDdkgsR0FBRyxDQUFDO2dCQUNad0gsU0FBU3lHO2dCQUNUak4sR0FBR3VPLFNBQVM7Z0JBQ1o5SCxVQUFVO2dCQUNWQyxNQUFNO2dCQUNOQyxRQUFRO2dCQUNSMEUsTUFBTTtnQkFDTm1ELFlBQVk7b0JBQ1J2QixNQUFNak4sQ0FBQyxHQUFHdU87b0JBQ1YsSUFBSSxDQUFDM0YsVUFBVSxHQUFHO29CQUNsQmtGLE9BQU87Z0JBQ1g7WUFDSjtRQUNKO0lBQ0o7SUFFUWxCLGtCQUFrQjtRQUN0QixNQUFNNkIsZUFBZSxJQUFJLENBQUN0USxnQkFBZ0I7UUFDMUMsSUFBSXNRLHlCQUFBQSxtQ0FBQUEsYUFBY3ZOLE1BQU0sRUFBRTtZQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDd04sb0JBQW9CLEVBQUU7b0JBS2hCRCx5QkFBQUE7Z0JBSlosSUFBSSxDQUFDQyxvQkFBb0IsR0FBRztvQkFJaEJEO2dCQUhaYixRQUFRZSxHQUFHLENBQUMsd0NBQXdDO29CQUNoRGhSLFVBQVUsSUFBSSxDQUFDQSxRQUFRO29CQUN2QmlSLE9BQU9ILGFBQWF2TixNQUFNO29CQUMxQjJOLFFBQVFKLENBQUFBLG1DQUFBQSxpQkFBQUEsWUFBWSxDQUFDLEVBQUUsY0FBZkEsc0NBQUFBLDBCQUFBQSxlQUFpQjVCLFFBQVEsY0FBekI0Qiw4Q0FBQUEsd0JBQTJCSyxPQUFPLGNBQWxDTCw2Q0FBQUEsa0NBQXNDO2dCQUNsRDtZQUNKO1lBQ0EsT0FBT0EsYUFBYU0sR0FBRyxDQUFDLENBQUNDO2dCQUNyQixNQUFNaEMsVUFBVWdDLEtBQUtuQyxRQUFRLENBQUNHLE9BQU8sQ0FBQytCLEdBQUcsQ0FBQyxDQUFDRSxNQUFRQSxJQUFJNU0sSUFBSTtnQkFDM0QsTUFBTWlMLFlBQVkwQixLQUFLbkMsUUFBUSxDQUFDRyxPQUFPLENBQUMrQixHQUFHLENBQUMsQ0FBQ0U7d0JBQVFBOzJCQUFBQSxDQUFBQSxVQUFBQSxJQUFJQyxFQUFFLGNBQU5ELHFCQUFBQSxVQUFVOztnQkFDL0QsSUFBSTdCLGVBQWU0QixLQUFLbkMsUUFBUSxDQUFDRyxPQUFPLENBQUNtQyxTQUFTLENBQUMsQ0FBQ0YsTUFBUUEsSUFBSXZCLFVBQVU7Z0JBQzFFLElBQUlOLGVBQWUsR0FBR0EsZUFBZTtvQkFFZDRCO2dCQUR2QixPQUFPO29CQUNIekIsbUJBQW1CeUIsQ0FBQUEsNEJBQUFBLEtBQUtJLG1CQUFtQixjQUF4QkosdUNBQUFBLDRCQUE0QjtvQkFDL0NuQyxVQUFVbUMsS0FBS25DLFFBQVEsQ0FBQ2lDLE9BQU87b0JBQy9COUI7b0JBQ0FNO29CQUNBRjtnQkFDSjtZQUNKO1FBQ0o7UUFFQSxJQUFJLENBQUMsSUFBSSxDQUFDc0Isb0JBQW9CLEVBQUU7WUFDNUIsSUFBSSxDQUFDQSxvQkFBb0IsR0FBRztZQUM1QmQsUUFBUXlCLElBQUksQ0FBQywrQ0FBK0M7Z0JBQ3hEMVIsVUFBVSxJQUFJLENBQUNBLFFBQVE7WUFDM0I7UUFDSjtRQUNBLE9BQU87WUFDSDtnQkFDSTRQLG1CQUFtQjtnQkFDbkJWLFVBQVU7Z0JBQ1ZHLFNBQVM7b0JBQUM7b0JBQVM7b0JBQVc7b0JBQWE7aUJBQVU7Z0JBQ3JETSxXQUFXO29CQUFDO29CQUFJO29CQUFJO29CQUFJO2lCQUFHO2dCQUMzQkYsY0FBYztZQUNsQjtZQUNBO2dCQUNJRyxtQkFBbUI7Z0JBQ25CVixVQUFVO2dCQUNWRyxTQUFTO29CQUFDO29CQUF5QjtvQkFBTTtvQkFBVTtpQkFBSztnQkFDeERNLFdBQVc7b0JBQUM7b0JBQUk7b0JBQUk7b0JBQUk7aUJBQUc7Z0JBQzNCRixjQUFjO1lBQ2xCO1lBQ0E7Z0JBQ0lHLG1CQUFtQjtnQkFDbkJWLFVBQVU7Z0JBQ1ZHLFNBQVM7b0JBQUM7b0JBQVM7b0JBQU87b0JBQVU7aUJBQVM7Z0JBQzdDTSxXQUFXO29CQUFDO29CQUFJO29CQUFJO29CQUFJO2lCQUFHO2dCQUMzQkYsY0FBYztZQUNsQjtTQUNIO0lBQ0w7SUFFQSxNQUFNZSxhQUFhO1FBQ2YsSUFBSSxJQUFJLENBQUNwTyxNQUFNLENBQUMyTSxTQUFTLElBQUk7UUFDN0IsSUFBSSxJQUFJLENBQUNGLFFBQVEsRUFBRTtRQUVuQixNQUFNOEMsWUFBWSxJQUFJLENBQUNyUCxnQkFBZ0IsR0FBRztRQUMxQyxNQUFNc1AsV0FBVyxJQUFJLENBQUM3UCxRQUFRLENBQUN3QixNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUN4QixRQUFRLENBQUN3QixNQUFNLEdBQUcsSUFBSXNPLE9BQU9DLGlCQUFpQjtRQUUvRixJQUFJLElBQUksQ0FBQy9QLFFBQVEsQ0FBQ3dCLE1BQU0sR0FBRyxLQUFLb08sWUFBWUMsVUFBVTtZQUNsRDtRQUNKO1FBQ0EsTUFBTUcsWUFBWSxJQUFJLENBQUM1UCxlQUFlLENBQUN3UDtRQUV2QyxrQ0FBa0M7UUFDbEMsSUFBSSxDQUFDdlAsTUFBTSxDQUFDNFAsUUFBUTtRQUVwQixnQkFBZ0I7UUFDaEIsSUFBSSxDQUFDcEosTUFBTSxDQUFDdkgsR0FBRyxDQUFDO1lBQ1p3SCxTQUFTLElBQUksQ0FBQzdILE1BQU07WUFDcEIwQixTQUFTcVAsVUFBVW5RLENBQUMsR0FBRztZQUN2QmtILFVBQVU7WUFDVjRFLE1BQU07UUFDVjtRQUVBLG9DQUFvQztRQUNwQyxNQUFNLElBQUksQ0FBQ3RMLE1BQU0sQ0FBQzZQLE1BQU0sQ0FBQ0YsVUFBVTFQLENBQUMsRUFBRTBQLFVBQVVuUSxDQUFDLEVBQUUsSUFBSSxDQUFDc1EsY0FBYztRQUV0RSxvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDNVAsZ0JBQWdCLEdBQUdxUDtRQUV4QixNQUFNcFAsVUFBVSxJQUFJLENBQUNKLGVBQWUsQ0FBQyxJQUFJLENBQUNHLGdCQUFnQixHQUFHO1FBQzdELElBQUksQ0FBQ0YsTUFBTSxDQUFDSSxJQUFJLENBQUNELFFBQVFGLENBQUMsR0FBRzBQLFVBQVUxUCxDQUFDO1FBRXhDLG1EQUFtRDtRQUNuRCxJQUFJLENBQUNELE1BQU0sQ0FBQytQLFdBQVcsQ0FBQztRQUN4QixJQUFJLENBQUMxQixJQUFJLENBQUNDLFdBQVcsQ0FBQyxLQUFLO1lBQ3ZCLElBQUksQ0FBQ3RPLE1BQU0sQ0FBQ0ssUUFBUTtRQUN4QjtRQUVBLElBQUksSUFBSSxDQUFDVixRQUFRLENBQUN3QixNQUFNLEdBQUcsS0FBSyxJQUFJLENBQUNqQixnQkFBZ0IsSUFBSXNQLFVBQVU7WUFDL0QsSUFBSSxDQUFDOUMsYUFBYSxHQUFHO1lBQ3JCLElBQUksQ0FBQ3ZJLFVBQVUsQ0FBQzJILFFBQVEsQ0FBQztZQUN6QixJQUFJLENBQUM5RixRQUFRLEdBQUc7WUFDaEIsSUFBSSxDQUFDNkMsVUFBVSxHQUFHO1lBQ2xCLElBQUksQ0FBQ2tELFNBQVM7WUFDZCxJQUFJLENBQUNsSyxZQUFZLENBQUN3QyxVQUFVLENBQUM7WUFDN0IsSUFBSSxJQUFJLENBQUN4RCxXQUFXLEdBQUcsR0FBRztnQkFDdEIsSUFBSSxDQUFDb04sV0FBVyxDQUFDO1lBQ3JCO1lBQ0EsSUFBSSxDQUFDK0IsaUJBQWlCO1lBQ3RCLElBQUksQ0FBQzNCLElBQUksQ0FBQ0MsV0FBVyxDQUFDLEtBQUs7Z0JBQ3ZCLElBQUksQ0FBQzJCLFlBQVk7WUFDckI7UUFDSjtJQUNKO0lBRVFoRSxhQUFtQjtRQUN2QixJQUFJLElBQUksQ0FBQ2lFLFVBQVUsRUFBRTtZQUNqQixJQUFJLENBQUNBLFVBQVUsQ0FBQ0MsTUFBTSxDQUFDO1FBQzNCO1FBRUEsSUFBSSxDQUFDdFAsV0FBVyxHQUFHLElBQUksQ0FBQ3ZDLGdCQUFnQixJQUFJLElBQUksQ0FBQ0EsZ0JBQWdCLEdBQUcsSUFDOUQsSUFBSSxDQUFDQSxnQkFBZ0IsR0FBRyxPQUN4QjtRQUNOLElBQUksQ0FBQzhSLGVBQWUsQ0FBQyxJQUFJLENBQUN2UCxXQUFXO1FBRXJDLElBQUksQ0FBQ3FQLFVBQVUsR0FBRyxJQUFJLENBQUM3QixJQUFJLENBQUNnQyxRQUFRLENBQUM7WUFDakNsQyxPQUFPO1lBQ1BtQyxNQUFNO1lBQ05DLFVBQVU7Z0JBQ04sSUFBSSxJQUFJLENBQUM3RCxhQUFhLElBQUksSUFBSSxDQUFDRCxRQUFRLEVBQUU7Z0JBQ3pDLElBQUksQ0FBQzVMLFdBQVcsSUFBSTtnQkFDcEIsSUFBSSxDQUFDdVAsZUFBZSxDQUFDLElBQUksQ0FBQ3ZQLFdBQVc7Z0JBQ3JDLElBQUksSUFBSSxDQUFDQSxXQUFXLElBQUksR0FBRztvQkFDdkIsSUFBSSxDQUFDQSxXQUFXLEdBQUc7b0JBQ25CLElBQUksQ0FBQ3VQLGVBQWUsQ0FBQyxJQUFJLENBQUN2UCxXQUFXO29CQUNyQyxJQUFJLENBQUMyUCxZQUFZO2dCQUNyQjtZQUNKO1FBQ0o7SUFDSjtJQUVRekUsWUFBa0I7UUFDdEIsSUFBSSxJQUFJLENBQUNtRSxVQUFVLEVBQUU7WUFDakIsSUFBSSxDQUFDQSxVQUFVLENBQUNDLE1BQU0sQ0FBQztRQUMzQjtJQUNKO0lBRVFDLGdCQUFnQkssRUFBVSxFQUFRO1FBQ3RDLE1BQU1DLGVBQWUxTCxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS2dGLEtBQUssQ0FBQ3lHLEtBQUs7UUFDakQsTUFBTUUsVUFBVTNMLEtBQUtnRixLQUFLLENBQUMwRyxlQUFlO1FBQzFDLE1BQU1FLFVBQVVGLGVBQWU7UUFDL0IsTUFBTUcsTUFBTSxDQUFDQyxJQUFlQSxJQUFJLEtBQUssSUFBTSxPQUFGQSxLQUFNLEdBQUssT0FBRkE7UUFDbEQsTUFBTXhPLE9BQU8sR0FBZXVPLE9BQVpGLFNBQVEsTUFBaUIsT0FBYkUsSUFBSUQsVUFBUztRQUN6QyxJQUFJLENBQUNoTixTQUFTLENBQUNtTixPQUFPLENBQUN6TztJQUMzQjtJQUVRa08sZUFBcUI7UUFDekIsSUFBSSxJQUFJLENBQUMvRCxRQUFRLElBQUksSUFBSSxDQUFDQyxhQUFhLEVBQUU7UUFDekMsSUFBSSxDQUFDRCxRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDekcsUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQzZDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUMxRSxVQUFVLENBQUMySCxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDcUIsY0FBYztRQUNuQixJQUFJLENBQUM2RCxlQUFlO0lBQ3hCO0lBRVFmLGVBQXFCO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUNwRixRQUFRLEVBQUU7UUFDcEIsTUFBTXFDLFFBQVEsSUFBSSxDQUFDckMsUUFBUSxDQUFDdEosT0FBTyxDQUFDO1FBQ3BDLE1BQU13SCxVQUFVLElBQUksQ0FBQzhCLFFBQVEsQ0FBQ3RKLE9BQU8sQ0FBQztRQUN0QzJMLE1BQU01TixRQUFRLENBQUM7UUFDZixJQUFJeUosU0FBU0EsUUFBUStDLFFBQVEsQ0FBQztRQUM5QixJQUFJLENBQUNqQixRQUFRLENBQUN4RyxVQUFVLENBQUM7UUFDekIsSUFBSSxDQUFDd0csUUFBUSxDQUFDaUIsUUFBUSxDQUFDO1FBQ3ZCLElBQUksQ0FBQ21GLGNBQWM7UUFDbkIsSUFBSSxDQUFDQyxtQkFBbUI7UUFDeEIsSUFBSSxDQUFDMUssTUFBTSxDQUFDdkgsR0FBRyxDQUFDO1lBQ1p3SCxTQUFTc0M7WUFDVGlELE9BQU87WUFDUHRGLFVBQVU7UUFDZDtRQUNBLElBQUksQ0FBQ0YsTUFBTSxDQUFDdkgsR0FBRyxDQUFDO1lBQ1p3SCxTQUFTeUc7WUFDVHZPLE9BQU87WUFDUCtILFVBQVU7WUFDVjRFLE1BQU07UUFDVjtJQUNKO0lBRVEyRixpQkFBdUI7UUFDM0IsSUFBSSxJQUFJLENBQUNFLGVBQWUsRUFBRTtZQUN0QixJQUFJLENBQUNBLGVBQWUsQ0FBQ0MsT0FBTztRQUNoQztRQUNBLElBQUksSUFBSSxDQUFDQyxrQkFBa0IsRUFBRTtZQUN6QixJQUFJLENBQUNBLGtCQUFrQixDQUFDbEIsTUFBTSxDQUFDO1lBQy9CLElBQUksQ0FBQ2tCLGtCQUFrQixHQUFHQztRQUM5QjtRQUVBLE1BQU0sRUFBRTdTLEtBQUssRUFBRUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDQyxLQUFLO1FBQ3BDLElBQUksQ0FBQ3dTLGVBQWUsR0FBRyxJQUFJLENBQUNsUyxHQUFHLENBQUNzUyxTQUFTLENBQUMsR0FBRyxHQUFHLGVBQWU7WUFDM0RDLE9BQU87Z0JBQUV2SSxLQUFLO2dCQUFJaEUsS0FBSztZQUFJO1lBQzNCd00sT0FBTztnQkFBRXhJLEtBQUs7Z0JBQUdoRSxLQUFLO1lBQUk7WUFDMUJ5TSxRQUFRO2dCQUFFekksS0FBSyxDQUFDO2dCQUFLaEUsS0FBSztZQUFJO1lBQzlCdEcsT0FBTztnQkFBRWdULE9BQU87Z0JBQU1DLEtBQUs7WUFBSTtZQUMvQkMsVUFBVTtnQkFBRTVJLEtBQUs7Z0JBQU1oRSxLQUFLO1lBQUs7WUFDakM2TSxVQUFVO1lBQ1ZDLFdBQVcsQ0FBQztZQUNaQyxVQUFVO1FBQ2Q7UUFFQSxJQUFJLENBQUNiLGVBQWUsQ0FBQ3hQLGVBQWUsQ0FBQztRQUNyQyxJQUFJLENBQUN3UCxlQUFlLENBQUN2UCxRQUFRLENBQUM7UUFDOUIsSUFBSSxDQUFDSCxNQUFNLENBQUN4QyxHQUFHLENBQUMsSUFBSSxDQUFDa1MsZUFBZTtRQUVwQyxJQUFJLENBQUNFLGtCQUFrQixHQUFHLElBQUksQ0FBQ2hELElBQUksQ0FBQ2dDLFFBQVEsQ0FBQztZQUN6Q2xDLE9BQU87WUFDUHZILFFBQVE7WUFDUjJKLFVBQVU7Z0JBQ04sSUFBSSxDQUFDLElBQUksQ0FBQ1ksZUFBZSxFQUFFO2dCQUMzQixJQUFJLENBQUNBLGVBQWUsQ0FBQ2MsT0FBTyxDQUFDLElBQUl4VCxRQUFRLEdBQUdDLFNBQVM7WUFDekQ7UUFDSjtRQUVBLElBQUksQ0FBQzJQLElBQUksQ0FBQ0MsV0FBVyxDQUFDLE1BQU07Z0JBQ3hCLHVCQUVBO2FBRkEsNEJBQUksQ0FBQzZDLGVBQWUsY0FBcEIsa0VBQXNCQyxPQUFPO1lBQzdCLElBQUksQ0FBQ0QsZUFBZSxHQUFHRzthQUN2QiwrQkFBSSxDQUFDRCxrQkFBa0IsY0FBdkIsd0VBQXlCbEIsTUFBTSxDQUFDO1lBQ2hDLElBQUksQ0FBQ2tCLGtCQUFrQixHQUFHQztRQUM5QjtJQUNKO0lBRVFOLGtCQUF3QjtRQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDdkYsV0FBVyxFQUFFO1FBQ3ZCLE1BQU15QixRQUFRLElBQUksQ0FBQ3pCLFdBQVcsQ0FBQ2xLLE9BQU8sQ0FBQztRQUN2QzJMLE1BQU01TixRQUFRLENBQUM7UUFDZixJQUFJLENBQUNtTSxXQUFXLENBQUNwSCxVQUFVLENBQUM7UUFDNUIsSUFBSSxDQUFDb0gsV0FBVyxDQUFDSyxRQUFRLENBQUM7UUFDMUIsSUFBSSxDQUFDdEYsTUFBTSxDQUFDdkgsR0FBRyxDQUFDO1lBQ1p3SCxTQUFTLElBQUksQ0FBQ2dGLFdBQVc7WUFDekJPLE9BQU87WUFDUHRGLFVBQVU7UUFDZDtRQUNBLElBQUksQ0FBQ0YsTUFBTSxDQUFDdkgsR0FBRyxDQUFDO1lBQ1p3SCxTQUFTeUc7WUFDVHZPLE9BQU87WUFDUCtILFVBQVU7WUFDVjRFLE1BQU07UUFDVjtJQUNKO0lBRVE0RyxtQkFBeUI7UUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQ3pHLFdBQVcsRUFBRTtRQUN2QixJQUFJLENBQUNBLFdBQVcsQ0FBQ3BILFVBQVUsQ0FBQztJQUNoQztJQUVROE4sZ0JBQXNCO1FBQzFCLElBQUksQ0FBQyxJQUFJLENBQUN0SCxRQUFRLEVBQUU7UUFDcEIsSUFBSSxDQUFDQSxRQUFRLENBQUN4RyxVQUFVLENBQUM7UUFDekIsSUFBSSxDQUFDd0csUUFBUSxDQUFDaUIsUUFBUSxDQUFDO1FBQ3ZCLE1BQU0vQyxVQUFVLElBQUksQ0FBQzhCLFFBQVEsQ0FBQ3RKLE9BQU8sQ0FBQztRQUN0QyxJQUFJd0gsU0FBU0EsUUFBUStDLFFBQVEsQ0FBQztRQUM5QixJQUFJLElBQUksQ0FBQ3FGLGVBQWUsRUFBRTtZQUN0QixJQUFJLENBQUNBLGVBQWUsQ0FBQ0MsT0FBTztZQUM1QixJQUFJLENBQUNELGVBQWUsR0FBR0c7UUFDM0I7UUFDQSxJQUFJLElBQUksQ0FBQ0Qsa0JBQWtCLEVBQUU7WUFDekIsSUFBSSxDQUFDQSxrQkFBa0IsQ0FBQ2xCLE1BQU0sQ0FBQztZQUMvQixJQUFJLENBQUNrQixrQkFBa0IsR0FBR0M7UUFDOUI7SUFDSjtJQUVRSixzQkFBNEI7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQ2hULGFBQWEsRUFBRTtRQUN6QiwySkFBNEIsQ0FDdkJrVSxJQUFJLENBQUM7Z0JBQUMsRUFBRUMsY0FBYyxFQUFFO21CQUFLQSxlQUFlLElBQUksQ0FBQ25VLGFBQWEsRUFBWSxJQUFJLENBQUNvVSxLQUFLO1dBQ3BGQyxLQUFLLENBQUMsQ0FBQ0M7WUFDSjNFLFFBQVFELEtBQUssQ0FBQyx5QkFBeUI0RTtRQUMzQztJQUNSO0lBRVFqSCxhQUFtQjtRQUN2QixJQUFJLENBQUNrQixRQUFRLEdBQUc7UUFDaEIsSUFBSSxDQUFDQyxhQUFhLEdBQUc7UUFDckIsSUFBSSxDQUFDMUcsUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQzZDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNrRSxnQkFBZ0IsR0FBRztRQUN4QixJQUFJLENBQUM5RyxjQUFjLEdBQUc7UUFDdEIsSUFBSSxDQUFDcU0sS0FBSyxHQUFHO1FBQ2IsSUFBSSxDQUFDL08sU0FBUyxDQUFDd04sT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQ2pCLGNBQWMsR0FBRztRQUV0QixJQUFJLENBQUNvQyxnQkFBZ0I7UUFDckIsSUFBSSxDQUFDL0UsY0FBYztRQUNuQixJQUFJLENBQUNnRixhQUFhO1FBQ2xCLElBQUksSUFBSSxDQUFDMUksVUFBVSxFQUFFLElBQUksQ0FBQ0EsVUFBVSxDQUFDcEYsVUFBVSxDQUFDO1FBRWhELE1BQU12RSxXQUFXLElBQUksQ0FBQ0MsZUFBZSxDQUFDO1FBQ3RDLElBQUksQ0FBQ0MsTUFBTSxDQUFDcUYsV0FBVyxDQUFDdkYsU0FBU0csQ0FBQyxFQUFFSCxTQUFTTixDQUFDO1FBQzlDLElBQUksQ0FBQ1EsTUFBTSxDQUFDSyxRQUFRO1FBRXBCLElBQUksQ0FBQ0gsZ0JBQWdCLEdBQUc7UUFDeEIsTUFBTUMsVUFBVSxJQUFJLENBQUNKLGVBQWUsQ0FBQyxJQUFJLENBQUNHLGdCQUFnQixHQUFHO1FBQzdELElBQUksQ0FBQ0YsTUFBTSxDQUFDSSxJQUFJLENBQUNELFFBQVFGLENBQUMsR0FBR0gsU0FBU0csQ0FBQztRQUV2QyxJQUFJLENBQUNyQixNQUFNLENBQUMwQixPQUFPLEdBQUdSLFNBQVNOLENBQUMsR0FBRztRQUVuQyxJQUFJLENBQUN1TSxTQUFTO1FBQ2QsSUFBSSxDQUFDbEssWUFBWSxDQUFDd0MsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQ0YsVUFBVSxDQUFDMkgsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQ0csVUFBVTtRQUNmLElBQUksQ0FBQy9GLGFBQWE7SUFDdEI7SUFFUStILFlBQVl3RSxLQUFhLEVBQVE7UUFDckMsSUFBSSxDQUFDSCxLQUFLLElBQUlHO1FBQ2QsTUFBTUMsU0FBUzFOLEtBQUtDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQ3FOLEtBQUs7UUFDckMsSUFBSSxDQUFDL08sU0FBUyxDQUFDd04sT0FBTyxDQUFDLFdBQThDLE9BQW5DMkIsT0FBT0MsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRztRQUNoRSxJQUFJLElBQUksQ0FBQ25JLGlCQUFpQixFQUFFO1lBQ3hCLElBQUksQ0FBQ0EsaUJBQWlCLENBQUNzRyxPQUFPLENBQUMsVUFBcUIsT0FBWCxJQUFJLENBQUN1QixLQUFLO1FBQ3ZEO0lBQ0o7SUFFUXRDLG9CQUEwQjtRQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDdEYsZ0JBQWdCLEVBQUU7UUFDNUIsTUFBTW1JLFNBQVMsSUFBSSxDQUFDdlUsZ0JBQWdCLElBQUksSUFBSSxDQUFDQSxnQkFBZ0IsR0FBRyxJQUMxRCxJQUFJLENBQUNBLGdCQUFnQixHQUFHLE9BQ3hCO1FBQ04sTUFBTXdVLFlBQVlELFNBQVMsSUFBSSxDQUFDaFMsV0FBVztRQUMzQyxNQUFNNlAsZUFBZTFMLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLZ0YsS0FBSyxDQUFDOEksWUFBWTtRQUN4RCxNQUFNbkMsVUFBVTNMLEtBQUtnRixLQUFLLENBQUMwRyxlQUFlO1FBQzFDLE1BQU1FLFVBQVVGLGVBQWU7UUFDL0IsTUFBTUcsTUFBTSxDQUFDQyxJQUFlQSxJQUFJLEtBQUssSUFBTSxPQUFGQSxLQUFNLEdBQUssT0FBRkE7UUFDbEQsSUFBSSxDQUFDcEcsZ0JBQWdCLENBQUNxRyxPQUFPLENBQUMsU0FBeUJGLE9BQWhCQSxJQUFJRixVQUFTLEtBQWdCLE9BQWJFLElBQUlEO0lBQy9EO0lBRVExQyxjQUFvQjtRQUN4QixJQUFJLENBQUM0QixjQUFjLEdBQUc5SyxLQUFLQyxHQUFHLENBQUMsS0FBSyxJQUFJLENBQUM2SyxjQUFjLEdBQUc7SUFDOUQ7SUFFQS9QLGdCQUFnQjZJLEtBQWEsRUFBRTtRQUMzQixJQUFJLElBQUksQ0FBQ2pKLFFBQVEsQ0FBQ3dCLE1BQU0sR0FBRyxLQUFLLElBQUksQ0FBQ25DLFVBQVUsRUFBRTtZQUM3QyxNQUFNK1QsYUFBYSxJQUFJLENBQUNwVCxRQUFRLENBQUN3QixNQUFNO1lBQ3ZDLE1BQU02UixZQUFZaE8sS0FBS2lFLEdBQUcsQ0FBQ0wsT0FBT21LLGFBQWE7WUFFL0MsTUFBTUUsT0FBTyxJQUFJLENBQUN0VCxRQUFRLENBQUNxVCxVQUFVO1lBQ3JDLE1BQU1yVSxRQUFRLElBQUksQ0FBQ0ssVUFBVSxDQUFDa1UsTUFBTTtZQUNwQyxNQUFNQyxVQUFVLElBQUksQ0FBQ25VLFVBQVUsQ0FBQ2lCLENBQUMsR0FBRyxJQUFJLENBQUNqQixVQUFVLENBQUNvVSxZQUFZLEdBQUc7WUFDbkUsTUFBTTdULFNBQVMsSUFBSSxDQUFDUCxVQUFVLENBQUNRLENBQUMsR0FBRyxJQUFJLENBQUNSLFVBQVUsQ0FBQ1MsYUFBYTtZQUVoRSxNQUFNUSxJQUFJa1QsVUFBV0YsS0FBS2hULENBQUMsR0FBR3RCO1lBQzlCLE1BQU1hLElBQUlELFNBQVUwVCxLQUFLelQsQ0FBQyxHQUFHYjtZQUU3QixPQUFPO2dCQUFFc0I7Z0JBQUdUO1lBQUU7UUFDbEI7UUFFQSxNQUFNNlQsVUFBVSxJQUFJLENBQUMxVSxLQUFLLENBQUNGLEtBQUssR0FBRztRQUNuQyxNQUFNNlUsU0FBUzFLLFFBQVEsTUFBTTtRQUU3QixnRUFBZ0U7UUFDaEUsTUFBTXBKLElBQUksSUFBSSxDQUFDK1QsVUFBVSxHQUFJM0ssUUFBUSxJQUFJLENBQUM0SyxTQUFTO1FBQ25ELE1BQU12VCxJQUFJcVQsU0FBU0QsVUFBVSxJQUFJLENBQUNJLGNBQWMsR0FBR0osVUFBVSxJQUFJLENBQUNJLGNBQWM7UUFFaEYsT0FBTztZQUFFeFQ7WUFBR1Q7UUFBRTtJQUNsQjtJQUVRSyxjQUFjNlQsVUFBa0IsRUFBeUI7UUFDN0QsTUFBTUMsVUFBVSxJQUFJLENBQUNDLFFBQVEsQ0FBQzlWLEdBQUcsQ0FBQzRWO1FBQ2xDLE1BQU1HLFNBQVNGLG9CQUFBQSw4QkFBQUEsUUFBU0csY0FBYztRQUV0QyxJQUFJLENBQUNELFVBQVUsQ0FBQ0EsT0FBT3BWLEtBQUssSUFBSSxDQUFDb1YsT0FBT25WLE1BQU0sRUFBRTtZQUM1QyxPQUFPLEVBQUU7UUFDYjtRQUVBLE1BQU1xVixTQUFTLElBQUksQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLENBQUNGLE1BQU0sQ0FBQ0csYUFBYSxDQUFDQyxhQUFhLENBQUM7UUFDaEVKLE9BQU90VixLQUFLLEdBQUdvVixPQUFPcFYsS0FBSztRQUMzQnNWLE9BQU9yVixNQUFNLEdBQUdtVixPQUFPblYsTUFBTTtRQUU3QixNQUFNMFYsTUFBTUwsT0FBT00sVUFBVSxDQUFDO1FBQzlCLElBQUksQ0FBQ0QsS0FBSyxPQUFPLEVBQUU7UUFFbkJBLElBQUlFLFNBQVMsQ0FBQ1QsUUFBUSxHQUFHO1FBQ3pCLE1BQU1VLFlBQVlILElBQUlJLFlBQVksQ0FBQyxHQUFHLEdBQUdYLE9BQU9wVixLQUFLLEVBQUVvVixPQUFPblYsTUFBTTtRQUNwRSxNQUFNZixPQUFPNFcsVUFBVTVXLElBQUk7UUFFM0IsTUFBTWMsUUFBUW9WLE9BQU9wVixLQUFLO1FBQzFCLE1BQU1DLFNBQVNtVixPQUFPblYsTUFBTTtRQUM1QixNQUFNK1YsVUFBVSxJQUFJQyxXQUFXalcsUUFBUUM7UUFDdkMsTUFBTWlXLFVBQWlDLEVBQUU7UUFFekMsTUFBTUMsY0FBYyxDQUFDQztZQUNqQixNQUFNQyxJQUFJblgsSUFBSSxDQUFDa1gsSUFBSSxHQUFHO1lBQ3RCLE1BQU1FLElBQUlwWCxJQUFJLENBQUNrWCxNQUFNLEVBQUUsR0FBRztZQUMxQixNQUFNRyxJQUFJclgsSUFBSSxDQUFDa1gsTUFBTSxFQUFFLEdBQUc7WUFFMUIsTUFBTTVQLE1BQU1ELEtBQUtDLEdBQUcsQ0FBQzZQLEdBQUdDLEdBQUdDO1lBQzNCLE1BQU0vTCxNQUFNakUsS0FBS2lFLEdBQUcsQ0FBQzZMLEdBQUdDLEdBQUdDO1lBQzNCLE1BQU12QyxRQUFReE4sTUFBTWdFO1lBRXBCLElBQUl3SixVQUFVLEdBQUcsT0FBTztZQUV4QixJQUFJd0MsTUFBTTtZQUNWLElBQUloUSxRQUFRNlAsR0FBRztnQkFDWEcsTUFBTSxDQUFFRixJQUFJQyxDQUFBQSxJQUFLdkMsUUFBUztZQUM5QixPQUFPLElBQUl4TixRQUFROFAsR0FBRztnQkFDbEJFLE1BQU0sQ0FBQ0QsSUFBSUYsQ0FBQUEsSUFBS3JDLFFBQVE7WUFDNUIsT0FBTztnQkFDSHdDLE1BQU0sQ0FBQ0gsSUFBSUMsQ0FBQUEsSUFBS3RDLFFBQVE7WUFDNUI7WUFDQXdDLE1BQU1qUSxLQUFLRSxLQUFLLENBQUMrUCxNQUFNO1lBQ3ZCLElBQUlBLE1BQU0sR0FBR0EsT0FBTztZQUVwQixNQUFNQyxhQUFhalEsUUFBUSxJQUFJLElBQUl3TixRQUFReE47WUFFM0MsTUFBTWtRLGFBQWFGLE9BQU8sTUFBTUEsT0FBTztZQUN2QyxNQUFNRyxjQUFjRixjQUFjO1lBRWxDLE9BQU9DLGNBQWNDO1FBQ3pCO1FBRUEsTUFBTUMsY0FBYztRQUNwQixNQUFNQyxRQUFrQixFQUFFO1FBRTFCLElBQUssSUFBSTlWLElBQUksR0FBR0EsSUFBSWQsUUFBUWMsSUFBSztZQUM3QixJQUFLLElBQUlTLElBQUksR0FBR0EsSUFBSXhCLE9BQU93QixJQUFLO2dCQUM1QixNQUFNMkksUUFBUXBKLElBQUlmLFFBQVF3QjtnQkFDMUIsSUFBSXdVLE9BQU8sQ0FBQzdMLE1BQU0sRUFBRTtnQkFFcEIsTUFBTTJNLFlBQVkzTSxRQUFRO2dCQUMxQixJQUFJLENBQUNnTSxZQUFZVyxZQUFZO29CQUN6QmQsT0FBTyxDQUFDN0wsTUFBTSxHQUFHO29CQUNqQjtnQkFDSjtnQkFFQSxJQUFJNE0sT0FBTztnQkFDWCxJQUFJQyxPQUFPO2dCQUNYLElBQUk1RyxRQUFRO2dCQUNaLElBQUk2RyxPQUFPelY7Z0JBQ1gsSUFBSTBWLE9BQU8xVjtnQkFDWCxJQUFJMlYsT0FBT3BXO2dCQUNYLElBQUlxVyxPQUFPclc7Z0JBRVg4VixNQUFNUSxJQUFJLENBQUNsTjtnQkFDWDZMLE9BQU8sQ0FBQzdMLE1BQU0sR0FBRztnQkFFakIsTUFBTzBNLE1BQU1uVSxNQUFNLENBQUU7b0JBQ2pCLE1BQU00VSxVQUFVVCxNQUFNVSxHQUFHO29CQUN6QixNQUFNQyxLQUFLalIsS0FBS2dGLEtBQUssQ0FBQytMLFVBQVV0WDtvQkFDaEMsTUFBTXlYLEtBQUtILFVBQVdFLEtBQUt4WDtvQkFFM0IsTUFBTTBYLG1CQUFtQkosVUFBVTtvQkFDbkMsSUFBSSxDQUFDbkIsWUFBWXVCLG1CQUFtQjt3QkFDaEM7b0JBQ0o7b0JBRUFYLFFBQVFVO29CQUNSVCxRQUFRUTtvQkFDUnBILFNBQVM7b0JBQ1QsSUFBSXFILEtBQUtSLE1BQU1BLE9BQU9RO29CQUN0QixJQUFJQSxLQUFLUCxNQUFNQSxPQUFPTztvQkFDdEIsSUFBSUQsS0FBS0wsTUFBTUEsT0FBT0s7b0JBQ3RCLElBQUlBLEtBQUtKLE1BQU1BLE9BQU9JO29CQUV0QixJQUFJQyxLQUFLLEdBQUc7d0JBQ1IsTUFBTUUsT0FBT0wsVUFBVTt3QkFDdkIsSUFBSSxDQUFDdEIsT0FBTyxDQUFDMkIsS0FBSyxFQUFFOzRCQUNoQixNQUFNQyxZQUFZRCxPQUFPOzRCQUN6QixJQUFJeEIsWUFBWXlCLFlBQVk7Z0NBQ3hCNUIsT0FBTyxDQUFDMkIsS0FBSyxHQUFHO2dDQUNoQmQsTUFBTVEsSUFBSSxDQUFDTTs0QkFDZixPQUFPO2dDQUNIM0IsT0FBTyxDQUFDMkIsS0FBSyxHQUFHOzRCQUNwQjt3QkFDSjtvQkFDSjtvQkFFQSxJQUFJRixLQUFLelgsUUFBUSxHQUFHO3dCQUNoQixNQUFNNlgsUUFBUVAsVUFBVTt3QkFDeEIsSUFBSSxDQUFDdEIsT0FBTyxDQUFDNkIsTUFBTSxFQUFFOzRCQUNqQixNQUFNQyxhQUFhRCxRQUFROzRCQUMzQixJQUFJMUIsWUFBWTJCLGFBQWE7Z0NBQ3pCOUIsT0FBTyxDQUFDNkIsTUFBTSxHQUFHO2dDQUNqQmhCLE1BQU1RLElBQUksQ0FBQ1E7NEJBQ2YsT0FBTztnQ0FDSDdCLE9BQU8sQ0FBQzZCLE1BQU0sR0FBRzs0QkFDckI7d0JBQ0o7b0JBQ0o7b0JBRUEsSUFBSUwsS0FBSyxHQUFHO3dCQUNSLE1BQU1PLEtBQUtULFVBQVV0WDt3QkFDckIsSUFBSSxDQUFDZ1csT0FBTyxDQUFDK0IsR0FBRyxFQUFFOzRCQUNkLE1BQU1DLFVBQVVELEtBQUs7NEJBQ3JCLElBQUk1QixZQUFZNkIsVUFBVTtnQ0FDdEJoQyxPQUFPLENBQUMrQixHQUFHLEdBQUc7Z0NBQ2RsQixNQUFNUSxJQUFJLENBQUNVOzRCQUNmLE9BQU87Z0NBQ0gvQixPQUFPLENBQUMrQixHQUFHLEdBQUc7NEJBQ2xCO3dCQUNKO29CQUNKO29CQUVBLElBQUlQLEtBQUt2WCxTQUFTLEdBQUc7d0JBQ2pCLE1BQU1nWSxPQUFPWCxVQUFVdFg7d0JBQ3ZCLElBQUksQ0FBQ2dXLE9BQU8sQ0FBQ2lDLEtBQUssRUFBRTs0QkFDaEIsTUFBTUMsWUFBWUQsT0FBTzs0QkFDekIsSUFBSTlCLFlBQVkrQixZQUFZO2dDQUN4QmxDLE9BQU8sQ0FBQ2lDLEtBQUssR0FBRztnQ0FDaEJwQixNQUFNUSxJQUFJLENBQUNZOzRCQUNmLE9BQU87Z0NBQ0hqQyxPQUFPLENBQUNpQyxLQUFLLEdBQUc7NEJBQ3BCO3dCQUNKO29CQUNKO2dCQUNKO2dCQUVBLElBQUk3SCxTQUFTd0csYUFBYTtvQkFDdEIsTUFBTXVCLFlBQVlqQixPQUFPRDtvQkFDekIsTUFBTW1CLGFBQWFoQixPQUFPRDtvQkFDMUIsTUFBTWtCLFNBQVNGLFlBQWFDLENBQUFBLGNBQWM7b0JBRTFDLElBQUlELGFBQWEsTUFBTUMsY0FBYyxNQUFNQyxTQUFTLE9BQU9BLFNBQVMsS0FBSzt3QkFDckVuQyxRQUFRbUIsSUFBSSxDQUFDLElBQUkxUCxPQUFPcEIsSUFBSSxDQUFDK1IsT0FBTyxDQUFDdkIsT0FBTzNHLE9BQU80RyxPQUFPNUc7b0JBQzlEO2dCQUNKO1lBQ0o7UUFDSjtRQUVBOEYsUUFBUXFDLElBQUksQ0FBQyxDQUFDQyxHQUFHakM7WUFDYixNQUFNa0MsS0FBS2xDLEVBQUV4VixDQUFDLEdBQUd5WCxFQUFFelgsQ0FBQztZQUNwQixJQUFJd0YsS0FBS21TLEdBQUcsQ0FBQ0QsTUFBTSxHQUFHLE9BQU9BO1lBQzdCLE9BQU9ELEVBQUVoWCxDQUFDLEdBQUcrVSxFQUFFL1UsQ0FBQztRQUNwQjtRQUVBLE9BQU8wVTtJQUNYO0lBRUE7O0tBRUMsR0FDRHBHLGdCQUFnQjZJLEtBQThCLEVBQUU7UUFDNUMsSUFBSUEsVUFBVSxXQUFXO1lBQ3JCLElBQUksQ0FBQ3BYLE1BQU0sQ0FBQytQLFdBQVcsQ0FBQztRQUM1QixPQUFPO1lBQ0gsSUFBSSxDQUFDL1AsTUFBTSxDQUFDcVgsYUFBYSxDQUFDO1FBQzlCO0lBQ0o7SUFFUXJKLGdCQUFnQm9KLEtBQW1DLEVBQVE7UUFDL0QsSUFBSSxDQUFDLElBQUksQ0FBQ2hRLFNBQVMsRUFBRTtRQUNyQixJQUFJLENBQUNBLFNBQVMsQ0FBQytFLFdBQVcsQ0FBQ2lMO1FBQzNCLElBQUksQ0FBQ0UsaUJBQWlCLEdBQUdGO0lBQzdCO0lBRVFqSixNQUFNc0MsRUFBVSxFQUFpQjtRQUNyQyxPQUFPLElBQUk4RyxRQUFRLENBQUNDO1lBQ2hCLElBQUksQ0FBQ25KLElBQUksQ0FBQ0MsV0FBVyxDQUFDbUMsSUFBSSxJQUFNK0c7UUFDcEM7SUFDSjtJQTEwQ0FDLGFBQ0E7UUFDSSxLQUFLLENBQUMsY0FuRFZqTCxpQkFBeUIsUUFDekJELGtCQUEwQixRQUMxQkQsVUFBa0IsUUFDbEJvTCxrQkFBMEIsU0FHMUJKLG9CQUFrRCxhQUdsRDdPLG9CQUFvRCxFQUFFLE9BQ3REekMsV0FBb0IsWUFDcEI2QyxhQUFzQixZQUN0QmtFLG1CQUEyQixRQUczQjlHLGlCQUEwQixZQU0xQnlHLGdCQUF5QixZQUV6QkQsV0FBb0IsWUFHcEI1TCxjQUFzQixhQUN0QmlQLGlCQUF5QixLQUV6QixhQUFhO2FBQ2J3QyxRQUFnQixRQUNoQnBTLG1CQUEyQixRQUMzQmpDLFlBQTJCLFdBQzNCQyxnQkFBK0IsV0FDL0JFLG1CQUEwQyxXQUMxQ0UsbUJBQWtDLFdBQ2xDcVEsdUJBQWdDLFlBQ2hDL1EsV0FBbUIsbUJBQ25CSSxhQUFhViwwREFBYUEsQ0FBQyxlQUUzQiwwQ0FBMEM7YUFDbENxQyxXQUFrQyxFQUFFLEVBRTVDLDBCQUEwQjthQUNUNFQsYUFBYSxVQUNiQyxZQUFZLFVBQ1pDLGlCQUFpQjtJQU1sQztBQXcwQ0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYjIzMDYwMS9Eb2N1bWVudHMvcGhhc2VyLWdhbWVkZXYvc3JjL2dhbWUvc2NlbmVzL0dhbWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICcuLi9FdmVudEJ1cyc7XG5pbXBvcnQgeyBTY2VuZSB9IGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBFbW90ZUNoYXJhY3RlciB9IGZyb20gJy4uL29iamVjdHMvRW1vdGVDaGFyYWN0ZXInO1xuaW1wb3J0IHR5cGUgeyBHYW1lUXVlc3Rpb24gfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hcGknO1xuaW1wb3J0IHsgZ2V0R2FtZUNvbmZpZywgcmVzb2x2ZUdhbWVDb2RlIH0gZnJvbSAnLi4vZ2FtZUNvbmZpZyc7XG5pbXBvcnQgeyBRdWl6UGFuZWwgfSBmcm9tICcuLi91aS9RdWl6UGFuZWwnO1xuXG5leHBvcnQgY2xhc3MgR2FtZSBleHRlbmRzIFNjZW5lXG57XG4gICAgY2FtZXJhOiBQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkNhbWVyYTtcbiAgICB0cmFja0ltYWdlITogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgIHBsYXllciE6IEVtb3RlQ2hhcmFjdGVyO1xuICAgIHBhcmFsbGF4TGF5ZXJzOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2VbXTtcbiAgICB1aVJvb3QhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHVpQ2FtZXJhITogUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5DYW1lcmE7XG4gICAgdGltZXJPdmVybGF5ITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRCYWNrQnV0dG9uITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRQb2ludHNQaWxsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRUaW1lclBpbGwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIGh1ZEhlYXJ0c1BpbGwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuXG4gICAgLy8gVUlcbiAgICBqdW1wQnV0dG9uOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIGp1bXBCdXR0b25CZyE6IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XG4gICAgc2NvcmVUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBxdWl6TW9kYWwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHF1aXpQYW5lbENvbnRhaW5lciE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgcXVpelBhbmVsU2hhZG93ITogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xuICAgIHF1aXpQYW5lbEJnITogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xuICAgIHF1aXpQYW5lbEdsb3chOiBQaGFzZXIuR2FtZU9iamVjdHMuR3JhcGhpY3M7XG4gICAgcXVpelBhbmVsV2lkdGg6IG51bWJlciA9IDA7XG4gICAgcXVpelBhbmVsSGVpZ2h0OiBudW1iZXIgPSAwO1xuICAgIHVpU2NhbGU6IG51bWJlciA9IDE7XG4gICAgc2FmZUluc2V0Qm90dG9tOiBudW1iZXIgPSAxNjtcbiAgICBxdWl6RmVlZGJhY2tUaXRsZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBxdWl6RmVlZGJhY2tTdWJ0aXRsZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBxdWl6RmVlZGJhY2tTdGF0ZTogJ2lkbGUnIHwgJ2NvcnJlY3QnIHwgJ3dyb25nJyA9ICdpZGxlJztcbiAgICBxdWl6UXVlc3Rpb25UZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgcXVpekluZGV4VGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICAgIHF1aXpPcHRpb25CdXR0b25zOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyW10gPSBbXTtcbiAgICBxdWl6T3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHF1aXpMb2NrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBxdWl6Q3VycmVudEluZGV4OiBudW1iZXIgPSAwO1xuICAgIHF1aXpQYW5lbCE6IFF1aXpQYW5lbDtcbiAgICBzdGFydE1vZGFsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBzdGFydE1vZGFsT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGVuZE1vZGFsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBlbmRNb2RhbFNjb3JlVGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICAgIGVuZE1vZGFsVGltZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBjb25mZXR0aUVtaXR0ZXI/OiBQaGFzZXIuR2FtZU9iamVjdHMuUGFydGljbGVzLlBhcnRpY2xlRW1pdHRlcjtcbiAgICBjb25mZXR0aUJ1cnN0RXZlbnQ/OiBQaGFzZXIuVGltZS5UaW1lckV2ZW50O1xuICAgIGdhbWVDb21wbGV0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICB0aW1lVXBNb2RhbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgZ2FtZU92ZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICB0aW1lclRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICB0aW1lckV2ZW50ITogUGhhc2VyLlRpbWUuVGltZXJFdmVudDtcbiAgICB0b3RhbFRpbWVNczogbnVtYmVyID0gMTgwMDAwO1xuICAgIGp1bXBEdXJhdGlvbk1zOiBudW1iZXIgPSA5MDA7XG5cbiAgICAvLyBHYW1lIFN0YXRlXG4gICAgc2NvcmU6IG51bWJlciA9IDA7XG4gICAgY3VycmVudExlYWZJbmRleDogbnVtYmVyID0gMDtcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHNlc3Npb25HYW1lSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHNlc3Npb25RdWVzdGlvbnM6IEdhbWVRdWVzdGlvbltdIHwgbnVsbCA9IG51bGw7XG4gICAgc2Vzc2lvblRpbWVMaW1pdDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgcXVlc3Rpb25Tb3VyY2VMb2dnZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBnYW1lQ29kZTogc3RyaW5nID0gJ3ZvY2FiX3JhY2UnO1xuICAgIGdhbWVDb25maWcgPSBnZXRHYW1lQ29uZmlnKCd2b2NhYl9yYWNlJyk7XG5cbiAgICAvLyBMZWFmIHBhdGggKGRldGVjdGVkIGZyb20gdHJhY2sgdGV4dHVyZSlcbiAgICBwcml2YXRlIGxlYWZQYXRoOiBQaGFzZXIuTWF0aC5WZWN0b3IyW10gPSBbXTtcblxuICAgIC8vIEZhbGxiYWNrIHppZy16YWcgY29uZmlnXG4gICAgcHJpdmF0ZSByZWFkb25seSBsZWFmU3RhcnRZID0gOTQwO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGVhZlN0ZXBZID0gMTQwO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGVhZlNpZGVPZmZzZXQgPSAxODA7XG5cbiAgICBcbiAgICBjb25zdHJ1Y3RvciAoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoJ0dhbWUnKTtcbiAgICB9XG5cbiAgICBpbml0IChkYXRhOiB7IGdhbWVDb2RlPzogc3RyaW5nIHwgbnVsbDsgc2Vzc2lvbklkPzogc3RyaW5nIHwgbnVsbDsgZ2FtZUlkPzogc3RyaW5nIHwgbnVsbDsgcXVlc3Rpb25zPzogR2FtZVF1ZXN0aW9uW10gfCBudWxsOyB0aW1lTGltaXQ/OiBudW1iZXIgfCBudWxsIH0pXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVDb2RlID0gcmVzb2x2ZUdhbWVDb2RlKGRhdGE/LmdhbWVDb2RlID8/ICh0aGlzLnJlZ2lzdHJ5LmdldCgnZ2FtZUNvZGUnKSBhcyBzdHJpbmcgfCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ2dhbWVDb2RlJywgdGhpcy5nYW1lQ29kZSk7XG4gICAgICAgIHRoaXMuZ2FtZUNvbmZpZyA9IGdldEdhbWVDb25maWcodGhpcy5nYW1lQ29kZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gZGF0YT8uc2Vzc2lvbklkID8/IG51bGw7XG4gICAgICAgIHRoaXMuc2Vzc2lvbkdhbWVJZCA9IGRhdGE/LmdhbWVJZCA/PyBudWxsO1xuICAgICAgICB0aGlzLnNlc3Npb25RdWVzdGlvbnMgPSBkYXRhPy5xdWVzdGlvbnMgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5zZXNzaW9uVGltZUxpbWl0ID0gZGF0YT8udGltZUxpbWl0ID8/IG51bGw7XG4gICAgfVxuXG4gICAgY3JlYXRlICgpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5jYW1lcmFzLm1haW47XG5cbiAgICAgICAgLy8gUGFyYWxsYXggYmFja2dyb3VuZFxuICAgICAgICB0aGlzLmNyZWF0ZVBhcmFsbGF4QmFja2dyb3VuZCgpO1xuXG4gICAgICAgIC8vIFRyYWNrIChMZWF2ZXMpIC0gVXNlIGJnLW1haW4gYXMgdGhlIHNjcm9sbGluZyBtYXBcbiAgICAgICAgdGhpcy50cmFja0ltYWdlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBoZWlnaHQsIHRoaXMuZ2FtZUNvbmZpZy5tYXBLZXkpLnNldE9yaWdpbigwLjUsIDEpO1xuICAgICAgICBjb25zdCB0cmFja1NjYWxlID0gd2lkdGggLyB0aGlzLnRyYWNrSW1hZ2Uud2lkdGg7XG4gICAgICAgIHRoaXMudHJhY2tJbWFnZS5zZXRTY2FsZSh0cmFja1NjYWxlKTtcblxuICAgICAgICBjb25zdCBtYXBUb3AgPSB0aGlzLnRyYWNrSW1hZ2UueSAtIHRoaXMudHJhY2tJbWFnZS5kaXNwbGF5SGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbWVyYS5zZXRCb3VuZHMoMCwgbWFwVG9wLCB3aWR0aCwgdGhpcy50cmFja0ltYWdlLmRpc3BsYXlIZWlnaHQpO1xuXG4gICAgICAgIC8vIEJ1aWxkIGxlYWYgcGF0aCBiYXNlZCBvbiB0aGUgbWFwIHRleHR1cmVcbiAgICAgICAgdGhpcy5sZWFmUGF0aCA9IHRoaXMuZ2FtZUNvbmZpZy51c2VUZXh0dXJlUGF0aCA/IHRoaXMuYnVpbGRMZWFmUGF0aCh0aGlzLmdhbWVDb25maWcubWFwS2V5KSA6IFtdO1xuXG4gICAgICAgIC8vIFBsYXllciBTZXR1cCAtIFVzaW5nIEVtb3RlQ2hhcmFjdGVyIChpZGxlL2NvcnJlY3QvaW5jb3JyZWN0IHN0YXRlcylcbiAgICAgICAgY29uc3Qgc3RhcnRQb3MgPSB0aGlzLmdldExlYWZQb3NpdGlvbigwKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgRW1vdGVDaGFyYWN0ZXIodGhpcywgc3RhcnRQb3MueCwgc3RhcnRQb3MueSk7XG4gICAgICAgIHRoaXMuY3VycmVudExlYWZJbmRleCA9IDA7XG5cbiAgICAgICAgY29uc3QgbmV4dFBvcyA9IHRoaXMuZ2V0TGVhZlBvc2l0aW9uKHRoaXMuY3VycmVudExlYWZJbmRleCArIDEpO1xuICAgICAgICB0aGlzLnBsYXllci5mbGlwKG5leHRQb3MueCA+IHN0YXJ0UG9zLngpO1xuXG4gICAgICAgIC8vIFN0YXJ0IGlkbGUgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMucGxheWVyLnBsYXlJZGxlKCk7XG5cbiAgICAgICAgLy8gSW5pdGlhbCBDYW1lcmEgUG9zaXRpb25cbiAgICAgICAgdGhpcy5jYW1lcmEuc2Nyb2xsWSA9IHN0YXJ0UG9zLnkgLSA5MDA7XG5cbiAgICAgICAgLy8gVUkgY2FtZXJhIChmaXhlZCBzY3JlZW4tc3BhY2UpXG4gICAgICAgIHRoaXMudWlDYW1lcmEgPSB0aGlzLmNhbWVyYXMuYWRkKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLnVpQ2FtZXJhLnNldFNjcm9sbCgwLCAwKTtcbiAgICAgICAgdGhpcy51aUNhbWVyYS5pZ25vcmUodGhpcy5jaGlsZHJlbi5saXN0KTtcblxuICAgICAgICAvLyBVSVxuICAgICAgICB0aGlzLmNyZWF0ZVVJKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAmJiB0aGlzLnNlc3Npb25UaW1lTGltaXQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnRvdGFsVGltZU1zID0gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICogMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIEV2ZW50QnVzLmVtaXQoJ2N1cnJlbnQtc2NlbmUtcmVhZHknLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQYXJhbGxheEJhY2tncm91bmQoKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmdhbWVDb25maWcuYmFja2dyb3VuZENvbG9yKTtcbiAgICAgICAgdGhpcy5wYXJhbGxheExheWVycyA9IFtdO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmFsbGF4TGF5ZXJzPy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2Nyb2xsWSA9IHRoaXMuY2FtZXJhLnNjcm9sbFk7XG5cbiAgICAgICAgdGhpcy5wYXJhbGxheExheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gbGF5ZXIuZ2V0RGF0YSgnc2Nyb2xsRmFjdG9yJykgYXMgbnVtYmVyO1xuICAgICAgICAgICAgY29uc3QgYmFzZVkgPSBsYXllci5nZXREYXRhKCdiYXNlWScpIGFzIG51bWJlcjtcbiAgICAgICAgICAgIGxheWVyLnkgPSBiYXNlWSArIHNjcm9sbFkgKiBmYWN0b3I7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZVVJKCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIFxuICAgICAgICAvLyBGaXhlZCBVSSBDb250YWluZXJcbiAgICAgICAgdGhpcy51aVJvb3QgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDEwMCk7XG5cbiAgICAgICAgLy8gVGltZXIgKyBTY29yZSBIVURcbiAgICAgICAgdGhpcy50aW1lck92ZXJsYXkgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDIwMDApO1xuXG4gICAgICAgIC8vIEJhY2sgYnV0dG9uXG4gICAgICAgIHRoaXMuaHVkQmFja0J1dHRvbiA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgY29uc3QgYmFja0JnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgYmFja0JnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC45NSk7XG4gICAgICAgIGJhY2tCZy5maWxsUm91bmRlZFJlY3QoLTI0LCAtMjQsIDQ4LCA0OCwgMTQpO1xuICAgICAgICBiYWNrQmcubGluZVN0eWxlKDIsIDB4MGVhNWU5LCAwLjIpO1xuICAgICAgICBiYWNrQmcuc3Ryb2tlUm91bmRlZFJlY3QoLTI0LCAtMjQsIDQ4LCA0OCwgMTQpO1xuICAgICAgICBjb25zdCBiYWNrSWNvbiA9IHRoaXMuYWRkLnRleHQoMCwgMSwgJzwnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIGNvbnN0IGJhY2tIaXQgPSB0aGlzLmFkZC56b25lKDAsIDAsIDQ4LCA0OClcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcbiAgICAgICAgYmFja0hpdC5vbigncG9pbnRlcnVwJywgKCkgPT4gdGhpcy5oYW5kbGVCYWNrVG9HYW1lTGlzdCgpKTtcbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLmFkZChbYmFja0JnLCBiYWNrSWNvbl0pO1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24uc2V0U2l6ZSg0OCwgNDgpO1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24uYWRkKGJhY2tIaXQpO1xuXG4gICAgICAgIC8vIFBvaW50cyBwaWxsXG4gICAgICAgIHRoaXMuaHVkUG9pbnRzUGlsbCA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgY29uc3QgcG9pbnRzQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBjb25zdCBwb2ludHNXID0gMTcwO1xuICAgICAgICBjb25zdCBwb2ludHNIID0gNDQ7XG4gICAgICAgIHBvaW50c0JnLmZpbGxTdHlsZSgweGUwZjJmZSwgMC45OCk7XG4gICAgICAgIHBvaW50c0JnLmZpbGxSb3VuZGVkUmVjdCgtcG9pbnRzVyAvIDIsIC1wb2ludHNIIC8gMiwgcG9pbnRzVywgcG9pbnRzSCwgMjIpO1xuICAgICAgICBwb2ludHNCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNyk7XG4gICAgICAgIHBvaW50c0JnLnN0cm9rZVJvdW5kZWRSZWN0KC1wb2ludHNXIC8gMiwgLXBvaW50c0ggLyAyLCBwb2ludHNXLCBwb2ludHNILCAyMik7XG4gICAgICAgIGNvbnN0IHN0YXIgPSB0aGlzLmFkZC5pbWFnZSgtcG9pbnRzVyAvIDIgKyAyNCwgMCwgJ3N0YXInKS5zZXRTY2FsZSgwLjMyKS5zZXRUaW50KDB4ZmJiZjI0KTtcbiAgICAgICAgdGhpcy5zY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KC1wb2ludHNXIC8gMiArIDQ2LCAwLCAnUE9JTlRTOiAwMCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMCwgMC41KTtcbiAgICAgICAgdGhpcy5odWRQb2ludHNQaWxsLmFkZChbcG9pbnRzQmcsIHN0YXIsIHRoaXMuc2NvcmVUZXh0XSk7XG5cbiAgICAgICAgLy8gVGltZXIgcGlsbFxuICAgICAgICB0aGlzLmh1ZFRpbWVyUGlsbCA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgY29uc3QgdGltZXJCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IHRpbWVyVyA9IDEwMDtcbiAgICAgICAgY29uc3QgdGltZXJIID0gNDA7XG4gICAgICAgIHRpbWVyQmcuZmlsbFN0eWxlKDB4ZGJlYWZlLCAwLjk4KTtcbiAgICAgICAgdGltZXJCZy5maWxsUm91bmRlZFJlY3QoLXRpbWVyVyAvIDIsIC10aW1lckggLyAyLCB0aW1lclcsIHRpbWVySCwgMjApO1xuICAgICAgICB0aW1lckJnLmxpbmVTdHlsZSgyLCAweDYwYTVmYSwgMC42KTtcbiAgICAgICAgdGltZXJCZy5zdHJva2VSb3VuZGVkUmVjdCgtdGltZXJXIC8gMiwgLXRpbWVySCAvIDIsIHRpbWVyVywgdGltZXJILCAyMCk7XG4gICAgICAgIHRoaXMudGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnMDM6MDAnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIHRoaXMuaHVkVGltZXJQaWxsLmFkZChbdGltZXJCZywgdGhpcy50aW1lclRleHRdKTtcblxuICAgICAgICAvLyBIZWFydHMgcGlsbFxuICAgICAgICB0aGlzLmh1ZEhlYXJ0c1BpbGwgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XG4gICAgICAgIGNvbnN0IGhlYXJ0c0JnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgaGVhcnRzVyA9IDkyO1xuICAgICAgICBjb25zdCBoZWFydHNIID0gMzY7XG4gICAgICAgIGhlYXJ0c0JnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC45OCk7XG4gICAgICAgIGhlYXJ0c0JnLmZpbGxSb3VuZGVkUmVjdCgtaGVhcnRzVyAvIDIsIC1oZWFydHNIIC8gMiwgaGVhcnRzVywgaGVhcnRzSCwgMTgpO1xuICAgICAgICBoZWFydHNCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuMzUpO1xuICAgICAgICBoZWFydHNCZy5zdHJva2VSb3VuZGVkUmVjdCgtaGVhcnRzVyAvIDIsIC1oZWFydHNIIC8gMiwgaGVhcnRzVywgaGVhcnRzSCwgMTgpO1xuICAgICAgICBjb25zdCBoZWFydHNUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAn4p2kIOKdpCDinaQnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2VmNDQ0NCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIHRoaXMuaHVkSGVhcnRzUGlsbC5hZGQoW2hlYXJ0c0JnLCBoZWFydHNUZXh0XSk7XG5cbiAgICAgICAgdGhpcy50aW1lck92ZXJsYXkuYWRkKFt0aGlzLmh1ZEJhY2tCdXR0b24sIHRoaXMuaHVkUG9pbnRzUGlsbCwgdGhpcy5odWRUaW1lclBpbGwsIHRoaXMuaHVkSGVhcnRzUGlsbF0pO1xuICAgICAgICB0aGlzLnVpUm9vdC5hZGQodGhpcy50aW1lck92ZXJsYXkpO1xuICAgICAgICB0aGlzLmxheW91dEh1ZCgpO1xuXG4gICAgICAgIC8vIEp1bXAgQnV0dG9uXG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbiA9IHRoaXMuY3JlYXRlSnVtcEJ1dHRvbih3aWR0aCAvIDIsIGhlaWdodCAtIDE1MCk7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgICAgIHRoaXMudWlSb290LmFkZCh0aGlzLmp1bXBCdXR0b24pO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBY3RpdmUoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBKdW1wSW5wdXQoKTtcblxuICAgICAgICAvLyBRdWl6IE1vZGFsIChVSSBvdmVybGF5KVxuICAgICAgICB0aGlzLmNyZWF0ZVF1aXpNb2RhbCgpO1xuICAgICAgICB0aGlzLnNjYWxlLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWl6TW9kYWwpIHRoaXMubGF5b3V0UXVpeigpO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRIdWQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3RhcnQgTW9kYWwgKGZpcnN0IHNjcmVlbilcbiAgICAgICAgdGhpcy5jcmVhdGVTdGFydE1vZGFsKCk7XG4gICAgICAgIHRoaXMub3BlblN0YXJ0TW9kYWwoKTtcblxuICAgICAgICAvLyBFbnN1cmUgb25seSBVSSBjYW1lcmEgcmVuZGVycyBVSVxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5pZ25vcmUoW3RoaXMudWlSb290LCB0aGlzLnRpbWVyT3ZlcmxheV0pO1xuXG4gICAgICAgIC8vIEVuZCBNb2RhbFxuICAgICAgICB0aGlzLmNyZWF0ZUVuZE1vZGFsKCk7XG5cbiAgICAgICAgLy8gVGltZSBVcCBNb2RhbFxuICAgICAgICB0aGlzLmNyZWF0ZVRpbWVVcE1vZGFsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXlvdXRIdWQoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5odWRCYWNrQnV0dG9uIHx8ICF0aGlzLmh1ZFBvaW50c1BpbGwgfHwgIXRoaXMuaHVkVGltZXJQaWxsIHx8ICF0aGlzLmh1ZEhlYXJ0c1BpbGwpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCB0b3BJbnNldCA9IE1hdGgubWF4KDIwLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuMDMpKTtcbiAgICAgICAgY29uc3Qgc2lkZUluc2V0ID0gTWF0aC5tYXgoMTYsIE1hdGgucm91bmQod2lkdGggKiAwLjA0NSkpO1xuICAgICAgICBjb25zdCBnYXAgPSAxMDtcbiAgICAgICAgY29uc3QgaGVhcnRzVyA9IDkyO1xuICAgICAgICBjb25zdCB0aW1lclcgPSAxMDA7XG5cbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLnNldFBvc2l0aW9uKHNpZGVJbnNldCArIDI0LCB0b3BJbnNldCArIDI0KTtcbiAgICAgICAgdGhpcy5odWRQb2ludHNQaWxsLnNldFBvc2l0aW9uKHdpZHRoIC8gMiwgdG9wSW5zZXQgKyAyNCk7XG5cbiAgICAgICAgY29uc3QgcmlnaHRFZGdlID0gd2lkdGggLSBzaWRlSW5zZXQ7XG4gICAgICAgIHRoaXMuaHVkSGVhcnRzUGlsbC5zZXRQb3NpdGlvbihyaWdodEVkZ2UgLSBoZWFydHNXIC8gMiwgdG9wSW5zZXQgKyAyNCk7XG4gICAgICAgIHRoaXMuaHVkVGltZXJQaWxsLnNldFBvc2l0aW9uKHJpZ2h0RWRnZSAtIGhlYXJ0c1cgLSBnYXAgLSB0aW1lclcgLyAyLCB0b3BJbnNldCArIDI0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUJhY2tUb0dhbWVMaXN0KCk6IHZvaWQge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJztcbiAgICB9XG5cbiAgICBjcmVhdGVKdW1wQnV0dG9uKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5KTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAzMDA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDEwMDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4ZmJiZjI0KVxuICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIDB4ZmZmZmZmKVxuICAgICAgICAgICAgLnNldEZpbGxTdHlsZSgweDIyYzU1ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ05FWFQgSlVNUCEnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLCBmb250U2l6ZTogJzMycHgnLCBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQoW2JnLCB0ZXh0XSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbkJnID0gYmc7XG5cbiAgICAgICAgY29uc3Qgb25QcmVzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnF1aXpPcGVuIHx8IHRoaXMuc3RhcnRNb2RhbE9wZW4pIHJldHVybjtcbiAgICAgICAgICAgIGJnLnNldEZpbGxTdHlsZSgweDE2YTM0YSk7XG4gICAgICAgICAgICB0aGlzLm9wZW5RdWl6TW9kYWwoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvblJlbGVhc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBiZy5zZXRGaWxsU3R5bGUoMHgyMmM1NWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnRhaW5lci5zZXRJbnRlcmFjdGl2ZShuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0KSwgUGhhc2VyLkdlb20uUmVjdGFuZ2xlLkNvbnRhaW5zKTtcblxuICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJkb3duJywgb25QcmVzcyk7XG5cbiAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVydXAnLCBvblJlbGVhc2UpO1xuXG4gICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm91dCcsIG9uUmVsZWFzZSk7XG5cbiAgICAgICAgLy8gQWRkIHNpbXBsZSBwdWxzZSB0d2VlblxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogY29udGFpbmVyLFxuICAgICAgICAgICAgc2NhbGU6IDEuMDUsXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwLFxuICAgICAgICAgICAgeW95bzogdHJ1ZSxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwSnVtcElucHV0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlucHV0LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5pbnB1dC5tb3VzZSkgdGhpcy5pbnB1dC5tb3VzZS5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyOiBQaGFzZXIuSW5wdXQuUG9pbnRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucXVpek9wZW4gfHwgdGhpcy5zdGFydE1vZGFsT3BlbikgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5qdW1wQnV0dG9uLmdldEJvdW5kcygpO1xuICAgICAgICAgICAgaWYgKGJvdW5kcy5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmp1bXBCdXR0b25CZy5zZXRGaWxsU3R5bGUoMHgxNmEzNGEpO1xuICAgICAgICAgICAgICAgIHRoaXMub3BlblF1aXpNb2RhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmp1bXBCdXR0b25CZy5zZXRGaWxsU3R5bGUoMHgyMmM1NWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVF1aXpNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWwgPSBuZXcgUXVpelBhbmVsKHRoaXMsIHsgb3B0aW9uQ291bnQ6IDQsIGRlcHRoOiAyMDAsIHBhcmVudDogdGhpcy51aVJvb3QsIHNob3dJbmRleDogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5xdWl6TW9kYWwgPSB0aGlzLnF1aXpQYW5lbC5jb250YWluZXI7XG4gICAgICAgIHRoaXMucXVpelBhbmVsQ29udGFpbmVyID0gdGhpcy5xdWl6UGFuZWwucGFuZWxDb250YWluZXI7XG4gICAgICAgIHRoaXMucXVpelBhbmVsU2hhZG93ID0gdGhpcy5xdWl6UGFuZWwucGFuZWxTaGFkb3c7XG4gICAgICAgIHRoaXMucXVpelBhbmVsQmcgPSB0aGlzLnF1aXpQYW5lbC5wYW5lbEJnO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbEdsb3cgPSB0aGlzLnF1aXpQYW5lbC5wYW5lbEdsb3c7XG4gICAgICAgIHRoaXMucXVpekluZGV4VGV4dCA9IHRoaXMucXVpelBhbmVsLmluZGV4VGV4dDtcbiAgICAgICAgdGhpcy5xdWl6RmVlZGJhY2tUaXRsZVRleHQgPSB0aGlzLnF1aXpQYW5lbC5mZWVkYmFja1RpdGxlVGV4dDtcbiAgICAgICAgdGhpcy5xdWl6RmVlZGJhY2tTdWJ0aXRsZVRleHQgPSB0aGlzLnF1aXpQYW5lbC5mZWVkYmFja1N1YnRpdGxlVGV4dDtcbiAgICAgICAgdGhpcy5xdWl6UXVlc3Rpb25UZXh0ID0gdGhpcy5xdWl6UGFuZWwucXVlc3Rpb25UZXh0O1xuICAgICAgICB0aGlzLnF1aXpPcHRpb25CdXR0b25zID0gdGhpcy5xdWl6UGFuZWwub3B0aW9uQnV0dG9ucztcblxuICAgICAgICB0aGlzLnF1aXpQYW5lbC5vbk9wdGlvblNlbGVjdGVkKChpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnF1aXpPcGVuIHx8IHRoaXMucXVpekxvY2tlZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVRdWl6QW5zd2VyKGluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5sYXlvdXRRdWl6KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdGFydE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMjApO1xuXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuMTIpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAsIDApO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1pbig1MjAsIHdpZHRoIC0gODApO1xuICAgICAgICBjb25zdCBwYW5lbEhlaWdodCA9IDE2MDtcbiAgICAgICAgY29uc3QgcGFuZWxDb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuNTgpKS5zZXRTY3JvbGxGYWN0b3IoMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxTaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMTUpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyICsgNiwgLXBhbmVsSGVpZ2h0IC8gMiArIDEwLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjYpO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbEJnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC44NSk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcbiAgICAgICAgcGFuZWxCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNDUpO1xuICAgICAgICBwYW5lbEJnLnN0cm9rZVJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuYWRkLnRleHQoMCwgLTI2LCAnSGVscCB0aGUgcm9ib3QgY3Jvc3MgdGhlIHJpdmVyLicsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJyxcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiBwYW5lbFdpZHRoIC0gNjAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuY3JlYXRlU3RhcnRCdXR0b24oMCwgNDIpO1xuXG4gICAgICAgIHBhbmVsQ29udGFpbmVyLmFkZChbcGFuZWxTaGFkb3csIHBhbmVsQmcsIHRpdGxlLCBidXR0b25dKTtcbiAgICAgICAgY29udGFpbmVyLmFkZChbb3ZlcmxheSwgcGFuZWxDb250YWluZXJdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbCA9IGNvbnRhaW5lcjtcbiAgICAgICAgaWYgKHRoaXMudWlSb290KSB0aGlzLnVpUm9vdC5hZGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUVuZE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMzApO1xuXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuNilcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMCwgMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxXaWR0aCA9IE1hdGgubWluKDUyMCwgd2lkdGggLSA4MCk7XG4gICAgICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gMjIwO1xuICAgICAgICBjb25zdCBwYW5lbENvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih3aWR0aCAvIDIsIE1hdGgucm91bmQoaGVpZ2h0ICogMC41NikpLnNldFNjcm9sbEZhY3RvcigwKTtcbiAgICAgICAgb3ZlcmxheS5zZXREZXB0aCgwKTtcbiAgICAgICAgcGFuZWxDb250YWluZXIuc2V0RGVwdGgoMSk7XG5cbiAgICAgICAgY29uc3QgYmxvY2tlciA9IHRoaXMuYWRkLnpvbmUoMCwgMCwgd2lkdGgsIGhlaWdodCkuc2V0T3JpZ2luKDAsIDApO1xuICAgICAgICBibG9ja2VyLnNldEludGVyYWN0aXZlKG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCksIChzaGFwZSwgeCwgeSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFuZWxCb3VuZHMgPSBwYW5lbENvbnRhaW5lci5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgIGlmIChQaGFzZXIuR2VvbS5SZWN0YW5nbGUuQ29udGFpbnMocGFuZWxCb3VuZHMsIHgsIHkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gUGhhc2VyLkdlb20uUmVjdGFuZ2xlLkNvbnRhaW5zKHNoYXBlIGFzIFBoYXNlci5HZW9tLlJlY3RhbmdsZSwgeCwgeSk7XG4gICAgICAgIH0pO1xuICAgICAgICBibG9ja2VyLm9uKCdwb2ludGVyZG93bicsICgpID0+IHt9KTtcblxuICAgICAgICBjb25zdCBwYW5lbFNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxTdHlsZSgweDAwMDAwMCwgMC4xNSk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIgKyA2LCAtcGFuZWxIZWlnaHQgLyAyICsgMTAsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNik7XG5cbiAgICAgICAgY29uc3QgcGFuZWxCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjg1KTtcbiAgICAgICAgcGFuZWxCZy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjQpO1xuICAgICAgICBwYW5lbEJnLmxpbmVTdHlsZSgyLCAweDkzYzVmZCwgMC40NSk7XG4gICAgICAgIHBhbmVsQmcuc3Ryb2tlUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjQpO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5hZGQudGV4dCgwLCAtNjQsICdDb25ncmF0dWxhdGlvbnMhJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IHN1YnRpdGxlID0gdGhpcy5hZGQudGV4dCgwLCAtMzYsICdZb3UgY29tcGxldGVkIHRoZSBydW4uJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnLFxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IHBhbmVsV2lkdGggLSA2MCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3Qgc3RhdHNHYXAgPSAxNjtcbiAgICAgICAgY29uc3QgY2FyZFdpZHRoID0gTWF0aC5taW4oMjAwLCBNYXRoLmZsb29yKChwYW5lbFdpZHRoIC0gMTIwKSAvIDIpKTtcbiAgICAgICAgY29uc3QgY2FyZEhlaWdodCA9IDQ2O1xuICAgICAgICBjb25zdCBzdGF0c1kgPSA2MjtcblxuICAgICAgICBjb25zdCBzY29yZUNhcmQgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBzY29yZUNhcmQuZmlsbFN0eWxlKDB4OTNjNWZkLCAwLjE4KTtcbiAgICAgICAgc2NvcmVDYXJkLmZpbGxSb3VuZGVkUmVjdCgtY2FyZFdpZHRoIC8gMiwgLWNhcmRIZWlnaHQgLyAyLCBjYXJkV2lkdGgsIGNhcmRIZWlnaHQsIDE2KTtcbiAgICAgICAgc2NvcmVDYXJkLmxpbmVTdHlsZSgyLCAweDkzYzVmZCwgMC40NSk7XG4gICAgICAgIHNjb3JlQ2FyZC5zdHJva2VSb3VuZGVkUmVjdCgtY2FyZFdpZHRoIC8gMiwgLWNhcmRIZWlnaHQgLyAyLCBjYXJkV2lkdGgsIGNhcmRIZWlnaHQsIDE2KTtcblxuICAgICAgICBjb25zdCB0aW1lQ2FyZCA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHRpbWVDYXJkLmZpbGxTdHlsZSgweDkzYzVmZCwgMC4xOCk7XG4gICAgICAgIHRpbWVDYXJkLmZpbGxSb3VuZGVkUmVjdCgtY2FyZFdpZHRoIC8gMiwgLWNhcmRIZWlnaHQgLyAyLCBjYXJkV2lkdGgsIGNhcmRIZWlnaHQsIDE2KTtcbiAgICAgICAgdGltZUNhcmQubGluZVN0eWxlKDIsIDB4OTNjNWZkLCAwLjQ1KTtcbiAgICAgICAgdGltZUNhcmQuc3Ryb2tlUm91bmRlZFJlY3QoLWNhcmRXaWR0aCAvIDIsIC1jYXJkSGVpZ2h0IC8gMiwgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0LCAxNik7XG5cbiAgICAgICAgY29uc3Qgc2NvcmVDYXJkQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKC1jYXJkV2lkdGggLyAyIC0gc3RhdHNHYXAgLyAyLCBzdGF0c1ksIFtzY29yZUNhcmRdKTtcbiAgICAgICAgY29uc3QgdGltZUNhcmRDb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoY2FyZFdpZHRoIC8gMiArIHN0YXRzR2FwIC8gMiwgc3RhdHNZLCBbdGltZUNhcmRdKTtcblxuICAgICAgICBjb25zdCBzY29yZUxhYmVsID0gdGhpcy5hZGQudGV4dChzY29yZUNhcmRDb250YWluZXIueCwgc3RhdHNZIC0gMTYsICdTQ09SRScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMWUzYThhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCB0aW1lTGFiZWwgPSB0aGlzLmFkZC50ZXh0KHRpbWVDYXJkQ29udGFpbmVyLngsIHN0YXRzWSAtIDE2LCAnVElNRScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMWUzYThhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICB0aGlzLmVuZE1vZGFsU2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dChzY29yZUNhcmRDb250YWluZXIueCwgc3RhdHNZICsgNiwgJzAnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgdGhpcy5lbmRNb2RhbFRpbWVUZXh0ID0gdGhpcy5hZGQudGV4dCh0aW1lQ2FyZENvbnRhaW5lci54LCBzdGF0c1kgKyA2LCAnMDA6MDAnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgcmVzdGFydEJ1dHRvbiA9IHRoaXMuY3JlYXRlRW5kUmVzdGFydEJ1dHRvbigwLCBwYW5lbEhlaWdodCAvIDIgKyA1Nik7XG4gICAgICAgIHJlc3RhcnRCdXR0b24uc2V0RGVwdGgoMik7XG5cbiAgICAgICAgcGFuZWxDb250YWluZXIuYWRkKFtcbiAgICAgICAgICAgIHBhbmVsU2hhZG93LFxuICAgICAgICAgICAgcGFuZWxCZyxcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgc3VidGl0bGUsXG4gICAgICAgICAgICBzY29yZUNhcmRDb250YWluZXIsXG4gICAgICAgICAgICB0aW1lQ2FyZENvbnRhaW5lcixcbiAgICAgICAgICAgIHNjb3JlTGFiZWwsXG4gICAgICAgICAgICB0aW1lTGFiZWwsXG4gICAgICAgICAgICB0aGlzLmVuZE1vZGFsU2NvcmVUZXh0LFxuICAgICAgICAgICAgdGhpcy5lbmRNb2RhbFRpbWVUZXh0XG4gICAgICAgIF0pO1xuICAgICAgICBwYW5lbENvbnRhaW5lci5hZGQocmVzdGFydEJ1dHRvbik7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbb3ZlcmxheSwgYmxvY2tlciwgcGFuZWxDb250YWluZXJdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZW5kTW9kYWwgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuZW5kTW9kYWwuc2V0RGF0YSgncGFuZWwnLCBwYW5lbENvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuZW5kTW9kYWwuc2V0RGF0YSgnb3ZlcmxheScsIG92ZXJsYXkpO1xuICAgICAgICBpZiAodGhpcy51aVJvb3QpIHRoaXMudWlSb290LmFkZChjb250YWluZXIpO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGNyZWF0ZUVuZFJlc3RhcnRCdXR0b24oeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHkpLnNldFNjcm9sbEZhY3RvcigwKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAyNjA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDUyO1xuICAgICAgICBjb25zdCByYWRpdXMgPSAyMDtcblxuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBzaGFkb3cuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjIpO1xuICAgICAgICBzaGFkb3cuZmlsbFJvdW5kZWRSZWN0KC13aWR0aCAvIDIgKyA0LCAtaGVpZ2h0IC8gMiArIDYsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG5cbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBjb25zdCBkcmF3ID0gKGZpbGw6IG51bWJlciwgc3Ryb2tlOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGJnLmNsZWFyKCk7XG4gICAgICAgICAgICBiZy5maWxsU3R5bGUoZmlsbCwgMSk7XG4gICAgICAgICAgICBiZy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgICAgICBiZy5saW5lU3R5bGUoMiwgc3Ryb2tlLCAwLjgpO1xuICAgICAgICAgICAgYmcuc3Ryb2tlUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIH07XG4gICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcblxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnUGxheSBBZ2FpbicsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHhmZmZmZmYsIDAuMDAxKTtcbiAgICAgICAgaGl0LnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbc2hhZG93LCBiZywgdGV4dCwgaGl0XSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGhpdC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4MjU2M2ViLCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLjAyLCBkdXJhdGlvbjogMTIwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEsIGR1cmF0aW9uOiAxMjAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgxZDRlZDgsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDAuOTgsIGR1cmF0aW9uOiA4MCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgICAgICB0aGlzLnJlc3RhcnRSdW4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMS4wMiwgZHVyYXRpb246IDgwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVRpbWVVcE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyNDApO1xuXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuMTIpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAsIDApO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1pbig1MjAsIHdpZHRoIC0gODApO1xuICAgICAgICBjb25zdCBwYW5lbEhlaWdodCA9IDE2MDtcbiAgICAgICAgY29uc3QgcGFuZWxDb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuNTYpKS5zZXRTY3JvbGxGYWN0b3IoMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxTaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMTUpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyICsgNiwgLXBhbmVsSGVpZ2h0IC8gMiArIDEwLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjYpO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbEJnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC44NSk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcbiAgICAgICAgcGFuZWxCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNDUpO1xuICAgICAgICBwYW5lbEJnLnN0cm9rZVJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuYWRkLnRleHQoMCwgLTI2LCAnT3V0IG9mIHRpbWUhIEZhaWxlZCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCByZXN0YXJ0QnV0dG9uID0gdGhpcy5jcmVhdGVSZXN0YXJ0QnV0dG9uKDAsIDQyKTtcblxuICAgICAgICBwYW5lbENvbnRhaW5lci5hZGQoW3BhbmVsU2hhZG93LCBwYW5lbEJnLCB0aXRsZSwgcmVzdGFydEJ1dHRvbl0pO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQoW292ZXJsYXksIHBhbmVsQ29udGFpbmVyXSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsLnNldERhdGEoJ3BhbmVsJywgcGFuZWxDb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy51aVJvb3QpIHRoaXMudWlSb290LmFkZChjb250YWluZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUmVzdGFydEJ1dHRvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSkuc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgICAgICBjb25zdCB3aWR0aCA9IDI2MDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gNTI7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IDIwO1xuXG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMik7XG4gICAgICAgIHNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiArIDQsIC1oZWlnaHQgLyAyICsgNiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IGRyYXcgPSAoZmlsbDogbnVtYmVyLCBzdHJva2U6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgYmcuY2xlYXIoKTtcbiAgICAgICAgICAgIGJnLmZpbGxTdHlsZShmaWxsLCAxKTtcbiAgICAgICAgICAgIGJnLmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgICAgIGJnLmxpbmVTdHlsZSgyLCBzdHJva2UsIDAuOCk7XG4gICAgICAgICAgICBiZy5zdHJva2VSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdDb250aW51ZScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHhmZmZmZmYsIDAuMDAxKTtcbiAgICAgICAgaGl0LnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbc2hhZG93LCBiZywgdGV4dCwgaGl0XSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMS4wMiwgZHVyYXRpb246IDEyMCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4M2I4MmY2LCAweDkzYzVmZCk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLCBkdXJhdGlvbjogMTIwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4MWQ0ZWQ4LCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAwLjk4LCBkdXJhdGlvbjogODAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0UnVuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgyNTYzZWIsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDIsIGR1cmF0aW9uOiA4MCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdGFydEJ1dHRvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSkuc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgICAgICBjb25zdCB3aWR0aCA9IDI2MDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gNTI7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IDIwO1xuXG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMik7XG4gICAgICAgIHNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiArIDQsIC1oZWlnaHQgLyAyICsgNiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IGRyYXcgPSAoZmlsbDogbnVtYmVyLCBzdHJva2U6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgYmcuY2xlYXIoKTtcbiAgICAgICAgICAgIGJnLmZpbGxTdHlsZShmaWxsLCAxKTtcbiAgICAgICAgICAgIGJnLmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgICAgIGJnLmxpbmVTdHlsZSgyLCBzdHJva2UsIDAuOCk7XG4gICAgICAgICAgICBiZy5zdHJva2VSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuICAgICAgICAgICAgXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdTdGFydCBHYW1lJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJywgZm9udFNpemU6ICcyMHB4JywgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBoaXRQYWQgPSAxNjtcbiAgICAgICAgY29uc3QgaGl0VyA9IHdpZHRoICsgaGl0UGFkICogMjtcbiAgICAgICAgY29uc3QgaGl0SCA9IGhlaWdodCArIGhpdFBhZCAqIDI7XG4gICAgICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCBoaXRXLCBoaXRILCAweGZmZmZmZiwgMC4wMDEpO1xuICAgICAgICBoaXQuc2V0SW50ZXJhY3RpdmUoKTtcblxuICAgICAgICBjb250YWluZXIuYWRkKFtzaGFkb3csIGJnLCB0ZXh0LCBoaXRdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY29uc3Qgb25QcmVzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydE1vZGFsT3BlbikgcmV0dXJuO1xuICAgICAgICAgICAgZHJhdygweDFkNGVkOCwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZVN0YXJ0TW9kYWwoKTtcbiAgICAgICAgICAgIHRoaXMub3BlblF1aXpNb2RhbCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG9uUmVsZWFzZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcbiAgICAgICAgfTtcblxuICAgICAgICBoaXQub24oJ3BvaW50ZXJkb3duJywgb25QcmVzcyk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcnVwJywgb25SZWxlYXNlKTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyb3V0Jywgb25SZWxlYXNlKTtcblxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogY29udGFpbmVyLFxuICAgICAgICAgICAgc2NhbGU6IDEuMDUsXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwLFxuICAgICAgICAgICAgeW95bzogdHJ1ZSxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5TdGFydE1vZGFsKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldEFscGhhKDAuNCk7XG4gICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XG5cbiAgICAgICAgdGhpcy5zdGFydE1vZGFsLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbC5zZXRBbHBoYSgwKTtcblxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5zdGFydE1vZGFsLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTgwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xvc2VTdGFydE1vZGFsKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgxKTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFF1ZXN0aW9uKGRhdGE6IHsgaW5kZXg6IG51bWJlcjsgdG90YWw6IG51bWJlcjsgcXVlc3Rpb246IHN0cmluZzsgb3B0aW9uczogc3RyaW5nW10gfSk6IHZvaWQge1xuICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRGZWVkYmFjaygnaWRsZScpO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRRdWVzdGlvbihkYXRhKTtcbiAgICAgICAgdGhpcy5sYXlvdXRRdWl6KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXlvdXRRdWl6KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMucXVpelBhbmVsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5xdWl6UGFuZWwubGF5b3V0KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLnVpU2NhbGUgPSByZXN1bHQudWlTY2FsZTtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWxIZWlnaHQgPSByZXN1bHQucGFuZWxIZWlnaHQ7XG4gICAgICAgIHRoaXMucXVpelBhbmVsV2lkdGggPSByZXN1bHQucGFuZWxXaWR0aDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5RdWl6TW9kYWwoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVPdmVyKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmdhbWVDb21wbGV0ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmlzSnVtcGluZygpKSByZXR1cm47XG4gICAgICAgIHRoaXMucXVpek9wZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldEFscGhhKDAuNik7XG5cbiAgICAgICAgY29uc3QgcXVlc3Rpb25Qb29sID0gdGhpcy5nZXRRdWVzdGlvblBvb2woKTtcbiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSBxdWVzdGlvblBvb2xbdGhpcy5xdWl6Q3VycmVudEluZGV4ICUgcXVlc3Rpb25Qb29sLmxlbmd0aF07XG4gICAgICAgIHRoaXMuc2V0UXVlc3Rpb24oe1xuICAgICAgICAgICAgaW5kZXg6IHRoaXMucXVpekN1cnJlbnRJbmRleCArIDEsXG4gICAgICAgICAgICB0b3RhbDogcXVlc3Rpb25Qb29sLmxlbmd0aCxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbixcbiAgICAgICAgICAgIG9wdGlvbnM6IHF1ZXN0aW9uLm9wdGlvbnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5xdWl6TW9kYWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy5xdWl6TW9kYWwuc2V0QWxwaGEoMCk7XG4gICAgICAgIGNvbnN0IHBhbmVsID0gdGhpcy5xdWl6UGFuZWwucGFuZWxDb250YWluZXI7XG4gICAgICAgIHBhbmVsLnNldFNjYWxlKDAuOTYpO1xuICAgICAgICBwYW5lbC55ICs9IDE4O1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5xdWl6TW9kYWwsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxODBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBwYW5lbCxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgeTogcGFuZWwueSAtIDE4LFxuICAgICAgICAgICAgZHVyYXRpb246IDIyMCxcbiAgICAgICAgICAgIGVhc2U6ICdCYWNrLmVhc2VPdXQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xvc2VRdWl6TW9kYWwoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucXVpek9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgxKTtcbiAgICAgICAgdGhpcy5xdWl6TW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVRdWl6QW5zd2VyKGluZGV4OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgcXVlc3Rpb25Qb29sID0gdGhpcy5nZXRRdWVzdGlvblBvb2woKTtcbiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSBxdWVzdGlvblBvb2xbdGhpcy5xdWl6Q3VycmVudEluZGV4ICUgcXVlc3Rpb25Qb29sLmxlbmd0aF07XG4gICAgICAgIGxldCBpc0NvcnJlY3QgPSBpbmRleCA9PT0gcXVlc3Rpb24uY29ycmVjdEluZGV4O1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uSWQgPSBxdWVzdGlvbi5vcHRpb25JZHNbaW5kZXhdO1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uSWQgJiYgcXVlc3Rpb24uc2Vzc2lvblF1ZXN0aW9uSWQgJiYgc2VsZWN0ZWRPcHRpb25JZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN1Ym1pdEFuc3dlciB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi9zZXJ2aWNlcy9hcGknKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBzdWJtaXRBbnN3ZXIoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbi5zZXNzaW9uUXVlc3Rpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb25JZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaXNDb3JyZWN0ID0gcmVzLmRhdGEuaXNfY29ycmVjdDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc3VibWl0QW5zd2VyIGZhaWxlZCwgZmFsbGJhY2sgdG8gbG9jYWwgY2hlY2snLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidG4gPSB0aGlzLnF1aXpPcHRpb25CdXR0b25zW2luZGV4XTtcbiAgICAgICAgY29uc3QgcmVkcmF3ID0gYnRuLmdldERhdGEoJ3JlZHJhdycpIGFzIChzdGF0ZTogJ25vcm1hbCcgfCAnY29ycmVjdCcgfCAnd3JvbmcnKSA9PiB2b2lkO1xuXG4gICAgICAgIGlmIChpc0NvcnJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMucXVpekxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICByZWRyYXcoJ2NvcnJlY3QnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UXVpekZlZWRiYWNrKCdjb3JyZWN0Jyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKDEpO1xuICAgICAgICAgICAgdGhpcy5zcGVlZFVwSnVtcCgpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5kZWxheSg0MDApO1xuICAgICAgICAgICAgdGhpcy5jbG9zZVF1aXpNb2RhbCgpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVKdW1wKCk7XG4gICAgICAgICAgICB0aGlzLnF1aXpDdXJyZW50SW5kZXggKz0gMTtcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyNTAsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5RdWl6TW9kYWwoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlZHJhdygnd3JvbmcnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UXVpekZlZWRiYWNrKCd3cm9uZycpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTY29yZSgtMSk7XG4gICAgICAgICAgICB0aGlzLnNob3dQbGF5ZXJTdGF0ZSgnaW5jb3JyZWN0Jyk7XG4gICAgICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMucXVpelBhbmVsLnBhbmVsQ29udGFpbmVyO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRYID0gcGFuZWwueDtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0czogcGFuZWwsXG4gICAgICAgICAgICAgICAgeDogc3RhcnRYICsgMTAsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDYwLFxuICAgICAgICAgICAgICAgIHlveW86IHRydWUsXG4gICAgICAgICAgICAgICAgcmVwZWF0OiAzLFxuICAgICAgICAgICAgICAgIGVhc2U6ICdTaW5lLmVhc2VJbk91dCcsXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwYW5lbC54ID0gc3RhcnRYO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmVkcmF3KCdub3JtYWwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UXVlc3Rpb25Qb29sKCkge1xuICAgICAgICBjb25zdCBhcGlRdWVzdGlvbnMgPSB0aGlzLnNlc3Npb25RdWVzdGlvbnM7XG4gICAgICAgIGlmIChhcGlRdWVzdGlvbnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnF1ZXN0aW9uU291cmNlTG9nZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWVzdGlvblNvdXJjZUxvZ2dlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tHQU1FXVtUT1dOXSBVc2luZyBzZXNzaW9uIHF1ZXN0aW9ucycsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUNvZGU6IHRoaXMuZ2FtZUNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBhcGlRdWVzdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBzYW1wbGU6IGFwaVF1ZXN0aW9uc1swXT8ucXVlc3Rpb24/LmNvbnRlbnQgPz8gbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFwaVF1ZXN0aW9ucy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gaXRlbS5xdWVzdGlvbi5vcHRpb25zLm1hcCgob3B0KSA9PiBvcHQudGV4dCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uSWRzID0gaXRlbS5xdWVzdGlvbi5vcHRpb25zLm1hcCgob3B0KSA9PiBvcHQuaWQgPz8gJycpO1xuICAgICAgICAgICAgICAgIGxldCBjb3JyZWN0SW5kZXggPSBpdGVtLnF1ZXN0aW9uLm9wdGlvbnMuZmluZEluZGV4KChvcHQpID0+IG9wdC5pc19jb3JyZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29ycmVjdEluZGV4IDwgMCkgY29ycmVjdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uUXVlc3Rpb25JZDogaXRlbS5zZXNzaW9uX3F1ZXN0aW9uX2lkID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uOiBpdGVtLnF1ZXN0aW9uLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbklkcyxcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdEluZGV4XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnF1ZXN0aW9uU291cmNlTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXN0aW9uU291cmNlTG9nZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0dBTUVdW1RPV05dIFVzaW5nIGZhbGxiYWNrIGxvY2FsIHF1ZXN0aW9ucycsIHtcbiAgICAgICAgICAgICAgICBnYW1lQ29kZTogdGhpcy5nYW1lQ29kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uUXVlc3Rpb25JZDogbnVsbCxcbiAgICAgICAgICAgICAgICBxdWVzdGlvbjogJ1doYXQgaXMgdGhlIGNhcGl0YWwgb2YgVmlldG5hbT8nLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFsnSGFub2knLCAnRGEgTmFuZycsICdIYWkgUGhvbmcnLCAnQ2FuIFRobyddLFxuICAgICAgICAgICAgICAgIG9wdGlvbklkczogWycnLCAnJywgJycsICcnXSxcbiAgICAgICAgICAgICAgICBjb3JyZWN0SW5kZXg6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblF1ZXN0aW9uSWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgcXVlc3Rpb246ICdXaGljaCBsYW5ndWFnZSBkb2VzIFBoYXNlciB1c2U/JyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbJ1R5cGVTY3JpcHQvSmF2YVNjcmlwdCcsICdDIycsICdQeXRob24nLCAnR28nXSxcbiAgICAgICAgICAgICAgICBvcHRpb25JZHM6IFsnJywgJycsICcnLCAnJ10sXG4gICAgICAgICAgICAgICAgY29ycmVjdEluZGV4OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlc3Npb25RdWVzdGlvbklkOiBudWxsLFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uOiAnV2hhdCBjb2xvciBhcmUgdGhlIGxlYXZlcyBpbiB0aGUgZ2FtZT8nLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFsnR3JlZW4nLCAnUmVkJywgJ1B1cnBsZScsICdZZWxsb3cnXSxcbiAgICAgICAgICAgICAgICBvcHRpb25JZHM6IFsnJywgJycsICcnLCAnJ10sXG4gICAgICAgICAgICAgICAgY29ycmVjdEluZGV4OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlSnVtcCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmlzSnVtcGluZygpKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmdhbWVPdmVyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gdGhpcy5jdXJyZW50TGVhZkluZGV4ICsgMTtcbiAgICAgICAgY29uc3QgbWF4SW5kZXggPSB0aGlzLmxlYWZQYXRoLmxlbmd0aCA+IDAgPyB0aGlzLmxlYWZQYXRoLmxlbmd0aCAtIDEgOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgaWYgKHRoaXMubGVhZlBhdGgubGVuZ3RoID4gMCAmJiBuZXh0SW5kZXggPiBtYXhJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldFBvcyA9IHRoaXMuZ2V0TGVhZlBvc2l0aW9uKG5leHRJbmRleCk7XG5cbiAgICAgICAgLy8gU3RvcCBpZGxlIGFuaW1hdGlvbiBkdXJpbmcganVtcFxuICAgICAgICB0aGlzLnBsYXllci5zdG9wSWRsZSgpO1xuXG4gICAgICAgIC8vIFNjcm9sbCBDYW1lcmFcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhLFxuICAgICAgICAgICAgc2Nyb2xsWTogdGFyZ2V0UG9zLnkgLSA4MDAsXG4gICAgICAgICAgICBkdXJhdGlvbjogNjAwLFxuICAgICAgICAgICAgZWFzZTogJ1NpbmUuZWFzZUluT3V0J1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQZXJmb3JtIGp1bXAgdXNpbmcgRW1vdGVDaGFyYWN0ZXJcbiAgICAgICAgYXdhaXQgdGhpcy5wbGF5ZXIuanVtcFRvKHRhcmdldFBvcy54LCB0YXJnZXRQb3MueSwgdGhpcy5qdW1wRHVyYXRpb25Ncyk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGFmdGVyIGp1bXAgY29tcGxldGVzXG4gICAgICAgIHRoaXMuY3VycmVudExlYWZJbmRleCA9IG5leHRJbmRleDtcblxuICAgICAgICBjb25zdCBuZXh0UG9zID0gdGhpcy5nZXRMZWFmUG9zaXRpb24odGhpcy5jdXJyZW50TGVhZkluZGV4ICsgMSk7XG4gICAgICAgIHRoaXMucGxheWVyLmZsaXAobmV4dFBvcy54ID4gdGFyZ2V0UG9zLngpO1xuXG4gICAgICAgIC8vIFNob3cgY29ycmVjdCBzdGF0ZSBvbiBuZXcgbGVhZiwgdGhlbiByZXN1bWUgaWRsZVxuICAgICAgICB0aGlzLnBsYXllci5zaG93Q29ycmVjdCg4MDApO1xuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoODAwLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5wbGF5SWRsZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5sZWFmUGF0aC5sZW5ndGggPiAwICYmIHRoaXMuY3VycmVudExlYWZJbmRleCA+PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgdGhpcy5nYW1lQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgwLjQpO1xuICAgICAgICAgICAgdGhpcy5xdWl6T3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xuICAgICAgICAgICAgdGhpcy50aW1lck92ZXJsYXkuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICBpZiAodGhpcy50b3RhbFRpbWVNcyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVFbmRUaW1lVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbkVuZE1vZGFsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhcnRUaW1lcigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudGltZXJFdmVudCkge1xuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnJlbW92ZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRvdGFsVGltZU1zID0gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICYmIHRoaXMuc2Vzc2lvblRpbWVMaW1pdCA+IDBcbiAgICAgICAgICAgID8gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICogMTAwMFxuICAgICAgICAgICAgOiAxODAwMDA7XG4gICAgICAgIHRoaXMudXBkYXRlVGltZXJUZXh0KHRoaXMudG90YWxUaW1lTXMpO1xuXG4gICAgICAgIHRoaXMudGltZXJFdmVudCA9IHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheTogMTAwMCxcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVDb21wbGV0ZWQgfHwgdGhpcy5nYW1lT3ZlcikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMudG90YWxUaW1lTXMgLT0gMTAwMDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyVGV4dCh0aGlzLnRvdGFsVGltZU1zKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b3RhbFRpbWVNcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxUaW1lTXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyVGV4dCh0aGlzLnRvdGFsVGltZU1zKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVUaW1lVXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RvcFRpbWVyKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy50aW1lckV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucmVtb3ZlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVGltZXJUZXh0KG1zOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdG90YWxTZWNvbmRzID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihtcyAvIDEwMDApKTtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApO1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjA7XG4gICAgICAgIGNvbnN0IHBhZCA9IChuOiBudW1iZXIpID0+IChuIDwgMTAgPyBgMCR7bn1gIDogYCR7bn1gKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGAke21pbnV0ZXN9bSAke3BhZChzZWNvbmRzKX1zYDtcbiAgICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dCh0ZXh0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVRpbWVVcCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU92ZXIgfHwgdGhpcy5nYW1lQ29tcGxldGVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnF1aXpPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0QWxwaGEoMC40KTtcbiAgICAgICAgdGhpcy5jbG9zZVF1aXpNb2RhbCgpO1xuICAgICAgICB0aGlzLm9wZW5UaW1lVXBNb2RhbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlbkVuZE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW5kTW9kYWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLmVuZE1vZGFsLmdldERhdGEoJ3BhbmVsJykgYXMgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuZW5kTW9kYWwuZ2V0RGF0YSgnb3ZlcmxheScpIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIHBhbmVsLnNldFNjYWxlKDAuOSk7XG4gICAgICAgIGlmIChvdmVybGF5KSBvdmVybGF5LnNldEFscGhhKDApO1xuICAgICAgICB0aGlzLmVuZE1vZGFsLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuZW5kTW9kYWwuc2V0QWxwaGEoMSk7XG4gICAgICAgIHRoaXMubGF1bmNoQ29uZmV0dGkoKTtcbiAgICAgICAgdGhpcy5zdWJtaXRTZXNzaW9uUmVzdWx0KCk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBvdmVybGF5LFxuICAgICAgICAgICAgYWxwaGE6IDAuNixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBwYW5lbCxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IDI2MCxcbiAgICAgICAgICAgIGVhc2U6ICdCYWNrLmVhc2VPdXQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGF1bmNoQ29uZmV0dGkoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZldHRpRW1pdHRlcikge1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZldHRpQnVyc3RFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQucmVtb3ZlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlciA9IHRoaXMuYWRkLnBhcnRpY2xlcygwLCAwLCAndGlsZS1mbG93ZXInLCB7XG4gICAgICAgICAgICBzcGVlZDogeyBtaW46IDkwLCBtYXg6IDE3MCB9LFxuICAgICAgICAgICAgYW5nbGU6IHsgbWluOiAwLCBtYXg6IDM2MCB9LFxuICAgICAgICAgICAgcm90YXRlOiB7IG1pbjogLTIyMCwgbWF4OiAyMjAgfSxcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiAwLjMyLCBlbmQ6IDAuMSB9LFxuICAgICAgICAgICAgbGlmZXNwYW46IHsgbWluOiAxNDAwLCBtYXg6IDIyMDAgfSxcbiAgICAgICAgICAgIHF1YW50aXR5OiAwLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiAtMSxcbiAgICAgICAgICAgIGdyYXZpdHlZOiAxNjBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIuc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlci5zZXREZXB0aCgyMTAwKTtcbiAgICAgICAgdGhpcy51aVJvb3QuYWRkKHRoaXMuY29uZmV0dGlFbWl0dGVyKTtcblxuICAgICAgICB0aGlzLmNvbmZldHRpQnVyc3RFdmVudCA9IHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheTogOTAwLFxuICAgICAgICAgICAgcmVwZWF0OiAwLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29uZmV0dGlFbWl0dGVyKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIuZXhwbG9kZSgxOCwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDM1MDAsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyPy5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50Py5yZW1vdmUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlblRpbWVVcE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMudGltZVVwTW9kYWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLnRpbWVVcE1vZGFsLmdldERhdGEoJ3BhbmVsJykgYXMgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICAgICAgcGFuZWwuc2V0U2NhbGUoMC45Nik7XG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbC5zZXRBbHBoYSgwKTtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMudGltZVVwTW9kYWwsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBwYW5lbCxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IDI0MCxcbiAgICAgICAgICAgIGVhc2U6ICdCYWNrLmVhc2VPdXQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xvc2VUaW1lVXBNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpbWVVcE1vZGFsKSByZXR1cm47XG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbG9zZUVuZE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW5kTW9kYWwpIHJldHVybjtcbiAgICAgICAgdGhpcy5lbmRNb2RhbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5lbmRNb2RhbC5zZXRBbHBoYSgwKTtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuZW5kTW9kYWwuZ2V0RGF0YSgnb3ZlcmxheScpIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChvdmVybGF5KSBvdmVybGF5LnNldEFscGhhKDApO1xuICAgICAgICBpZiAodGhpcy5jb25mZXR0aUVtaXR0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZldHRpQnVyc3RFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQucmVtb3ZlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdWJtaXRTZXNzaW9uUmVzdWx0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbkdhbWVJZCkgcmV0dXJuO1xuICAgICAgICBpbXBvcnQoJy4uLy4uL3NlcnZpY2VzL2FwaScpXG4gICAgICAgICAgICAudGhlbigoeyBlbmRHYW1lU2Vzc2lvbiB9KSA9PiBlbmRHYW1lU2Vzc2lvbih0aGlzLnNlc3Npb25HYW1lSWQgYXMgc3RyaW5nLCB0aGlzLnNjb3JlKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZW5kR2FtZVNlc3Npb24gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzdGFydFJ1bigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5nYW1lT3ZlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdhbWVDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6T3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6Q3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjb3JlID0gMDtcbiAgICAgICAgdGhpcy5zY29yZVRleHQuc2V0VGV4dCgnUE9JTlRTOiAwMCcpO1xuICAgICAgICB0aGlzLmp1bXBEdXJhdGlvbk1zID0gOTAwO1xuXG4gICAgICAgIHRoaXMuY2xvc2VUaW1lVXBNb2RhbCgpO1xuICAgICAgICB0aGlzLmNsb3NlUXVpek1vZGFsKCk7XG4gICAgICAgIHRoaXMuY2xvc2VFbmRNb2RhbCgpO1xuICAgICAgICBpZiAodGhpcy5zdGFydE1vZGFsKSB0aGlzLnN0YXJ0TW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRQb3MgPSB0aGlzLmdldExlYWZQb3NpdGlvbigwKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0UG9zaXRpb24oc3RhcnRQb3MueCwgc3RhcnRQb3MueSk7XG4gICAgICAgIHRoaXMucGxheWVyLnBsYXlJZGxlKCk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50TGVhZkluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgbmV4dFBvcyA9IHRoaXMuZ2V0TGVhZlBvc2l0aW9uKHRoaXMuY3VycmVudExlYWZJbmRleCArIDEpO1xuICAgICAgICB0aGlzLnBsYXllci5mbGlwKG5leHRQb3MueCA+IHN0YXJ0UG9zLngpO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhLnNjcm9sbFkgPSBzdGFydFBvcy55IC0gOTAwO1xuXG4gICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XG4gICAgICAgIHRoaXMudGltZXJPdmVybGF5LnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgxKTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XG4gICAgICAgIHRoaXMub3BlblF1aXpNb2RhbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlU2NvcmUoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnNjb3JlICs9IGRlbHRhO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBNYXRoLm1heCgwLCB0aGlzLnNjb3JlKTtcbiAgICAgICAgdGhpcy5zY29yZVRleHQuc2V0VGV4dChgUE9JTlRTOiAke3BvaW50cy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YCk7XG4gICAgICAgIGlmICh0aGlzLmVuZE1vZGFsU2NvcmVUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmVuZE1vZGFsU2NvcmVUZXh0LnNldFRleHQoYFNjb3JlOiAke3RoaXMuc2NvcmV9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUVuZFRpbWVUZXh0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW5kTW9kYWxUaW1lVGV4dCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBiYXNlTXMgPSB0aGlzLnNlc3Npb25UaW1lTGltaXQgJiYgdGhpcy5zZXNzaW9uVGltZUxpbWl0ID4gMFxuICAgICAgICAgICAgPyB0aGlzLnNlc3Npb25UaW1lTGltaXQgKiAxMDAwXG4gICAgICAgICAgICA6IDE4MDAwMDtcbiAgICAgICAgY29uc3QgZWxhcHNlZE1zID0gYmFzZU1zIC0gdGhpcy50b3RhbFRpbWVNcztcbiAgICAgICAgY29uc3QgdG90YWxTZWNvbmRzID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihlbGFwc2VkTXMgLyAxMDAwKSk7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHRvdGFsU2Vjb25kcyAlIDYwO1xuICAgICAgICBjb25zdCBwYWQgPSAobjogbnVtYmVyKSA9PiAobiA8IDEwID8gYDAke259YCA6IGAke259YCk7XG4gICAgICAgIHRoaXMuZW5kTW9kYWxUaW1lVGV4dC5zZXRUZXh0KGBUaW1lOiAke3BhZChtaW51dGVzKX06JHtwYWQoc2Vjb25kcyl9YCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcGVlZFVwSnVtcCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5qdW1wRHVyYXRpb25NcyA9IE1hdGgubWF4KDQ1MCwgdGhpcy5qdW1wRHVyYXRpb25NcyAtIDQwKTtcbiAgICB9XG5cbiAgICBnZXRMZWFmUG9zaXRpb24oaW5kZXg6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5sZWFmUGF0aC5sZW5ndGggPiAwICYmIHRoaXMudHJhY2tJbWFnZSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aExlbmd0aCA9IHRoaXMubGVhZlBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgcGF0aEluZGV4ID0gTWF0aC5taW4oaW5kZXgsIHBhdGhMZW5ndGggLSAxKTtcblxuICAgICAgICAgICAgY29uc3QgbGVhZiA9IHRoaXMubGVhZlBhdGhbcGF0aEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy50cmFja0ltYWdlLnNjYWxlWDtcbiAgICAgICAgICAgIGNvbnN0IG1hcExlZnQgPSB0aGlzLnRyYWNrSW1hZ2UueCAtIHRoaXMudHJhY2tJbWFnZS5kaXNwbGF5V2lkdGggLyAyO1xuICAgICAgICAgICAgY29uc3QgbWFwVG9wID0gdGhpcy50cmFja0ltYWdlLnkgLSB0aGlzLnRyYWNrSW1hZ2UuZGlzcGxheUhlaWdodDtcblxuICAgICAgICAgICAgY29uc3QgeCA9IG1hcExlZnQgKyAobGVhZi54ICogc2NhbGUpO1xuICAgICAgICAgICAgY29uc3QgeSA9IG1hcFRvcCArIChsZWFmLnkgKiBzY2FsZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB0aGlzLnNjYWxlLndpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgaXNMZWZ0ID0gaW5kZXggJSAyID09PSAwO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRqYWNlbnQgbGVhZiA9IGFsdGVybmF0ZSBsZWZ0L3JpZ2h0IHdpdGggYSBzbWFsbCB1cHdhcmQgc3RlcFxuICAgICAgICBjb25zdCB5ID0gdGhpcy5sZWFmU3RhcnRZIC0gKGluZGV4ICogdGhpcy5sZWFmU3RlcFkpO1xuICAgICAgICBjb25zdCB4ID0gaXNMZWZ0ID8gY2VudGVyWCAtIHRoaXMubGVhZlNpZGVPZmZzZXQgOiBjZW50ZXJYICsgdGhpcy5sZWFmU2lkZU9mZnNldDtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkTGVhZlBhdGgodGV4dHVyZUtleTogc3RyaW5nKTogUGhhc2VyLk1hdGguVmVjdG9yMltdIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMudGV4dHVyZXMuZ2V0KHRleHR1cmVLZXkpO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0ZXh0dXJlPy5nZXRTb3VyY2VJbWFnZSgpIGFzIEhUTUxJbWFnZUVsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoIXNvdXJjZSB8fCAhc291cmNlLndpZHRoIHx8ICFzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLnN5cy5nYW1lLmNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSBzb3VyY2Uud2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBzb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIWN0eCkgcmV0dXJuIFtdO1xuXG4gICAgICAgIGN0eC5kcmF3SW1hZ2Uoc291cmNlLCAwLCAwKTtcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuICAgICAgICBjb25zdCBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSBzb3VyY2Uud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHNvdXJjZS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHZpc2l0ZWQgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCk7XG4gICAgICAgIGNvbnN0IGNlbnRlcnM6IFBoYXNlci5NYXRoLlZlY3RvcjJbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGlzTGVhZlBpeGVsID0gKGlkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gZGF0YVtpZHhdIC8gMjU1O1xuICAgICAgICAgICAgY29uc3QgZyA9IGRhdGFbaWR4ICsgMV0gLyAyNTU7XG4gICAgICAgICAgICBjb25zdCBiID0gZGF0YVtpZHggKyAyXSAvIDI1NTtcblxuICAgICAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gbWF4IC0gbWluO1xuXG4gICAgICAgICAgICBpZiAoZGVsdGEgPT09IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgbGV0IGh1ZSA9IDA7XG4gICAgICAgICAgICBpZiAobWF4ID09PSByKSB7XG4gICAgICAgICAgICAgICAgaHVlID0gKChnIC0gYikgLyBkZWx0YSkgJSA2O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXggPT09IGcpIHtcbiAgICAgICAgICAgICAgICBodWUgPSAoYiAtIHIpIC8gZGVsdGEgKyAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBodWUgPSAociAtIGcpIC8gZGVsdGEgKyA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHVlID0gTWF0aC5yb3VuZChodWUgKiA2MCk7XG4gICAgICAgICAgICBpZiAoaHVlIDwgMCkgaHVlICs9IDM2MDtcblxuICAgICAgICAgICAgY29uc3Qgc2F0dXJhdGlvbiA9IG1heCA9PT0gMCA/IDAgOiBkZWx0YSAvIG1heDtcblxuICAgICAgICAgICAgY29uc3QgaXNHcmVlbkh1ZSA9IGh1ZSA+PSA3MCAmJiBodWUgPD0gMTUwO1xuICAgICAgICAgICAgY29uc3QgaXNTYXR1cmF0ZWQgPSBzYXR1cmF0aW9uID49IDAuMzU7XG5cbiAgICAgICAgICAgIHJldHVybiBpc0dyZWVuSHVlICYmIGlzU2F0dXJhdGVkO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG1pbkJsb2JTaXplID0gNDUwMDtcbiAgICAgICAgY29uc3Qgc3RhY2s6IG51bWJlcltdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB5ICogd2lkdGggKyB4O1xuICAgICAgICAgICAgICAgIGlmICh2aXNpdGVkW2luZGV4XSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSW5kZXggPSBpbmRleCAqIDQ7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0xlYWZQaXhlbChkYXRhSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbaW5kZXhdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHN1bVggPSAwO1xuICAgICAgICAgICAgICAgIGxldCBzdW1ZID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBtaW5YID0geDtcbiAgICAgICAgICAgICAgICBsZXQgbWF4WCA9IHg7XG4gICAgICAgICAgICAgICAgbGV0IG1pblkgPSB5O1xuICAgICAgICAgICAgICAgIGxldCBtYXhZID0geTtcblxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgIHZpc2l0ZWRbaW5kZXhdID0gMTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHN0YWNrLnBvcCgpIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3kgPSBNYXRoLmZsb29yKGN1cnJlbnQgLyB3aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN4ID0gY3VycmVudCAtIChjeSAqIHdpZHRoKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0YUluZGV4ID0gY3VycmVudCAqIDQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNMZWFmUGl4ZWwoY3VycmVudERhdGFJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc3VtWCArPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgc3VtWSArPSBjeTtcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN4IDwgbWluWCkgbWluWCA9IGN4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3ggPiBtYXhYKSBtYXhYID0gY3g7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjeSA8IG1pblkpIG1pblkgPSBjeTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN5ID4gbWF4WSkgbWF4WSA9IGN5O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBjdXJyZW50IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZFtsZWZ0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRJbmRleCA9IGxlZnQgKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xlYWZQaXhlbChsZWZ0SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbbGVmdF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGxlZnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbbGVmdF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCA8IHdpZHRoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBjdXJyZW50ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZFtyaWdodF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByaWdodEluZGV4ID0gcmlnaHQgKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xlYWZQaXhlbChyaWdodEluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW3JpZ2h0XSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbcmlnaHRdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3kgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cCA9IGN1cnJlbnQgLSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZFt1cF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cEluZGV4ID0gdXAgKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xlYWZQaXhlbCh1cEluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW3VwXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbdXBdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3kgPCBoZWlnaHQgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3duID0gY3VycmVudCArIHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpdGVkW2Rvd25dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG93bkluZGV4ID0gZG93biAqIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGVhZlBpeGVsKGRvd25JbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtkb3duXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goZG93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtkb3duXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID49IG1pbkJsb2JTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2JXaWR0aCA9IG1heFggLSBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iSGVpZ2h0ID0gbWF4WSAtIG1pblk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzcGVjdCA9IGJsb2JXaWR0aCAvIChibG9iSGVpZ2h0IHx8IDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9iV2lkdGggPj0gOTAgJiYgYmxvYkhlaWdodCA+PSA5MCAmJiBhc3BlY3QgPiAwLjYgJiYgYXNwZWN0IDwgMS43KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJzLnB1c2gobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoc3VtWCAvIGNvdW50LCBzdW1ZIC8gY291bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNlbnRlcnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZHkgPSBiLnkgLSBhLnk7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHkpID4gMikgcmV0dXJuIGR5O1xuICAgICAgICAgICAgcmV0dXJuIGEueCAtIGIueDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNlbnRlcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyBwbGF5ZXIgc3RhdGUgLSBjb3JyZWN0IG9yIGluY29ycmVjdFxuICAgICAqL1xuICAgIHNob3dQbGF5ZXJTdGF0ZShzdGF0ZTogJ2NvcnJlY3QnIHwgJ2luY29ycmVjdCcpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSAnY29ycmVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNob3dDb3JyZWN0KDgwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5zaG93SW5jb3JyZWN0KDgwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFF1aXpGZWVkYmFjayhzdGF0ZTogJ2lkbGUnIHwgJ2NvcnJlY3QnIHwgJ3dyb25nJyk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMucXVpelBhbmVsKSByZXR1cm47XG4gICAgICAgIHRoaXMucXVpelBhbmVsLnNldEZlZWRiYWNrKHN0YXRlKTtcbiAgICAgICAgdGhpcy5xdWl6RmVlZGJhY2tTdGF0ZSA9IHN0YXRlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVsYXkobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChtcywgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkV2ZW50QnVzIiwiU2NlbmUiLCJFbW90ZUNoYXJhY3RlciIsImdldEdhbWVDb25maWciLCJyZXNvbHZlR2FtZUNvZGUiLCJRdWl6UGFuZWwiLCJHYW1lIiwiaW5pdCIsImRhdGEiLCJnYW1lQ29kZSIsInJlZ2lzdHJ5IiwiZ2V0Iiwic2V0IiwiZ2FtZUNvbmZpZyIsInNlc3Npb25JZCIsInNlc3Npb25HYW1lSWQiLCJnYW1lSWQiLCJzZXNzaW9uUXVlc3Rpb25zIiwicXVlc3Rpb25zIiwic2Vzc2lvblRpbWVMaW1pdCIsInRpbWVMaW1pdCIsImNyZWF0ZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2NhbGUiLCJjYW1lcmEiLCJjYW1lcmFzIiwibWFpbiIsImNyZWF0ZVBhcmFsbGF4QmFja2dyb3VuZCIsInRyYWNrSW1hZ2UiLCJhZGQiLCJpbWFnZSIsIm1hcEtleSIsInNldE9yaWdpbiIsInRyYWNrU2NhbGUiLCJzZXRTY2FsZSIsIm1hcFRvcCIsInkiLCJkaXNwbGF5SGVpZ2h0Iiwic2V0Qm91bmRzIiwibGVhZlBhdGgiLCJ1c2VUZXh0dXJlUGF0aCIsImJ1aWxkTGVhZlBhdGgiLCJzdGFydFBvcyIsImdldExlYWZQb3NpdGlvbiIsInBsYXllciIsIngiLCJjdXJyZW50TGVhZkluZGV4IiwibmV4dFBvcyIsImZsaXAiLCJwbGF5SWRsZSIsInNjcm9sbFkiLCJ1aUNhbWVyYSIsInNldFNjcm9sbCIsImlnbm9yZSIsImNoaWxkcmVuIiwibGlzdCIsImNyZWF0ZVVJIiwidG90YWxUaW1lTXMiLCJlbWl0Iiwic2V0QmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwicGFyYWxsYXhMYXllcnMiLCJ1cGRhdGUiLCJsZW5ndGgiLCJmb3JFYWNoIiwibGF5ZXIiLCJmYWN0b3IiLCJnZXREYXRhIiwiYmFzZVkiLCJ1aVJvb3QiLCJjb250YWluZXIiLCJzZXRTY3JvbGxGYWN0b3IiLCJzZXREZXB0aCIsInRpbWVyT3ZlcmxheSIsImh1ZEJhY2tCdXR0b24iLCJiYWNrQmciLCJncmFwaGljcyIsImZpbGxTdHlsZSIsImZpbGxSb3VuZGVkUmVjdCIsImxpbmVTdHlsZSIsInN0cm9rZVJvdW5kZWRSZWN0IiwiYmFja0ljb24iLCJ0ZXh0IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiY29sb3IiLCJiYWNrSGl0Iiwiem9uZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsIm9uIiwiaGFuZGxlQmFja1RvR2FtZUxpc3QiLCJzZXRTaXplIiwiaHVkUG9pbnRzUGlsbCIsInBvaW50c0JnIiwicG9pbnRzVyIsInBvaW50c0giLCJzdGFyIiwic2V0VGludCIsInNjb3JlVGV4dCIsImh1ZFRpbWVyUGlsbCIsInRpbWVyQmciLCJ0aW1lclciLCJ0aW1lckgiLCJ0aW1lclRleHQiLCJodWRIZWFydHNQaWxsIiwiaGVhcnRzQmciLCJoZWFydHNXIiwiaGVhcnRzSCIsImhlYXJ0c1RleHQiLCJsYXlvdXRIdWQiLCJqdW1wQnV0dG9uIiwiY3JlYXRlSnVtcEJ1dHRvbiIsInNldFZpc2libGUiLCJzZXRBY3RpdmUiLCJzZXR1cEp1bXBJbnB1dCIsImNyZWF0ZVF1aXpNb2RhbCIsInF1aXpNb2RhbCIsImxheW91dFF1aXoiLCJjcmVhdGVTdGFydE1vZGFsIiwib3BlblN0YXJ0TW9kYWwiLCJjcmVhdGVFbmRNb2RhbCIsImNyZWF0ZVRpbWVVcE1vZGFsIiwidG9wSW5zZXQiLCJNYXRoIiwibWF4Iiwicm91bmQiLCJzaWRlSW5zZXQiLCJnYXAiLCJzZXRQb3NpdGlvbiIsInJpZ2h0RWRnZSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImJnIiwicmVjdGFuZ2xlIiwic2V0U3Ryb2tlU3R5bGUiLCJzZXRGaWxsU3R5bGUiLCJqdW1wQnV0dG9uQmciLCJvblByZXNzIiwicXVpek9wZW4iLCJzdGFydE1vZGFsT3BlbiIsIm9wZW5RdWl6TW9kYWwiLCJvblJlbGVhc2UiLCJQaGFzZXIiLCJHZW9tIiwiUmVjdGFuZ2xlIiwiQ29udGFpbnMiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiZHVyYXRpb24iLCJ5b3lvIiwicmVwZWF0IiwiaW5wdXQiLCJlbmFibGVkIiwibW91c2UiLCJwb2ludGVyIiwiYm91bmRzIiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJxdWl6UGFuZWwiLCJvcHRpb25Db3VudCIsImRlcHRoIiwicGFyZW50Iiwic2hvd0luZGV4IiwicXVpelBhbmVsQ29udGFpbmVyIiwicGFuZWxDb250YWluZXIiLCJxdWl6UGFuZWxTaGFkb3ciLCJwYW5lbFNoYWRvdyIsInF1aXpQYW5lbEJnIiwicGFuZWxCZyIsInF1aXpQYW5lbEdsb3ciLCJwYW5lbEdsb3ciLCJxdWl6SW5kZXhUZXh0IiwiaW5kZXhUZXh0IiwicXVpekZlZWRiYWNrVGl0bGVUZXh0IiwiZmVlZGJhY2tUaXRsZVRleHQiLCJxdWl6RmVlZGJhY2tTdWJ0aXRsZVRleHQiLCJmZWVkYmFja1N1YnRpdGxlVGV4dCIsInF1aXpRdWVzdGlvblRleHQiLCJxdWVzdGlvblRleHQiLCJxdWl6T3B0aW9uQnV0dG9ucyIsIm9wdGlvbkJ1dHRvbnMiLCJvbk9wdGlvblNlbGVjdGVkIiwiaW5kZXgiLCJxdWl6TG9ja2VkIiwiaGFuZGxlUXVpekFuc3dlciIsIm92ZXJsYXkiLCJwYW5lbFdpZHRoIiwibWluIiwicGFuZWxIZWlnaHQiLCJ0aXRsZSIsImFsaWduIiwid29yZFdyYXAiLCJ1c2VBZHZhbmNlZFdyYXAiLCJidXR0b24iLCJjcmVhdGVTdGFydEJ1dHRvbiIsInN0YXJ0TW9kYWwiLCJibG9ja2VyIiwic2hhcGUiLCJwYW5lbEJvdW5kcyIsInN1YnRpdGxlIiwic3RhdHNHYXAiLCJjYXJkV2lkdGgiLCJmbG9vciIsImNhcmRIZWlnaHQiLCJzdGF0c1kiLCJzY29yZUNhcmQiLCJ0aW1lQ2FyZCIsInNjb3JlQ2FyZENvbnRhaW5lciIsInRpbWVDYXJkQ29udGFpbmVyIiwic2NvcmVMYWJlbCIsInRpbWVMYWJlbCIsImVuZE1vZGFsU2NvcmVUZXh0IiwiZW5kTW9kYWxUaW1lVGV4dCIsInJlc3RhcnRCdXR0b24iLCJjcmVhdGVFbmRSZXN0YXJ0QnV0dG9uIiwiZW5kTW9kYWwiLCJzZXREYXRhIiwicmFkaXVzIiwic2hhZG93IiwiZHJhdyIsImZpbGwiLCJzdHJva2UiLCJjbGVhciIsImhpdCIsImVhc2UiLCJyZXN0YXJ0UnVuIiwiY3JlYXRlUmVzdGFydEJ1dHRvbiIsInRpbWVVcE1vZGFsIiwiaGl0UGFkIiwiaGl0VyIsImhpdEgiLCJjbG9zZVN0YXJ0TW9kYWwiLCJzZXRBbHBoYSIsInN0b3BUaW1lciIsImFscGhhIiwic3RhcnRUaW1lciIsInNldFF1ZXN0aW9uIiwic2V0RmVlZGJhY2siLCJyZXN1bHQiLCJsYXlvdXQiLCJ1aVNjYWxlIiwicXVpelBhbmVsSGVpZ2h0IiwicXVpelBhbmVsV2lkdGgiLCJnYW1lT3ZlciIsImdhbWVDb21wbGV0ZWQiLCJpc0p1bXBpbmciLCJxdWVzdGlvblBvb2wiLCJnZXRRdWVzdGlvblBvb2wiLCJxdWVzdGlvbiIsInF1aXpDdXJyZW50SW5kZXgiLCJ0b3RhbCIsIm9wdGlvbnMiLCJwYW5lbCIsImNsb3NlUXVpek1vZGFsIiwiaXNDb3JyZWN0IiwiY29ycmVjdEluZGV4Iiwic2VsZWN0ZWRPcHRpb25JZCIsIm9wdGlvbklkcyIsInNlc3Npb25RdWVzdGlvbklkIiwic3VibWl0QW5zd2VyIiwicmVzIiwiaXNfY29ycmVjdCIsImVycm9yIiwiY29uc29sZSIsImJ0biIsInJlZHJhdyIsInNldFF1aXpGZWVkYmFjayIsInVwZGF0ZVNjb3JlIiwic3BlZWRVcEp1bXAiLCJkZWxheSIsImhhbmRsZUp1bXAiLCJ0aW1lIiwiZGVsYXllZENhbGwiLCJzaG93UGxheWVyU3RhdGUiLCJzdGFydFgiLCJvbkNvbXBsZXRlIiwiYXBpUXVlc3Rpb25zIiwicXVlc3Rpb25Tb3VyY2VMb2dnZWQiLCJsb2ciLCJjb3VudCIsInNhbXBsZSIsImNvbnRlbnQiLCJtYXAiLCJpdGVtIiwib3B0IiwiaWQiLCJmaW5kSW5kZXgiLCJzZXNzaW9uX3F1ZXN0aW9uX2lkIiwid2FybiIsIm5leHRJbmRleCIsIm1heEluZGV4IiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJ0YXJnZXRQb3MiLCJzdG9wSWRsZSIsImp1bXBUbyIsImp1bXBEdXJhdGlvbk1zIiwic2hvd0NvcnJlY3QiLCJ1cGRhdGVFbmRUaW1lVGV4dCIsIm9wZW5FbmRNb2RhbCIsInRpbWVyRXZlbnQiLCJyZW1vdmUiLCJ1cGRhdGVUaW1lclRleHQiLCJhZGRFdmVudCIsImxvb3AiLCJjYWxsYmFjayIsImhhbmRsZVRpbWVVcCIsIm1zIiwidG90YWxTZWNvbmRzIiwibWludXRlcyIsInNlY29uZHMiLCJwYWQiLCJuIiwic2V0VGV4dCIsIm9wZW5UaW1lVXBNb2RhbCIsImxhdW5jaENvbmZldHRpIiwic3VibWl0U2Vzc2lvblJlc3VsdCIsImNvbmZldHRpRW1pdHRlciIsImRlc3Ryb3kiLCJjb25mZXR0aUJ1cnN0RXZlbnQiLCJ1bmRlZmluZWQiLCJwYXJ0aWNsZXMiLCJzcGVlZCIsImFuZ2xlIiwicm90YXRlIiwic3RhcnQiLCJlbmQiLCJsaWZlc3BhbiIsInF1YW50aXR5IiwiZnJlcXVlbmN5IiwiZ3Jhdml0eVkiLCJleHBsb2RlIiwiY2xvc2VUaW1lVXBNb2RhbCIsImNsb3NlRW5kTW9kYWwiLCJ0aGVuIiwiZW5kR2FtZVNlc3Npb24iLCJzY29yZSIsImNhdGNoIiwiZXJyIiwiZGVsdGEiLCJwb2ludHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiYmFzZU1zIiwiZWxhcHNlZE1zIiwicGF0aExlbmd0aCIsInBhdGhJbmRleCIsImxlYWYiLCJzY2FsZVgiLCJtYXBMZWZ0IiwiZGlzcGxheVdpZHRoIiwiY2VudGVyWCIsImlzTGVmdCIsImxlYWZTdGFydFkiLCJsZWFmU3RlcFkiLCJsZWFmU2lkZU9mZnNldCIsInRleHR1cmVLZXkiLCJ0ZXh0dXJlIiwidGV4dHVyZXMiLCJzb3VyY2UiLCJnZXRTb3VyY2VJbWFnZSIsImNhbnZhcyIsInN5cyIsImdhbWUiLCJvd25lckRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJ2aXNpdGVkIiwiVWludDhBcnJheSIsImNlbnRlcnMiLCJpc0xlYWZQaXhlbCIsImlkeCIsInIiLCJnIiwiYiIsImh1ZSIsInNhdHVyYXRpb24iLCJpc0dyZWVuSHVlIiwiaXNTYXR1cmF0ZWQiLCJtaW5CbG9iU2l6ZSIsInN0YWNrIiwiZGF0YUluZGV4Iiwic3VtWCIsInN1bVkiLCJtaW5YIiwibWF4WCIsIm1pblkiLCJtYXhZIiwicHVzaCIsImN1cnJlbnQiLCJwb3AiLCJjeSIsImN4IiwiY3VycmVudERhdGFJbmRleCIsImxlZnQiLCJsZWZ0SW5kZXgiLCJyaWdodCIsInJpZ2h0SW5kZXgiLCJ1cCIsInVwSW5kZXgiLCJkb3duIiwiZG93bkluZGV4IiwiYmxvYldpZHRoIiwiYmxvYkhlaWdodCIsImFzcGVjdCIsIlZlY3RvcjIiLCJzb3J0IiwiYSIsImR5IiwiYWJzIiwic3RhdGUiLCJzaG93SW5jb3JyZWN0IiwicXVpekZlZWRiYWNrU3RhdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNvbnN0cnVjdG9yIiwic2FmZUluc2V0Qm90dG9tIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/game/scenes/Game.ts\n"));

/***/ })

});