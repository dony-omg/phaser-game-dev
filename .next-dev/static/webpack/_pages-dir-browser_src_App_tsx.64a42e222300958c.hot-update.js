"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_App_tsx",{

/***/ "(pages-dir-browser)/./src/game/scenes/Game.ts":
/*!*********************************!*\
  !*** ./src/game/scenes/Game.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Game: () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventBus */ \"(pages-dir-browser)/./src/game/EventBus.ts\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! phaser */ \"(pages-dir-browser)/./node_modules/phaser/dist/phaser.js\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _objects_EmoteCharacter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../objects/EmoteCharacter */ \"(pages-dir-browser)/./src/game/objects/EmoteCharacter.ts\");\n/* harmony import */ var _gameConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gameConfig */ \"(pages-dir-browser)/./src/game/gameConfig.ts\");\n/* harmony import */ var _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/QuizPanel */ \"(pages-dir-browser)/./src/game/ui/QuizPanel.ts\");\n\n\n\n\n\nclass Game extends phaser__WEBPACK_IMPORTED_MODULE_1__.Scene {\n    init(data) {\n        var _data_gameCode;\n        this.gameCode = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.resolveGameCode)((_data_gameCode = data === null || data === void 0 ? void 0 : data.gameCode) !== null && _data_gameCode !== void 0 ? _data_gameCode : this.registry.get('gameCode'));\n        this.registry.set('gameCode', this.gameCode);\n        this.gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.getGameConfig)(this.gameCode);\n        var _data_sessionId;\n        this.sessionId = (_data_sessionId = data === null || data === void 0 ? void 0 : data.sessionId) !== null && _data_sessionId !== void 0 ? _data_sessionId : null;\n        var _data_gameId;\n        this.sessionGameId = (_data_gameId = data === null || data === void 0 ? void 0 : data.gameId) !== null && _data_gameId !== void 0 ? _data_gameId : null;\n        var _data_questions;\n        this.sessionQuestions = (_data_questions = data === null || data === void 0 ? void 0 : data.questions) !== null && _data_questions !== void 0 ? _data_questions : null;\n        var _data_timeLimit;\n        this.sessionTimeLimit = (_data_timeLimit = data === null || data === void 0 ? void 0 : data.timeLimit) !== null && _data_timeLimit !== void 0 ? _data_timeLimit : null;\n    }\n    create() {\n        const { width, height } = this.scale;\n        this.camera = this.cameras.main;\n        // Parallax background\n        this.createParallaxBackground();\n        // Track (Leaves) - Use bg-main as the scrolling map\n        this.trackImage = this.add.image(width / 2, height, this.gameConfig.mapKey).setOrigin(0.5, 1);\n        const trackScale = width / this.trackImage.width;\n        this.trackImage.setScale(trackScale);\n        const mapTop = this.trackImage.y - this.trackImage.displayHeight;\n        this.camera.setBounds(0, mapTop, width, this.trackImage.displayHeight);\n        // Build leaf path based on the map texture\n        this.leafPath = this.gameConfig.useTexturePath ? this.buildLeafPath(this.gameConfig.mapKey) : [];\n        // Player Setup - Using EmoteCharacter (idle/correct/incorrect states)\n        const startPos = this.getLeafPosition(0);\n        this.player = new _objects_EmoteCharacter__WEBPACK_IMPORTED_MODULE_2__.EmoteCharacter(this, startPos.x, startPos.y);\n        this.currentLeafIndex = 0;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > startPos.x);\n        // Start idle animation\n        this.player.playIdle();\n        // Initial Camera Position\n        this.camera.scrollY = startPos.y - 900;\n        // UI camera (fixed screen-space)\n        this.uiCamera = this.cameras.add(0, 0, width, height);\n        this.uiCamera.setScroll(0, 0);\n        this.uiCamera.ignore(this.children.list);\n        // UI\n        this.createUI();\n        if (this.sessionTimeLimit && this.sessionTimeLimit > 0) {\n            this.totalTimeMs = this.sessionTimeLimit * 1000;\n        }\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit('current-scene-ready', this);\n    }\n    createParallaxBackground() {\n        this.cameras.main.setBackgroundColor(this.gameConfig.backgroundColor);\n        this.parallaxLayers = [];\n    }\n    update() {\n        var _this_parallaxLayers;\n        if (!((_this_parallaxLayers = this.parallaxLayers) === null || _this_parallaxLayers === void 0 ? void 0 : _this_parallaxLayers.length)) return;\n        const scrollY = this.camera.scrollY;\n        this.parallaxLayers.forEach((layer)=>{\n            const factor = layer.getData('scrollFactor');\n            const baseY = layer.getData('baseY');\n            layer.y = baseY + scrollY * factor;\n        });\n    }\n    createUI() {\n        const { width, height } = this.scale;\n        // Fixed UI Container\n        this.uiRoot = this.add.container(0, 0).setScrollFactor(0).setDepth(100);\n        // Timer + Score HUD\n        this.timerOverlay = this.add.container(0, 0).setScrollFactor(0).setDepth(2000);\n        // Back button\n        this.hudBackButton = this.add.container(0, 0);\n        const backBg = this.add.graphics();\n        backBg.fillStyle(0xffffff, 0.95);\n        backBg.fillRoundedRect(-24, -24, 48, 48, 14);\n        backBg.lineStyle(2, 0x0ea5e9, 0.2);\n        backBg.strokeRoundedRect(-24, -24, 48, 48, 14);\n        const backIcon = this.add.text(0, 1, '<', {\n            fontFamily: 'Arial Black',\n            fontSize: '28px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.hudBackButton.add([\n            backBg,\n            backIcon\n        ]);\n        this.hudBackButton.setSize(48, 48);\n        this.hudBackButton.setInteractive(new Phaser.Geom.Rectangle(-24, -24, 48, 48), Phaser.Geom.Rectangle.Contains);\n        this.hudBackButton.on('pointerdown', ()=>this.handleBackToGameList());\n        this.hudBackButton.on('pointerover', ()=>this.input.setDefaultCursor('pointer'));\n        this.hudBackButton.on('pointerout', ()=>this.input.setDefaultCursor('default'));\n        // Points pill\n        this.hudPointsPill = this.add.container(0, 0);\n        const pointsBg = this.add.graphics();\n        const pointsW = 170;\n        const pointsH = 44;\n        pointsBg.fillStyle(0xe0f2fe, 0.98);\n        pointsBg.fillRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        pointsBg.lineStyle(2, 0x93c5fd, 0.7);\n        pointsBg.strokeRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        const star = this.add.image(-pointsW / 2 + 24, 0, 'star').setScale(0.32).setTint(0xfbbf24);\n        this.scoreText = this.add.text(-pointsW / 2 + 46, 0, 'POINTS: 00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0, 0.5);\n        this.hudPointsPill.add([\n            pointsBg,\n            star,\n            this.scoreText\n        ]);\n        // Timer pill\n        this.hudTimerPill = this.add.container(0, 0);\n        const timerBg = this.add.graphics();\n        const timerW = 100;\n        const timerH = 40;\n        timerBg.fillStyle(0xdbeafe, 0.98);\n        timerBg.fillRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        timerBg.lineStyle(2, 0x60a5fa, 0.6);\n        timerBg.strokeRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        this.timerText = this.add.text(0, 0, '03:00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.hudTimerPill.add([\n            timerBg,\n            this.timerText\n        ]);\n        // Hearts pill\n        this.hudHeartsPill = this.add.container(0, 0);\n        const heartsBg = this.add.graphics();\n        const heartsW = 92;\n        const heartsH = 36;\n        heartsBg.fillStyle(0xffffff, 0.98);\n        heartsBg.fillRoundedRect(-heartsW / 2, -heartsH / 2, heartsW, heartsH, 18);\n        heartsBg.lineStyle(2, 0x93c5fd, 0.35);\n        heartsBg.strokeRoundedRect(-heartsW / 2, -heartsH / 2, heartsW, heartsH, 18);\n        const heartsText = this.add.text(0, 0, '❤ ❤ ❤', {\n            fontFamily: 'Arial Black',\n            fontSize: '16px',\n            color: '#ef4444'\n        }).setOrigin(0.5);\n        this.hudHeartsPill.add([\n            heartsBg,\n            heartsText\n        ]);\n        this.timerOverlay.add([\n            this.hudBackButton,\n            this.hudPointsPill,\n            this.hudTimerPill,\n            this.hudHeartsPill\n        ]);\n        this.uiRoot.add(this.timerOverlay);\n        this.layoutHud();\n        // Jump Button\n        this.jumpButton = this.createJumpButton(width / 2, height - 150);\n        this.jumpButton.setScrollFactor(0);\n        this.uiRoot.add(this.jumpButton);\n        this.jumpButton.setVisible(false);\n        this.jumpButton.setActive(false);\n        this.setupJumpInput();\n        // Quiz Modal (UI overlay)\n        this.createQuizModal();\n        this.scale.on('resize', ()=>{\n            if (this.quizModal) this.layoutQuiz();\n            this.layoutHud();\n        });\n        // Start Modal (first screen)\n        this.createStartModal();\n        this.openStartModal();\n        // Ensure only UI camera renders UI\n        this.cameras.main.ignore([\n            this.uiRoot,\n            this.timerOverlay\n        ]);\n        // End Modal\n        this.createEndModal();\n        // Time Up Modal\n        this.createTimeUpModal();\n    }\n    layoutHud() {\n        if (!this.hudBackButton || !this.hudPointsPill || !this.hudTimerPill || !this.hudHeartsPill) return;\n        const { width, height } = this.scale;\n        const topInset = Math.max(20, Math.round(height * 0.03));\n        const sideInset = Math.max(16, Math.round(width * 0.045));\n        const gap = 10;\n        const heartsW = 92;\n        const timerW = 100;\n        this.hudBackButton.setPosition(sideInset + 24, topInset + 24);\n        this.hudPointsPill.setPosition(width / 2, topInset + 24);\n        const rightEdge = width - sideInset;\n        this.hudHeartsPill.setPosition(rightEdge - heartsW / 2, topInset + 24);\n        this.hudTimerPill.setPosition(rightEdge - heartsW - gap - timerW / 2, topInset + 24);\n    }\n    handleBackToGameList() {\n        if (this.quizOpen || this.startModalOpen) return;\n        const shouldLeave = window.confirm('Bạn có chắc muốn quay lại danh sách game không?');\n        if (!shouldLeave) return;\n        window.location.assign('/');\n    }\n    createJumpButton(x, y) {\n        const container = this.add.container(x, y);\n        const width = 300;\n        const height = 100;\n        const bg = this.add.rectangle(0, 0, width, height, 0xfbbf24).setStrokeStyle(4, 0xffffff).setFillStyle(0x22c55e);\n        const text = this.add.text(0, 0, 'NEXT JUMP!', {\n            fontFamily: 'Arial Black',\n            fontSize: '32px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        container.add([\n            bg,\n            text\n        ]);\n        container.setSize(width, height);\n        this.jumpButtonBg = bg;\n        const onPress = ()=>{\n            if (this.quizOpen || this.startModalOpen) return;\n            bg.setFillStyle(0x16a34a);\n            this.openQuizModal();\n        };\n        const onRelease = ()=>{\n            bg.setFillStyle(0x22c55e);\n        };\n        container.setInteractive(new Phaser.Geom.Rectangle(-width / 2, -height / 2, width, height), Phaser.Geom.Rectangle.Contains);\n        container.on('pointerdown', onPress);\n        container.on('pointerup', onRelease);\n        container.on('pointerout', onRelease);\n        // Add simple pulse tween\n        this.tweens.add({\n            targets: container,\n            scale: 1.05,\n            duration: 800,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    setupJumpInput() {\n        this.input.enabled = true;\n        if (this.input.mouse) this.input.mouse.enabled = true;\n        this.input.on('pointerdown', (pointer)=>{\n            if (this.quizOpen || this.startModalOpen) return;\n            const bounds = this.jumpButton.getBounds();\n            if (bounds.contains(pointer.x, pointer.y)) {\n                this.jumpButtonBg.setFillStyle(0x16a34a);\n                this.openQuizModal();\n            }\n        });\n        this.input.on('pointerup', ()=>{\n            this.jumpButtonBg.setFillStyle(0x22c55e);\n        });\n    }\n    createQuizModal() {\n        this.quizPanel = new _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_4__.QuizPanel(this, {\n            optionCount: 4,\n            depth: 200,\n            parent: this.uiRoot,\n            showIndex: true\n        });\n        this.quizModal = this.quizPanel.container;\n        this.quizPanelContainer = this.quizPanel.panelContainer;\n        this.quizPanelShadow = this.quizPanel.panelShadow;\n        this.quizPanelBg = this.quizPanel.panelBg;\n        this.quizPanelGlow = this.quizPanel.panelGlow;\n        this.quizIndexText = this.quizPanel.indexText;\n        this.quizFeedbackTitleText = this.quizPanel.feedbackTitleText;\n        this.quizFeedbackSubtitleText = this.quizPanel.feedbackSubtitleText;\n        this.quizQuestionText = this.quizPanel.questionText;\n        this.quizOptionButtons = this.quizPanel.optionButtons;\n        this.quizPanel.onOptionSelected((index)=>{\n            if (!this.quizOpen || this.quizLocked) return;\n            this.handleQuizAnswer(index);\n        });\n        this.layoutQuiz();\n    }\n    createStartModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(220);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.12).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 160;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.58)).setScrollFactor(0);\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -26, 'Help the robot cross the river.', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a',\n            align: 'center',\n            wordWrap: {\n                width: panelWidth - 60,\n                useAdvancedWrap: true\n            }\n        }).setOrigin(0.5);\n        const button = this.createStartButton(0, 42);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            button\n        ]);\n        container.add([\n            overlay,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.startModal = container;\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createEndModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(230);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.6).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 220;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.56)).setScrollFactor(0);\n        overlay.setDepth(0);\n        panelContainer.setDepth(1);\n        const blocker = this.add.zone(0, 0, width, height).setOrigin(0, 0);\n        blocker.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), (shape, x, y)=>{\n            const panelBounds = panelContainer.getBounds();\n            if (Phaser.Geom.Rectangle.Contains(panelBounds, x, y)) return false;\n            return Phaser.Geom.Rectangle.Contains(shape, x, y);\n        });\n        blocker.on('pointerdown', ()=>{});\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -64, 'Congratulations!', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const subtitle = this.add.text(0, -36, 'You completed the run.', {\n            fontFamily: 'Arial',\n            fontSize: '18px',\n            color: '#0f172a',\n            align: 'center',\n            wordWrap: {\n                width: panelWidth - 60,\n                useAdvancedWrap: true\n            }\n        }).setOrigin(0.5);\n        const statsGap = 16;\n        const cardWidth = Math.min(200, Math.floor((panelWidth - 120) / 2));\n        const cardHeight = 46;\n        const statsY = 62;\n        const scoreCard = this.add.graphics();\n        scoreCard.fillStyle(0x93c5fd, 0.18);\n        scoreCard.fillRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        scoreCard.lineStyle(2, 0x93c5fd, 0.45);\n        scoreCard.strokeRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        const timeCard = this.add.graphics();\n        timeCard.fillStyle(0x93c5fd, 0.18);\n        timeCard.fillRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        timeCard.lineStyle(2, 0x93c5fd, 0.45);\n        timeCard.strokeRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        const scoreCardContainer = this.add.container(-cardWidth / 2 - statsGap / 2, statsY, [\n            scoreCard\n        ]);\n        const timeCardContainer = this.add.container(cardWidth / 2 + statsGap / 2, statsY, [\n            timeCard\n        ]);\n        const scoreLabel = this.add.text(scoreCardContainer.x, statsY - 16, 'SCORE', {\n            fontFamily: 'Arial Black',\n            fontSize: '12px',\n            color: '#1e3a8a'\n        }).setOrigin(0.5);\n        const timeLabel = this.add.text(timeCardContainer.x, statsY - 16, 'TIME', {\n            fontFamily: 'Arial Black',\n            fontSize: '12px',\n            color: '#1e3a8a'\n        }).setOrigin(0.5);\n        this.endModalScoreText = this.add.text(scoreCardContainer.x, statsY + 6, '0', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.endModalTimeText = this.add.text(timeCardContainer.x, statsY + 6, '00:00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const restartButton = this.createEndRestartButton(0, panelHeight / 2 + 56);\n        restartButton.setDepth(2);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            subtitle,\n            scoreCardContainer,\n            timeCardContainer,\n            scoreLabel,\n            timeLabel,\n            this.endModalScoreText,\n            this.endModalTimeText\n        ]);\n        panelContainer.add(restartButton);\n        container.add([\n            overlay,\n            blocker,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.endModal = container;\n        this.endModal.setData('panel', panelContainer);\n        this.endModal.setData('overlay', overlay);\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createEndRestartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Play Again', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hit = this.add.rectangle(0, 0, width, height, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n            this.restartRun();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    createTimeUpModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(240);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.12).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 160;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.56)).setScrollFactor(0);\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -26, 'Out of time! Failed', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const restartButton = this.createRestartButton(0, 42);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            restartButton\n        ]);\n        container.add([\n            overlay,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.timeUpModal = container;\n        this.timeUpModal.setData('panel', panelContainer);\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createRestartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Continue', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hit = this.add.rectangle(0, 0, width, height, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n            this.restartRun();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    createStartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Start Game', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hitPad = 16;\n        const hitW = width + hitPad * 2;\n        const hitH = height + hitPad * 2;\n        const hit = this.add.rectangle(0, 0, hitW, hitH, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        const onPress = ()=>{\n            if (!this.startModalOpen) return;\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.closeStartModal();\n            this.openQuizModal();\n        };\n        const onRelease = ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n        };\n        hit.on('pointerdown', onPress);\n        hit.on('pointerup', onRelease);\n        hit.on('pointerout', onRelease);\n        this.tweens.add({\n            targets: container,\n            scale: 1.05,\n            duration: 800,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    openStartModal() {\n        this.startModalOpen = true;\n        this.jumpButton.setAlpha(0.4);\n        this.stopTimer();\n        this.startModal.setVisible(true);\n        this.startModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.startModal,\n            alpha: 1,\n            duration: 180\n        });\n    }\n    closeStartModal() {\n        this.startModalOpen = false;\n        this.jumpButton.setAlpha(1);\n        this.startTimer();\n        this.startModal.setVisible(false);\n    }\n    setQuestion(data) {\n        this.quizPanel.setFeedback('idle');\n        this.quizPanel.setQuestion(data);\n        this.layoutQuiz();\n    }\n    layoutQuiz() {\n        if (!this.quizPanel) return;\n        const { width, height } = this.scale;\n        const result = this.quizPanel.layout(width, height);\n        this.uiScale = result.uiScale;\n        this.quizPanelHeight = result.panelHeight;\n        this.quizPanelWidth = result.panelWidth;\n    }\n    openQuizModal() {\n        if (this.gameOver) return;\n        if (this.gameCompleted) return;\n        if (this.player.isJumping()) return;\n        this.quizOpen = true;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(0.6);\n        const questionPool = this.getQuestionPool();\n        const question = questionPool[this.quizCurrentIndex % questionPool.length];\n        this.setQuestion({\n            index: this.quizCurrentIndex + 1,\n            total: questionPool.length,\n            question: question.question,\n            options: question.options\n        });\n        this.quizModal.setVisible(true);\n        this.quizModal.setAlpha(0);\n        const panel = this.quizPanel.panelContainer;\n        panel.setScale(0.96);\n        panel.y += 18;\n        this.tweens.add({\n            targets: this.quizModal,\n            alpha: 1,\n            duration: 180\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            y: panel.y - 18,\n            duration: 220,\n            ease: 'Back.easeOut'\n        });\n    }\n    closeQuizModal() {\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(1);\n        this.quizModal.setVisible(false);\n    }\n    async handleQuizAnswer(index) {\n        const questionPool = this.getQuestionPool();\n        const question = questionPool[this.quizCurrentIndex % questionPool.length];\n        let isCorrect = index === question.correctIndex;\n        const selectedOptionId = question.optionIds[index];\n        if (this.sessionId && question.sessionQuestionId && selectedOptionId) {\n            try {\n                const { submitAnswer } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\"));\n                const res = await submitAnswer(this.sessionId, question.sessionQuestionId, selectedOptionId, {\n                    forceReal: this.gameCode === 'vocab_race'\n                });\n                isCorrect = res.data.is_correct;\n            } catch (error) {\n                console.error('submitAnswer failed, fallback to local check', error);\n            }\n        }\n        const btn = this.quizOptionButtons[index];\n        const redraw = btn.getData('redraw');\n        if (isCorrect) {\n            this.quizLocked = true;\n            redraw('correct');\n            this.setQuizFeedback('correct');\n            this.updateScore(1);\n            this.speedUpJump();\n            await this.delay(400);\n            this.closeQuizModal();\n            await this.handleJump();\n            this.quizCurrentIndex += 1;\n            this.time.delayedCall(250, ()=>{\n                this.openQuizModal();\n            });\n        } else {\n            this.quizLocked = true;\n            redraw('wrong');\n            this.setQuizFeedback('wrong');\n            this.updateScore(-1);\n            this.showPlayerState('incorrect');\n            const panel = this.quizPanel.panelContainer;\n            const startX = panel.x;\n            this.tweens.add({\n                targets: panel,\n                x: startX + 10,\n                duration: 60,\n                yoyo: true,\n                repeat: 3,\n                ease: 'Sine.easeInOut',\n                onComplete: ()=>{\n                    panel.x = startX;\n                    this.quizLocked = false;\n                    redraw('normal');\n                }\n            });\n        }\n    }\n    getQuestionPool() {\n        const apiQuestions = this.sessionQuestions;\n        if (apiQuestions === null || apiQuestions === void 0 ? void 0 : apiQuestions.length) {\n            if (!this.questionSourceLogged) {\n                var _apiQuestions__question, _apiQuestions_;\n                this.questionSourceLogged = true;\n                var _apiQuestions__question_content;\n                console.log('[GAME][TOWN] Using session questions', {\n                    gameCode: this.gameCode,\n                    count: apiQuestions.length,\n                    sample: (_apiQuestions__question_content = (_apiQuestions_ = apiQuestions[0]) === null || _apiQuestions_ === void 0 ? void 0 : (_apiQuestions__question = _apiQuestions_.question) === null || _apiQuestions__question === void 0 ? void 0 : _apiQuestions__question.content) !== null && _apiQuestions__question_content !== void 0 ? _apiQuestions__question_content : null\n                });\n            }\n            return apiQuestions.map((item)=>{\n                const options = item.question.options.map((opt)=>opt.text);\n                const optionIds = item.question.options.map((opt)=>{\n                    var _opt_id;\n                    return (_opt_id = opt.id) !== null && _opt_id !== void 0 ? _opt_id : '';\n                });\n                let correctIndex = item.question.options.findIndex((opt)=>opt.is_correct);\n                if (correctIndex < 0) correctIndex = 0;\n                var _item_session_question_id;\n                return {\n                    sessionQuestionId: (_item_session_question_id = item.session_question_id) !== null && _item_session_question_id !== void 0 ? _item_session_question_id : null,\n                    question: item.question.content,\n                    options,\n                    optionIds,\n                    correctIndex\n                };\n            });\n        }\n        if (!this.questionSourceLogged) {\n            this.questionSourceLogged = true;\n            console.warn('[GAME][TOWN] Using fallback local questions', {\n                gameCode: this.gameCode\n            });\n        }\n        return [\n            {\n                sessionQuestionId: null,\n                question: 'What is the capital of Vietnam?',\n                options: [\n                    'Hanoi',\n                    'Da Nang',\n                    'Hai Phong',\n                    'Can Tho'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            },\n            {\n                sessionQuestionId: null,\n                question: 'Which language does Phaser use?',\n                options: [\n                    'TypeScript/JavaScript',\n                    'C#',\n                    'Python',\n                    'Go'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            },\n            {\n                sessionQuestionId: null,\n                question: 'What color are the leaves in the game?',\n                options: [\n                    'Green',\n                    'Red',\n                    'Purple',\n                    'Yellow'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            }\n        ];\n    }\n    async handleJump() {\n        if (this.player.isJumping()) return;\n        if (this.gameOver) return;\n        const nextIndex = this.currentLeafIndex + 1;\n        const maxIndex = this.leafPath.length > 0 ? this.leafPath.length - 1 : Number.POSITIVE_INFINITY;\n        if (this.leafPath.length > 0 && nextIndex > maxIndex) {\n            return;\n        }\n        const targetPos = this.getLeafPosition(nextIndex);\n        // Stop idle animation during jump\n        this.player.stopIdle();\n        // Scroll Camera\n        this.tweens.add({\n            targets: this.camera,\n            scrollY: targetPos.y - 800,\n            duration: 600,\n            ease: 'Sine.easeInOut'\n        });\n        // Perform jump using EmoteCharacter\n        await this.player.jumpTo(targetPos.x, targetPos.y, this.jumpDurationMs);\n        // Update state after jump completes\n        this.currentLeafIndex = nextIndex;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > targetPos.x);\n        // Show correct state on new leaf, then resume idle\n        this.player.showCorrect(800);\n        this.time.delayedCall(800, ()=>{\n            this.player.playIdle();\n        });\n        if (this.leafPath.length > 0 && this.currentLeafIndex >= maxIndex) {\n            this.gameCompleted = true;\n            this.jumpButton.setAlpha(0.4);\n            this.quizOpen = false;\n            this.quizLocked = false;\n            this.stopTimer();\n            this.timerOverlay.setVisible(false);\n            if (this.totalTimeMs > 0) {\n                this.updateScore(3);\n            }\n            this.updateEndTimeText();\n            this.time.delayedCall(400, ()=>{\n                this.openEndModal();\n            });\n        }\n    }\n    startTimer() {\n        if (this.timerEvent) {\n            this.timerEvent.remove(false);\n        }\n        this.totalTimeMs = this.sessionTimeLimit && this.sessionTimeLimit > 0 ? this.sessionTimeLimit * 1000 : 180000;\n        this.updateTimerText(this.totalTimeMs);\n        this.timerEvent = this.time.addEvent({\n            delay: 1000,\n            loop: true,\n            callback: ()=>{\n                if (this.gameCompleted || this.gameOver) return;\n                this.totalTimeMs -= 1000;\n                this.updateTimerText(this.totalTimeMs);\n                if (this.totalTimeMs <= 0) {\n                    this.totalTimeMs = 0;\n                    this.updateTimerText(this.totalTimeMs);\n                    this.handleTimeUp();\n                }\n            }\n        });\n    }\n    stopTimer() {\n        if (this.timerEvent) {\n            this.timerEvent.remove(false);\n        }\n    }\n    updateTimerText(ms) {\n        const totalSeconds = Math.max(0, Math.floor(ms / 1000));\n        const minutes = Math.floor(totalSeconds / 60);\n        const seconds = totalSeconds % 60;\n        const pad = (n)=>n < 10 ? \"0\".concat(n) : \"\".concat(n);\n        const text = \"\".concat(minutes, \"m \").concat(pad(seconds), \"s\");\n        this.timerText.setText(text);\n    }\n    handleTimeUp() {\n        if (this.gameOver || this.gameCompleted) return;\n        this.gameOver = true;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(0.4);\n        this.closeQuizModal();\n        this.openTimeUpModal();\n    }\n    openEndModal() {\n        if (!this.endModal) return;\n        const panel = this.endModal.getData('panel');\n        const overlay = this.endModal.getData('overlay');\n        panel.setScale(0.9);\n        if (overlay) overlay.setAlpha(0);\n        this.endModal.setVisible(true);\n        this.endModal.setAlpha(1);\n        this.launchConfetti();\n        this.submitSessionResult();\n        this.tweens.add({\n            targets: overlay,\n            alpha: 0.6,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            duration: 260,\n            ease: 'Back.easeOut'\n        });\n    }\n    launchConfetti() {\n        if (this.confettiEmitter) {\n            this.confettiEmitter.destroy();\n        }\n        if (this.confettiBurstEvent) {\n            this.confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        }\n        const { width, height } = this.scale;\n        this.confettiEmitter = this.add.particles(0, 0, 'tile-flower', {\n            speed: {\n                min: 90,\n                max: 170\n            },\n            angle: {\n                min: 0,\n                max: 360\n            },\n            rotate: {\n                min: -220,\n                max: 220\n            },\n            scale: {\n                start: 0.32,\n                end: 0.1\n            },\n            lifespan: {\n                min: 1400,\n                max: 2200\n            },\n            quantity: 0,\n            frequency: -1,\n            gravityY: 160\n        });\n        this.confettiEmitter.setScrollFactor(0);\n        this.confettiEmitter.setDepth(2100);\n        this.uiRoot.add(this.confettiEmitter);\n        this.confettiBurstEvent = this.time.addEvent({\n            delay: 900,\n            repeat: 0,\n            callback: ()=>{\n                if (!this.confettiEmitter) return;\n                this.confettiEmitter.explode(18, width / 2, height / 2);\n            }\n        });\n        this.time.delayedCall(3500, ()=>{\n            var _this_confettiEmitter, _this_confettiBurstEvent;\n            (_this_confettiEmitter = this.confettiEmitter) === null || _this_confettiEmitter === void 0 ? void 0 : _this_confettiEmitter.destroy();\n            this.confettiEmitter = undefined;\n            (_this_confettiBurstEvent = this.confettiBurstEvent) === null || _this_confettiBurstEvent === void 0 ? void 0 : _this_confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        });\n    }\n    openTimeUpModal() {\n        if (!this.timeUpModal) return;\n        const panel = this.timeUpModal.getData('panel');\n        panel.setScale(0.96);\n        this.timeUpModal.setVisible(true);\n        this.timeUpModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.timeUpModal,\n            alpha: 1,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            duration: 240,\n            ease: 'Back.easeOut'\n        });\n    }\n    closeTimeUpModal() {\n        if (!this.timeUpModal) return;\n        this.timeUpModal.setVisible(false);\n    }\n    closeEndModal() {\n        if (!this.endModal) return;\n        this.endModal.setVisible(false);\n        this.endModal.setAlpha(0);\n        const overlay = this.endModal.getData('overlay');\n        if (overlay) overlay.setAlpha(0);\n        if (this.confettiEmitter) {\n            this.confettiEmitter.destroy();\n            this.confettiEmitter = undefined;\n        }\n        if (this.confettiBurstEvent) {\n            this.confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        }\n    }\n    submitSessionResult() {\n        if (!this.sessionGameId) return;\n        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\")).then((param)=>{\n            let { endGameSession } = param;\n            return endGameSession(this.sessionGameId, this.score, {\n                forceReal: this.gameCode === 'vocab_race'\n            });\n        }).catch((err)=>{\n            console.error('endGameSession failed', err);\n        });\n    }\n    restartRun() {\n        this.gameOver = false;\n        this.gameCompleted = false;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.quizCurrentIndex = 0;\n        this.startModalOpen = false;\n        this.score = 0;\n        this.scoreText.setText('POINTS: 00');\n        this.jumpDurationMs = 900;\n        this.closeTimeUpModal();\n        this.closeQuizModal();\n        this.closeEndModal();\n        if (this.startModal) this.startModal.setVisible(false);\n        const startPos = this.getLeafPosition(0);\n        this.player.setPosition(startPos.x, startPos.y);\n        this.player.playIdle();\n        this.currentLeafIndex = 0;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > startPos.x);\n        this.camera.scrollY = startPos.y - 900;\n        this.stopTimer();\n        this.timerOverlay.setVisible(true);\n        this.jumpButton.setAlpha(1);\n        this.startTimer();\n        this.openQuizModal();\n    }\n    updateScore(delta) {\n        this.score += delta;\n        const points = Math.max(0, this.score);\n        this.scoreText.setText(\"POINTS: \".concat(points.toString().padStart(2, '0')));\n        if (this.endModalScoreText) {\n            this.endModalScoreText.setText(\"Score: \".concat(this.score));\n        }\n    }\n    updateEndTimeText() {\n        if (!this.endModalTimeText) return;\n        const baseMs = this.sessionTimeLimit && this.sessionTimeLimit > 0 ? this.sessionTimeLimit * 1000 : 180000;\n        const elapsedMs = baseMs - this.totalTimeMs;\n        const totalSeconds = Math.max(0, Math.floor(elapsedMs / 1000));\n        const minutes = Math.floor(totalSeconds / 60);\n        const seconds = totalSeconds % 60;\n        const pad = (n)=>n < 10 ? \"0\".concat(n) : \"\".concat(n);\n        this.endModalTimeText.setText(\"Time: \".concat(pad(minutes), \":\").concat(pad(seconds)));\n    }\n    speedUpJump() {\n        this.jumpDurationMs = Math.max(450, this.jumpDurationMs - 40);\n    }\n    getLeafPosition(index) {\n        if (this.leafPath.length > 0 && this.trackImage) {\n            const pathLength = this.leafPath.length;\n            const pathIndex = Math.min(index, pathLength - 1);\n            const leaf = this.leafPath[pathIndex];\n            const scale = this.trackImage.scaleX;\n            const mapLeft = this.trackImage.x - this.trackImage.displayWidth / 2;\n            const mapTop = this.trackImage.y - this.trackImage.displayHeight;\n            const x = mapLeft + leaf.x * scale;\n            const y = mapTop + leaf.y * scale;\n            return {\n                x,\n                y\n            };\n        }\n        const centerX = this.scale.width / 2;\n        const isLeft = index % 2 === 0;\n        // Adjacent leaf = alternate left/right with a small upward step\n        const y = this.leafStartY - index * this.leafStepY;\n        const x = isLeft ? centerX - this.leafSideOffset : centerX + this.leafSideOffset;\n        return {\n            x,\n            y\n        };\n    }\n    buildLeafPath(textureKey) {\n        const texture = this.textures.get(textureKey);\n        const source = texture === null || texture === void 0 ? void 0 : texture.getSourceImage();\n        if (!source || !source.width || !source.height) {\n            return [];\n        }\n        const canvas = this.sys.game.canvas.ownerDocument.createElement('canvas');\n        canvas.width = source.width;\n        canvas.height = source.height;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) return [];\n        ctx.drawImage(source, 0, 0);\n        const imageData = ctx.getImageData(0, 0, source.width, source.height);\n        const data = imageData.data;\n        const width = source.width;\n        const height = source.height;\n        const visited = new Uint8Array(width * height);\n        const centers = [];\n        const isLeafPixel = (idx)=>{\n            const r = data[idx] / 255;\n            const g = data[idx + 1] / 255;\n            const b = data[idx + 2] / 255;\n            const max = Math.max(r, g, b);\n            const min = Math.min(r, g, b);\n            const delta = max - min;\n            if (delta === 0) return false;\n            let hue = 0;\n            if (max === r) {\n                hue = (g - b) / delta % 6;\n            } else if (max === g) {\n                hue = (b - r) / delta + 2;\n            } else {\n                hue = (r - g) / delta + 4;\n            }\n            hue = Math.round(hue * 60);\n            if (hue < 0) hue += 360;\n            const saturation = max === 0 ? 0 : delta / max;\n            const isGreenHue = hue >= 70 && hue <= 150;\n            const isSaturated = saturation >= 0.35;\n            return isGreenHue && isSaturated;\n        };\n        const minBlobSize = 4500;\n        const stack = [];\n        for(let y = 0; y < height; y++){\n            for(let x = 0; x < width; x++){\n                const index = y * width + x;\n                if (visited[index]) continue;\n                const dataIndex = index * 4;\n                if (!isLeafPixel(dataIndex)) {\n                    visited[index] = 1;\n                    continue;\n                }\n                let sumX = 0;\n                let sumY = 0;\n                let count = 0;\n                let minX = x;\n                let maxX = x;\n                let minY = y;\n                let maxY = y;\n                stack.push(index);\n                visited[index] = 1;\n                while(stack.length){\n                    const current = stack.pop();\n                    const cy = Math.floor(current / width);\n                    const cx = current - cy * width;\n                    const currentDataIndex = current * 4;\n                    if (!isLeafPixel(currentDataIndex)) {\n                        continue;\n                    }\n                    sumX += cx;\n                    sumY += cy;\n                    count += 1;\n                    if (cx < minX) minX = cx;\n                    if (cx > maxX) maxX = cx;\n                    if (cy < minY) minY = cy;\n                    if (cy > maxY) maxY = cy;\n                    if (cx > 0) {\n                        const left = current - 1;\n                        if (!visited[left]) {\n                            const leftIndex = left * 4;\n                            if (isLeafPixel(leftIndex)) {\n                                visited[left] = 1;\n                                stack.push(left);\n                            } else {\n                                visited[left] = 1;\n                            }\n                        }\n                    }\n                    if (cx < width - 1) {\n                        const right = current + 1;\n                        if (!visited[right]) {\n                            const rightIndex = right * 4;\n                            if (isLeafPixel(rightIndex)) {\n                                visited[right] = 1;\n                                stack.push(right);\n                            } else {\n                                visited[right] = 1;\n                            }\n                        }\n                    }\n                    if (cy > 0) {\n                        const up = current - width;\n                        if (!visited[up]) {\n                            const upIndex = up * 4;\n                            if (isLeafPixel(upIndex)) {\n                                visited[up] = 1;\n                                stack.push(up);\n                            } else {\n                                visited[up] = 1;\n                            }\n                        }\n                    }\n                    if (cy < height - 1) {\n                        const down = current + width;\n                        if (!visited[down]) {\n                            const downIndex = down * 4;\n                            if (isLeafPixel(downIndex)) {\n                                visited[down] = 1;\n                                stack.push(down);\n                            } else {\n                                visited[down] = 1;\n                            }\n                        }\n                    }\n                }\n                if (count >= minBlobSize) {\n                    const blobWidth = maxX - minX;\n                    const blobHeight = maxY - minY;\n                    const aspect = blobWidth / (blobHeight || 1);\n                    if (blobWidth >= 90 && blobHeight >= 90 && aspect > 0.6 && aspect < 1.7) {\n                        centers.push(new Phaser.Math.Vector2(sumX / count, sumY / count));\n                    }\n                }\n            }\n        }\n        centers.sort((a, b)=>{\n            const dy = b.y - a.y;\n            if (Math.abs(dy) > 2) return dy;\n            return a.x - b.x;\n        });\n        return centers;\n    }\n    /**\n     * Show player state - correct or incorrect\n     */ showPlayerState(state) {\n        if (state === 'correct') {\n            this.player.showCorrect(800);\n        } else {\n            this.player.showIncorrect(800);\n        }\n    }\n    setQuizFeedback(state) {\n        if (!this.quizPanel) return;\n        this.quizPanel.setFeedback(state);\n        this.quizFeedbackState = state;\n    }\n    delay(ms) {\n        return new Promise((resolve)=>{\n            this.time.delayedCall(ms, ()=>resolve());\n        });\n    }\n    constructor(){\n        super('Game'), this.quizPanelWidth = 0, this.quizPanelHeight = 0, this.uiScale = 1, this.safeInsetBottom = 16, this.quizFeedbackState = 'idle', this.quizOptionButtons = [], this.quizOpen = false, this.quizLocked = false, this.quizCurrentIndex = 0, this.startModalOpen = false, this.gameCompleted = false, this.gameOver = false, this.totalTimeMs = 180000, this.jumpDurationMs = 900, // Game State\n        this.score = 0, this.currentLeafIndex = 0, this.sessionId = null, this.sessionGameId = null, this.sessionQuestions = null, this.sessionTimeLimit = null, this.questionSourceLogged = false, this.gameCode = 'vocab_race', this.gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.getGameConfig)('vocab_race'), // Leaf path (detected from track texture)\n        this.leafPath = [], // Fallback zig-zag config\n        this.leafStartY = 940, this.leafStepY = 140, this.leafSideOffset = 180;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9nYW1lL3NjZW5lcy9HYW1lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBdUM7QUFDUjtBQUM0QjtBQUVJO0FBQ25CO0FBRXJDLE1BQU1NLGFBQWFMLHlDQUFLQTtJQTZFM0JNLEtBQU1DLElBQW1KLEVBQ3pKO1lBQ29DQTtRQUFoQyxJQUFJLENBQUNDLFFBQVEsR0FBR0wsNERBQWVBLENBQUNJLENBQUFBLGlCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1DLFFBQVEsY0FBZEQsNEJBQUFBLGlCQUFtQixJQUFJLENBQUNFLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDO1FBQ3JFLElBQUksQ0FBQ0QsUUFBUSxDQUFDRSxHQUFHLENBQUMsWUFBWSxJQUFJLENBQUNILFFBQVE7UUFDM0MsSUFBSSxDQUFDSSxVQUFVLEdBQUdWLDBEQUFhQSxDQUFDLElBQUksQ0FBQ00sUUFBUTtZQUM1QkQ7UUFBakIsSUFBSSxDQUFDTSxTQUFTLEdBQUdOLENBQUFBLGtCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1NLFNBQVMsY0FBZk4sNkJBQUFBLGtCQUFtQjtZQUNmQTtRQUFyQixJQUFJLENBQUNPLGFBQWEsR0FBR1AsQ0FBQUEsZUFBQUEsaUJBQUFBLDJCQUFBQSxLQUFNUSxNQUFNLGNBQVpSLDBCQUFBQSxlQUFnQjtZQUNiQTtRQUF4QixJQUFJLENBQUNTLGdCQUFnQixHQUFHVCxDQUFBQSxrQkFBQUEsaUJBQUFBLDJCQUFBQSxLQUFNVSxTQUFTLGNBQWZWLDZCQUFBQSxrQkFBbUI7WUFDbkJBO1FBQXhCLElBQUksQ0FBQ1csZ0JBQWdCLEdBQUdYLENBQUFBLGtCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1ZLFNBQVMsY0FBZlosNkJBQUFBLGtCQUFtQjtJQUMvQztJQUVBYSxTQUNBO1FBQ0ksTUFBTSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQ0MsS0FBSztRQUNwQyxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJ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TXNDLEVBQVUsRUFBaUI7UUFDckMsT0FBTyxJQUFJOEcsUUFBUSxDQUFDQztZQUNoQixJQUFJLENBQUNuSixJQUFJLENBQUNDLFdBQVcsQ0FBQ21DLElBQUksSUFBTStHO1FBQ3BDO0lBQ0o7SUFuMUNBQyxhQUNBO1FBQ0ksS0FBSyxDQUFDLGNBbkRWbEwsaUJBQXlCLFFBQ3pCRCxrQkFBMEIsUUFDMUJELFVBQWtCLFFBQ2xCcUwsa0JBQTBCLFNBRzFCSixvQkFBa0QsYUFHbEQvTyxvQkFBb0QsRUFBRSxPQUN0RC9DLFdBQW9CLFlBQ3BCbUQsYUFBc0IsWUFDdEJtRSxtQkFBMkIsUUFHM0JySCxpQkFBMEIsWUFNMUJnSCxnQkFBeUIsWUFFekJELFdBQW9CLFlBR3BCN0wsY0FBc0IsYUFDdEJtUCxpQkFBeUIsS0FFekIsYUFBYTthQUNid0MsUUFBZ0IsUUFDaEJ0UyxtQkFBMkIsUUFDM0JqQyxZQUEyQixXQUMzQkMsZ0JBQStCLFdBQy9CRSxtQkFBMEMsV0FDMUNFLG1CQUFrQyxXQUNsQ3VRLHVCQUFnQyxZQUNoQ2pSLFdBQW1CLG1CQUNuQkksYUFBYVYsMERBQWFBLENBQUMsZUFFM0IsMENBQTBDO2FBQ2xDcUMsV0FBa0MsRUFBRSxFQUU1QywwQkFBMEI7YUFDVDhULGFBQWEsVUFDYkMsWUFBWSxVQUNaQyxpQkFBaUI7SUFNbEM7QUFpMUNKIiwic291cmNlcyI6WyIvVXNlcnMvbmIyMzA2MDEvRG9jdW1lbnRzL3BoYXNlci1nYW1lZGV2L3NyYy9nYW1lL3NjZW5lcy9HYW1lLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnLi4vRXZlbnRCdXMnO1xuaW1wb3J0IHsgU2NlbmUgfSBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgRW1vdGVDaGFyYWN0ZXIgfSBmcm9tICcuLi9vYmplY3RzL0Vtb3RlQ2hhcmFjdGVyJztcbmltcG9ydCB0eXBlIHsgR2FtZVF1ZXN0aW9uIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYXBpJztcbmltcG9ydCB7IGdldEdhbWVDb25maWcsIHJlc29sdmVHYW1lQ29kZSB9IGZyb20gJy4uL2dhbWVDb25maWcnO1xuaW1wb3J0IHsgUXVpelBhbmVsIH0gZnJvbSAnLi4vdWkvUXVpelBhbmVsJztcblxuZXhwb3J0IGNsYXNzIEdhbWUgZXh0ZW5kcyBTY2VuZVxue1xuICAgIGNhbWVyYTogUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5DYW1lcmE7XG4gICAgdHJhY2tJbWFnZSE6IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICBwbGF5ZXIhOiBFbW90ZUNoYXJhY3RlcjtcbiAgICBwYXJhbGxheExheWVyczogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlW107XG4gICAgdWlSb290ITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICB1aUNhbWVyYSE6IFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuQ2FtZXJhO1xuICAgIHRpbWVyT3ZlcmxheSE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgaHVkQmFja0J1dHRvbiE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgaHVkUG9pbnRzUGlsbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgaHVkVGltZXJQaWxsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRIZWFydHNQaWxsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcblxuICAgIC8vIFVJXG4gICAganVtcEJ1dHRvbjogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBqdW1wQnV0dG9uQmchOiBQaGFzZXIuR2FtZU9iamVjdHMuUmVjdGFuZ2xlO1xuICAgIHNjb3JlVGV4dDogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgcXVpek1vZGFsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBxdWl6UGFuZWxDb250YWluZXIhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHF1aXpQYW5lbFNoYWRvdyE6IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljcztcbiAgICBxdWl6UGFuZWxCZyE6IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljcztcbiAgICBxdWl6UGFuZWxHbG93ITogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xuICAgIHF1aXpQYW5lbFdpZHRoOiBudW1iZXIgPSAwO1xuICAgIHF1aXpQYW5lbEhlaWdodDogbnVtYmVyID0gMDtcbiAgICB1aVNjYWxlOiBudW1iZXIgPSAxO1xuICAgIHNhZmVJbnNldEJvdHRvbTogbnVtYmVyID0gMTY7XG4gICAgcXVpekZlZWRiYWNrVGl0bGVUZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgcXVpekZlZWRiYWNrU3VidGl0bGVUZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgcXVpekZlZWRiYWNrU3RhdGU6ICdpZGxlJyB8ICdjb3JyZWN0JyB8ICd3cm9uZycgPSAnaWRsZSc7XG4gICAgcXVpelF1ZXN0aW9uVGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICAgIHF1aXpJbmRleFRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBxdWl6T3B0aW9uQnV0dG9uczogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcltdID0gW107XG4gICAgcXVpek9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBxdWl6TG9ja2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgcXVpekN1cnJlbnRJbmRleDogbnVtYmVyID0gMDtcbiAgICBxdWl6UGFuZWwhOiBRdWl6UGFuZWw7XG4gICAgc3RhcnRNb2RhbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgc3RhcnRNb2RhbE9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBlbmRNb2RhbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgZW5kTW9kYWxTY29yZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBlbmRNb2RhbFRpbWVUZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgY29uZmV0dGlFbWl0dGVyPzogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXI7XG4gICAgY29uZmV0dGlCdXJzdEV2ZW50PzogUGhhc2VyLlRpbWUuVGltZXJFdmVudDtcbiAgICBnYW1lQ29tcGxldGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgdGltZVVwTW9kYWwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIGdhbWVPdmVyOiBib29sZWFuID0gZmFsc2U7XG4gICAgdGltZXJUZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgdGltZXJFdmVudCE6IFBoYXNlci5UaW1lLlRpbWVyRXZlbnQ7XG4gICAgdG90YWxUaW1lTXM6IG51bWJlciA9IDE4MDAwMDtcbiAgICBqdW1wRHVyYXRpb25NczogbnVtYmVyID0gOTAwO1xuXG4gICAgLy8gR2FtZSBTdGF0ZVxuICAgIHNjb3JlOiBudW1iZXIgPSAwO1xuICAgIGN1cnJlbnRMZWFmSW5kZXg6IG51bWJlciA9IDA7XG4gICAgc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBzZXNzaW9uR2FtZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBzZXNzaW9uUXVlc3Rpb25zOiBHYW1lUXVlc3Rpb25bXSB8IG51bGwgPSBudWxsO1xuICAgIHNlc3Npb25UaW1lTGltaXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIHF1ZXN0aW9uU291cmNlTG9nZ2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgZ2FtZUNvZGU6IHN0cmluZyA9ICd2b2NhYl9yYWNlJztcbiAgICBnYW1lQ29uZmlnID0gZ2V0R2FtZUNvbmZpZygndm9jYWJfcmFjZScpO1xuXG4gICAgLy8gTGVhZiBwYXRoIChkZXRlY3RlZCBmcm9tIHRyYWNrIHRleHR1cmUpXG4gICAgcHJpdmF0ZSBsZWFmUGF0aDogUGhhc2VyLk1hdGguVmVjdG9yMltdID0gW107XG5cbiAgICAvLyBGYWxsYmFjayB6aWctemFnIGNvbmZpZ1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGVhZlN0YXJ0WSA9IDk0MDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxlYWZTdGVwWSA9IDE0MDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxlYWZTaWRlT2Zmc2V0ID0gMTgwO1xuXG4gICAgXG4gICAgY29uc3RydWN0b3IgKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCdHYW1lJyk7XG4gICAgfVxuXG4gICAgaW5pdCAoZGF0YTogeyBnYW1lQ29kZT86IHN0cmluZyB8IG51bGw7IHNlc3Npb25JZD86IHN0cmluZyB8IG51bGw7IGdhbWVJZD86IHN0cmluZyB8IG51bGw7IHF1ZXN0aW9ucz86IEdhbWVRdWVzdGlvbltdIHwgbnVsbDsgdGltZUxpbWl0PzogbnVtYmVyIHwgbnVsbCB9KVxuICAgIHtcbiAgICAgICAgdGhpcy5nYW1lQ29kZSA9IHJlc29sdmVHYW1lQ29kZShkYXRhPy5nYW1lQ29kZSA/PyAodGhpcy5yZWdpc3RyeS5nZXQoJ2dhbWVDb2RlJykgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSk7XG4gICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdnYW1lQ29kZScsIHRoaXMuZ2FtZUNvZGUpO1xuICAgICAgICB0aGlzLmdhbWVDb25maWcgPSBnZXRHYW1lQ29uZmlnKHRoaXMuZ2FtZUNvZGUpO1xuICAgICAgICB0aGlzLnNlc3Npb25JZCA9IGRhdGE/LnNlc3Npb25JZCA/PyBudWxsO1xuICAgICAgICB0aGlzLnNlc3Npb25HYW1lSWQgPSBkYXRhPy5nYW1lSWQgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5zZXNzaW9uUXVlc3Rpb25zID0gZGF0YT8ucXVlc3Rpb25zID8/IG51bGw7XG4gICAgICAgIHRoaXMuc2Vzc2lvblRpbWVMaW1pdCA9IGRhdGE/LnRpbWVMaW1pdCA/PyBudWxsO1xuICAgIH1cblxuICAgIGNyZWF0ZSAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuY2FtZXJhcy5tYWluO1xuXG4gICAgICAgIC8vIFBhcmFsbGF4IGJhY2tncm91bmRcbiAgICAgICAgdGhpcy5jcmVhdGVQYXJhbGxheEJhY2tncm91bmQoKTtcblxuICAgICAgICAvLyBUcmFjayAoTGVhdmVzKSAtIFVzZSBiZy1tYWluIGFzIHRoZSBzY3JvbGxpbmcgbWFwXG4gICAgICAgIHRoaXMudHJhY2tJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgaGVpZ2h0LCB0aGlzLmdhbWVDb25maWcubWFwS2V5KS5zZXRPcmlnaW4oMC41LCAxKTtcbiAgICAgICAgY29uc3QgdHJhY2tTY2FsZSA9IHdpZHRoIC8gdGhpcy50cmFja0ltYWdlLndpZHRoO1xuICAgICAgICB0aGlzLnRyYWNrSW1hZ2Uuc2V0U2NhbGUodHJhY2tTY2FsZSk7XG5cbiAgICAgICAgY29uc3QgbWFwVG9wID0gdGhpcy50cmFja0ltYWdlLnkgLSB0aGlzLnRyYWNrSW1hZ2UuZGlzcGxheUhlaWdodDtcbiAgICAgICAgdGhpcy5jYW1lcmEuc2V0Qm91bmRzKDAsIG1hcFRvcCwgd2lkdGgsIHRoaXMudHJhY2tJbWFnZS5kaXNwbGF5SGVpZ2h0KTtcblxuICAgICAgICAvLyBCdWlsZCBsZWFmIHBhdGggYmFzZWQgb24gdGhlIG1hcCB0ZXh0dXJlXG4gICAgICAgIHRoaXMubGVhZlBhdGggPSB0aGlzLmdhbWVDb25maWcudXNlVGV4dHVyZVBhdGggPyB0aGlzLmJ1aWxkTGVhZlBhdGgodGhpcy5nYW1lQ29uZmlnLm1hcEtleSkgOiBbXTtcblxuICAgICAgICAvLyBQbGF5ZXIgU2V0dXAgLSBVc2luZyBFbW90ZUNoYXJhY3RlciAoaWRsZS9jb3JyZWN0L2luY29ycmVjdCBzdGF0ZXMpXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zID0gdGhpcy5nZXRMZWFmUG9zaXRpb24oMCk7XG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IEVtb3RlQ2hhcmFjdGVyKHRoaXMsIHN0YXJ0UG9zLngsIHN0YXJ0UG9zLnkpO1xuICAgICAgICB0aGlzLmN1cnJlbnRMZWFmSW5kZXggPSAwO1xuXG4gICAgICAgIGNvbnN0IG5leHRQb3MgPSB0aGlzLmdldExlYWZQb3NpdGlvbih0aGlzLmN1cnJlbnRMZWFmSW5kZXggKyAxKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZmxpcChuZXh0UG9zLnggPiBzdGFydFBvcy54KTtcblxuICAgICAgICAvLyBTdGFydCBpZGxlIGFuaW1hdGlvblxuICAgICAgICB0aGlzLnBsYXllci5wbGF5SWRsZSgpO1xuXG4gICAgICAgIC8vIEluaXRpYWwgQ2FtZXJhIFBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2FtZXJhLnNjcm9sbFkgPSBzdGFydFBvcy55IC0gOTAwO1xuXG4gICAgICAgIC8vIFVJIGNhbWVyYSAoZml4ZWQgc2NyZWVuLXNwYWNlKVxuICAgICAgICB0aGlzLnVpQ2FtZXJhID0gdGhpcy5jYW1lcmFzLmFkZCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy51aUNhbWVyYS5zZXRTY3JvbGwoMCwgMCk7XG4gICAgICAgIHRoaXMudWlDYW1lcmEuaWdub3JlKHRoaXMuY2hpbGRyZW4ubGlzdCk7XG5cbiAgICAgICAgLy8gVUlcbiAgICAgICAgdGhpcy5jcmVhdGVVSSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb25UaW1lTGltaXQgJiYgdGhpcy5zZXNzaW9uVGltZUxpbWl0ID4gMCkge1xuICAgICAgICAgICAgdGhpcy50b3RhbFRpbWVNcyA9IHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAqIDEwMDA7XG4gICAgICAgIH1cblxuICAgICAgICBFdmVudEJ1cy5lbWl0KCdjdXJyZW50LXNjZW5lLXJlYWR5JywgdGhpcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlUGFyYWxsYXhCYWNrZ3JvdW5kKCkge1xuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5nYW1lQ29uZmlnLmJhY2tncm91bmRDb2xvcik7XG4gICAgICAgIHRoaXMucGFyYWxsYXhMYXllcnMgPSBbXTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJhbGxheExheWVycz8ubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjcm9sbFkgPSB0aGlzLmNhbWVyYS5zY3JvbGxZO1xuXG4gICAgICAgIHRoaXMucGFyYWxsYXhMYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9IGxheWVyLmdldERhdGEoJ3Njcm9sbEZhY3RvcicpIGFzIG51bWJlcjtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VZID0gbGF5ZXIuZ2V0RGF0YSgnYmFzZVknKSBhcyBudW1iZXI7XG4gICAgICAgICAgICBsYXllci55ID0gYmFzZVkgKyBzY3JvbGxZICogZmFjdG9yO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVVSSgpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBcbiAgICAgICAgLy8gRml4ZWQgVUkgQ29udGFpbmVyXG4gICAgICAgIHRoaXMudWlSb290ID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgxMDApO1xuXG4gICAgICAgIC8vIFRpbWVyICsgU2NvcmUgSFVEXG4gICAgICAgIHRoaXMudGltZXJPdmVybGF5ID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMDAwKTtcblxuICAgICAgICAvLyBCYWNrIGJ1dHRvblxuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24gPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XG4gICAgICAgIGNvbnN0IGJhY2tCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGJhY2tCZy5maWxsU3R5bGUoMHhmZmZmZmYsIDAuOTUpO1xuICAgICAgICBiYWNrQmcuZmlsbFJvdW5kZWRSZWN0KC0yNCwgLTI0LCA0OCwgNDgsIDE0KTtcbiAgICAgICAgYmFja0JnLmxpbmVTdHlsZSgyLCAweDBlYTVlOSwgMC4yKTtcbiAgICAgICAgYmFja0JnLnN0cm9rZVJvdW5kZWRSZWN0KC0yNCwgLTI0LCA0OCwgNDgsIDE0KTtcbiAgICAgICAgY29uc3QgYmFja0ljb24gPSB0aGlzLmFkZC50ZXh0KDAsIDEsICc8Jywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24uYWRkKFtiYWNrQmcsIGJhY2tJY29uXSk7XG4gICAgICAgIHRoaXMuaHVkQmFja0J1dHRvbi5zZXRTaXplKDQ4LCA0OCk7XG4gICAgICAgIHRoaXMuaHVkQmFja0J1dHRvbi5zZXRJbnRlcmFjdGl2ZShuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC0yNCwgLTI0LCA0OCwgNDgpLCBQaGFzZXIuR2VvbS5SZWN0YW5nbGUuQ29udGFpbnMpO1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5oYW5kbGVCYWNrVG9HYW1lTGlzdCgpKTtcbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHRoaXMuaW5wdXQuc2V0RGVmYXVsdEN1cnNvcigncG9pbnRlcicpKTtcbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5pbnB1dC5zZXREZWZhdWx0Q3Vyc29yKCdkZWZhdWx0JykpO1xuXG4gICAgICAgIC8vIFBvaW50cyBwaWxsXG4gICAgICAgIHRoaXMuaHVkUG9pbnRzUGlsbCA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgY29uc3QgcG9pbnRzQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBjb25zdCBwb2ludHNXID0gMTcwO1xuICAgICAgICBjb25zdCBwb2ludHNIID0gNDQ7XG4gICAgICAgIHBvaW50c0JnLmZpbGxTdHlsZSgweGUwZjJmZSwgMC45OCk7XG4gICAgICAgIHBvaW50c0JnLmZpbGxSb3VuZGVkUmVjdCgtcG9pbnRzVyAvIDIsIC1wb2ludHNIIC8gMiwgcG9pbnRzVywgcG9pbnRzSCwgMjIpO1xuICAgICAgICBwb2ludHNCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNyk7XG4gICAgICAgIHBvaW50c0JnLnN0cm9rZVJvdW5kZWRSZWN0KC1wb2ludHNXIC8gMiwgLXBvaW50c0ggLyAyLCBwb2ludHNXLCBwb2ludHNILCAyMik7XG4gICAgICAgIGNvbnN0IHN0YXIgPSB0aGlzLmFkZC5pbWFnZSgtcG9pbnRzVyAvIDIgKyAyNCwgMCwgJ3N0YXInKS5zZXRTY2FsZSgwLjMyKS5zZXRUaW50KDB4ZmJiZjI0KTtcbiAgICAgICAgdGhpcy5zY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KC1wb2ludHNXIC8gMiArIDQ2LCAwLCAnUE9JTlRTOiAwMCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMCwgMC41KTtcbiAgICAgICAgdGhpcy5odWRQb2ludHNQaWxsLmFkZChbcG9pbnRzQmcsIHN0YXIsIHRoaXMuc2NvcmVUZXh0XSk7XG5cbiAgICAgICAgLy8gVGltZXIgcGlsbFxuICAgICAgICB0aGlzLmh1ZFRpbWVyUGlsbCA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgY29uc3QgdGltZXJCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IHRpbWVyVyA9IDEwMDtcbiAgICAgICAgY29uc3QgdGltZXJIID0gNDA7XG4gICAgICAgIHRpbWVyQmcuZmlsbFN0eWxlKDB4ZGJlYWZlLCAwLjk4KTtcbiAgICAgICAgdGltZXJCZy5maWxsUm91bmRlZFJlY3QoLXRpbWVyVyAvIDIsIC10aW1lckggLyAyLCB0aW1lclcsIHRpbWVySCwgMjApO1xuICAgICAgICB0aW1lckJnLmxpbmVTdHlsZSgyLCAweDYwYTVmYSwgMC42KTtcbiAgICAgICAgdGltZXJCZy5zdHJva2VSb3VuZGVkUmVjdCgtdGltZXJXIC8gMiwgLXRpbWVySCAvIDIsIHRpbWVyVywgdGltZXJILCAyMCk7XG4gICAgICAgIHRoaXMudGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnMDM6MDAnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIHRoaXMuaHVkVGltZXJQaWxsLmFkZChbdGltZXJCZywgdGhpcy50aW1lclRleHRdKTtcblxuICAgICAgICAvLyBIZWFydHMgcGlsbFxuICAgICAgICB0aGlzLmh1ZEhlYXJ0c1BpbGwgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XG4gICAgICAgIGNvbnN0IGhlYXJ0c0JnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgaGVhcnRzVyA9IDkyO1xuICAgICAgICBjb25zdCBoZWFydHNIID0gMzY7XG4gICAgICAgIGhlYXJ0c0JnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC45OCk7XG4gICAgICAgIGhlYXJ0c0JnLmZpbGxSb3VuZGVkUmVjdCgtaGVhcnRzVyAvIDIsIC1oZWFydHNIIC8gMiwgaGVhcnRzVywgaGVhcnRzSCwgMTgpO1xuICAgICAgICBoZWFydHNCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuMzUpO1xuICAgICAgICBoZWFydHNCZy5zdHJva2VSb3VuZGVkUmVjdCgtaGVhcnRzVyAvIDIsIC1oZWFydHNIIC8gMiwgaGVhcnRzVywgaGVhcnRzSCwgMTgpO1xuICAgICAgICBjb25zdCBoZWFydHNUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAn4p2kIOKdpCDinaQnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2VmNDQ0NCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIHRoaXMuaHVkSGVhcnRzUGlsbC5hZGQoW2hlYXJ0c0JnLCBoZWFydHNUZXh0XSk7XG5cbiAgICAgICAgdGhpcy50aW1lck92ZXJsYXkuYWRkKFt0aGlzLmh1ZEJhY2tCdXR0b24sIHRoaXMuaHVkUG9pbnRzUGlsbCwgdGhpcy5odWRUaW1lclBpbGwsIHRoaXMuaHVkSGVhcnRzUGlsbF0pO1xuICAgICAgICB0aGlzLnVpUm9vdC5hZGQodGhpcy50aW1lck92ZXJsYXkpO1xuICAgICAgICB0aGlzLmxheW91dEh1ZCgpO1xuXG4gICAgICAgIC8vIEp1bXAgQnV0dG9uXG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbiA9IHRoaXMuY3JlYXRlSnVtcEJ1dHRvbih3aWR0aCAvIDIsIGhlaWdodCAtIDE1MCk7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgICAgIHRoaXMudWlSb290LmFkZCh0aGlzLmp1bXBCdXR0b24pO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBY3RpdmUoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBKdW1wSW5wdXQoKTtcblxuICAgICAgICAvLyBRdWl6IE1vZGFsIChVSSBvdmVybGF5KVxuICAgICAgICB0aGlzLmNyZWF0ZVF1aXpNb2RhbCgpO1xuICAgICAgICB0aGlzLnNjYWxlLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWl6TW9kYWwpIHRoaXMubGF5b3V0UXVpeigpO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRIdWQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3RhcnQgTW9kYWwgKGZpcnN0IHNjcmVlbilcbiAgICAgICAgdGhpcy5jcmVhdGVTdGFydE1vZGFsKCk7XG4gICAgICAgIHRoaXMub3BlblN0YXJ0TW9kYWwoKTtcblxuICAgICAgICAvLyBFbnN1cmUgb25seSBVSSBjYW1lcmEgcmVuZGVycyBVSVxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5pZ25vcmUoW3RoaXMudWlSb290LCB0aGlzLnRpbWVyT3ZlcmxheV0pO1xuXG4gICAgICAgIC8vIEVuZCBNb2RhbFxuICAgICAgICB0aGlzLmNyZWF0ZUVuZE1vZGFsKCk7XG5cbiAgICAgICAgLy8gVGltZSBVcCBNb2RhbFxuICAgICAgICB0aGlzLmNyZWF0ZVRpbWVVcE1vZGFsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXlvdXRIdWQoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5odWRCYWNrQnV0dG9uIHx8ICF0aGlzLmh1ZFBvaW50c1BpbGwgfHwgIXRoaXMuaHVkVGltZXJQaWxsIHx8ICF0aGlzLmh1ZEhlYXJ0c1BpbGwpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCB0b3BJbnNldCA9IE1hdGgubWF4KDIwLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuMDMpKTtcbiAgICAgICAgY29uc3Qgc2lkZUluc2V0ID0gTWF0aC5tYXgoMTYsIE1hdGgucm91bmQod2lkdGggKiAwLjA0NSkpO1xuICAgICAgICBjb25zdCBnYXAgPSAxMDtcbiAgICAgICAgY29uc3QgaGVhcnRzVyA9IDkyO1xuICAgICAgICBjb25zdCB0aW1lclcgPSAxMDA7XG5cbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLnNldFBvc2l0aW9uKHNpZGVJbnNldCArIDI0LCB0b3BJbnNldCArIDI0KTtcbiAgICAgICAgdGhpcy5odWRQb2ludHNQaWxsLnNldFBvc2l0aW9uKHdpZHRoIC8gMiwgdG9wSW5zZXQgKyAyNCk7XG5cbiAgICAgICAgY29uc3QgcmlnaHRFZGdlID0gd2lkdGggLSBzaWRlSW5zZXQ7XG4gICAgICAgIHRoaXMuaHVkSGVhcnRzUGlsbC5zZXRQb3NpdGlvbihyaWdodEVkZ2UgLSBoZWFydHNXIC8gMiwgdG9wSW5zZXQgKyAyNCk7XG4gICAgICAgIHRoaXMuaHVkVGltZXJQaWxsLnNldFBvc2l0aW9uKHJpZ2h0RWRnZSAtIGhlYXJ0c1cgLSBnYXAgLSB0aW1lclcgLyAyLCB0b3BJbnNldCArIDI0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUJhY2tUb0dhbWVMaXN0KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5xdWl6T3BlbiB8fCB0aGlzLnN0YXJ0TW9kYWxPcGVuKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgc2hvdWxkTGVhdmUgPSB3aW5kb3cuY29uZmlybSgnQuG6oW4gY8OzIGNo4bqvYyBtdeG7kW4gcXVheSBs4bqhaSBkYW5oIHPDoWNoIGdhbWUga2jDtG5nPycpO1xuICAgICAgICBpZiAoIXNob3VsZExlYXZlKSByZXR1cm47XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbignLycpO1xuICAgIH1cblxuICAgIGNyZWF0ZUp1bXBCdXR0b24oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHkpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IDMwMDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gMTAwO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHhmYmJmMjQpXG4gICAgICAgICAgICAuc2V0U3Ryb2tlU3R5bGUoNCwgMHhmZmZmZmYpXG4gICAgICAgICAgICAuc2V0RmlsbFN0eWxlKDB4MjJjNTVlKTtcbiAgICAgICAgICAgIFxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnTkVYVCBKVU1QIScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsIGZvbnRTaXplOiAnMzJweCcsIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbYmcsIHRleHRdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uQmcgPSBiZztcblxuICAgICAgICBjb25zdCBvblByZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucXVpek9wZW4gfHwgdGhpcy5zdGFydE1vZGFsT3BlbikgcmV0dXJuO1xuICAgICAgICAgICAgYmcuc2V0RmlsbFN0eWxlKDB4MTZhMzRhKTtcbiAgICAgICAgICAgIHRoaXMub3BlblF1aXpNb2RhbCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG9uUmVsZWFzZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGJnLnNldEZpbGxTdHlsZSgweDIyYzU1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29udGFpbmVyLnNldEludGVyYWN0aXZlKG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQpLCBQaGFzZXIuR2VvbS5SZWN0YW5nbGUuQ29udGFpbnMpO1xuXG4gICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcmRvd24nLCBvblByZXNzKTtcblxuICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJ1cCcsIG9uUmVsZWFzZSk7XG5cbiAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVyb3V0Jywgb25SZWxlYXNlKTtcblxuICAgICAgICAvLyBBZGQgc2ltcGxlIHB1bHNlIHR3ZWVuXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBjb250YWluZXIsXG4gICAgICAgICAgICBzY2FsZTogMS4wNSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAsXG4gICAgICAgICAgICB5b3lvOiB0cnVlLFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBKdW1wSW5wdXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW5wdXQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmlucHV0Lm1vdXNlKSB0aGlzLmlucHV0Lm1vdXNlLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuaW5wdXQub24oJ3BvaW50ZXJkb3duJywgKHBvaW50ZXI6IFBoYXNlci5JbnB1dC5Qb2ludGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWl6T3BlbiB8fCB0aGlzLnN0YXJ0TW9kYWxPcGVuKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmp1bXBCdXR0b24uZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICBpZiAoYm91bmRzLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuanVtcEJ1dHRvbkJnLnNldEZpbGxTdHlsZSgweDE2YTM0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuUXVpek1vZGFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaW5wdXQub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuanVtcEJ1dHRvbkJnLnNldEZpbGxTdHlsZSgweDIyYzU1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUXVpek1vZGFsKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnF1aXpQYW5lbCA9IG5ldyBRdWl6UGFuZWwodGhpcywgeyBvcHRpb25Db3VudDogNCwgZGVwdGg6IDIwMCwgcGFyZW50OiB0aGlzLnVpUm9vdCwgc2hvd0luZGV4OiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnF1aXpNb2RhbCA9IHRoaXMucXVpelBhbmVsLmNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWxDb250YWluZXIgPSB0aGlzLnF1aXpQYW5lbC5wYW5lbENvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWxTaGFkb3cgPSB0aGlzLnF1aXpQYW5lbC5wYW5lbFNoYWRvdztcbiAgICAgICAgdGhpcy5xdWl6UGFuZWxCZyA9IHRoaXMucXVpelBhbmVsLnBhbmVsQmc7XG4gICAgICAgIHRoaXMucXVpelBhbmVsR2xvdyA9IHRoaXMucXVpelBhbmVsLnBhbmVsR2xvdztcbiAgICAgICAgdGhpcy5xdWl6SW5kZXhUZXh0ID0gdGhpcy5xdWl6UGFuZWwuaW5kZXhUZXh0O1xuICAgICAgICB0aGlzLnF1aXpGZWVkYmFja1RpdGxlVGV4dCA9IHRoaXMucXVpelBhbmVsLmZlZWRiYWNrVGl0bGVUZXh0O1xuICAgICAgICB0aGlzLnF1aXpGZWVkYmFja1N1YnRpdGxlVGV4dCA9IHRoaXMucXVpelBhbmVsLmZlZWRiYWNrU3VidGl0bGVUZXh0O1xuICAgICAgICB0aGlzLnF1aXpRdWVzdGlvblRleHQgPSB0aGlzLnF1aXpQYW5lbC5xdWVzdGlvblRleHQ7XG4gICAgICAgIHRoaXMucXVpek9wdGlvbkJ1dHRvbnMgPSB0aGlzLnF1aXpQYW5lbC5vcHRpb25CdXR0b25zO1xuXG4gICAgICAgIHRoaXMucXVpelBhbmVsLm9uT3B0aW9uU2VsZWN0ZWQoKGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucXVpek9wZW4gfHwgdGhpcy5xdWl6TG9ja2VkKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVF1aXpBbnN3ZXIoaW5kZXgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmxheW91dFF1aXooKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVN0YXJ0TW9kYWwoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDIyMCk7XG5cbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDAwMDAwMCwgMC4xMilcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMCwgMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxXaWR0aCA9IE1hdGgubWluKDUyMCwgd2lkdGggLSA4MCk7XG4gICAgICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gMTYwO1xuICAgICAgICBjb25zdCBwYW5lbENvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih3aWR0aCAvIDIsIE1hdGgucm91bmQoaGVpZ2h0ICogMC41OCkpLnNldFNjcm9sbEZhY3RvcigwKTtcblxuICAgICAgICBjb25zdCBwYW5lbFNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxTdHlsZSgweDAwMDAwMCwgMC4xNSk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIgKyA2LCAtcGFuZWxIZWlnaHQgLyAyICsgMTAsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNik7XG5cbiAgICAgICAgY29uc3QgcGFuZWxCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjg1KTtcbiAgICAgICAgcGFuZWxCZy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjQpO1xuICAgICAgICBwYW5lbEJnLmxpbmVTdHlsZSgyLCAweDkzYzVmZCwgMC40NSk7XG4gICAgICAgIHBhbmVsQmcuc3Ryb2tlUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjQpO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5hZGQudGV4dCgwLCAtMjYsICdIZWxwIHRoZSByb2JvdCBjcm9zcyB0aGUgcml2ZXIuJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnLFxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IHBhbmVsV2lkdGggLSA2MCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5jcmVhdGVTdGFydEJ1dHRvbigwLCA0Mik7XG5cbiAgICAgICAgcGFuZWxDb250YWluZXIuYWRkKFtwYW5lbFNoYWRvdywgcGFuZWxCZywgdGl0bGUsIGJ1dHRvbl0pO1xuICAgICAgICBjb250YWluZXIuYWRkKFtvdmVybGF5LCBwYW5lbENvbnRhaW5lcl0pO1xuICAgICAgICBjb250YWluZXIuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5zdGFydE1vZGFsID0gY29udGFpbmVyO1xuICAgICAgICBpZiAodGhpcy51aVJvb3QpIHRoaXMudWlSb290LmFkZChjb250YWluZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRW5kTW9kYWwoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDIzMCk7XG5cbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDAwMDAwMCwgMC42KVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLCAwKTtcblxuICAgICAgICBjb25zdCBwYW5lbFdpZHRoID0gTWF0aC5taW4oNTIwLCB3aWR0aCAtIDgwKTtcbiAgICAgICAgY29uc3QgcGFuZWxIZWlnaHQgPSAyMjA7XG4gICAgICAgIGNvbnN0IHBhbmVsQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHdpZHRoIC8gMiwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjU2KSkuc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgICAgICBvdmVybGF5LnNldERlcHRoKDApO1xuICAgICAgICBwYW5lbENvbnRhaW5lci5zZXREZXB0aCgxKTtcblxuICAgICAgICBjb25zdCBibG9ja2VyID0gdGhpcy5hZGQuem9uZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5zZXRPcmlnaW4oMCwgMCk7XG4gICAgICAgIGJsb2NrZXIuc2V0SW50ZXJhY3RpdmUobmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSwgKHNoYXBlLCB4LCB5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYW5lbEJvdW5kcyA9IHBhbmVsQ29udGFpbmVyLmdldEJvdW5kcygpO1xuICAgICAgICAgICAgaWYgKFBoYXNlci5HZW9tLlJlY3RhbmdsZS5Db250YWlucyhwYW5lbEJvdW5kcywgeCwgeSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBQaGFzZXIuR2VvbS5SZWN0YW5nbGUuQ29udGFpbnMoc2hhcGUgYXMgUGhhc2VyLkdlb20uUmVjdGFuZ2xlLCB4LCB5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJsb2NrZXIub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge30pO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsU2hhZG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgcGFuZWxTaGFkb3cuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjE1KTtcbiAgICAgICAgcGFuZWxTaGFkb3cuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiArIDYsIC1wYW5lbEhlaWdodCAvIDIgKyAxMCwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI2KTtcblxuICAgICAgICBjb25zdCBwYW5lbEJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgcGFuZWxCZy5maWxsU3R5bGUoMHhmZmZmZmYsIDAuODUpO1xuICAgICAgICBwYW5lbEJnLmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIsIC1wYW5lbEhlaWdodCAvIDIsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNCk7XG4gICAgICAgIHBhbmVsQmcubGluZVN0eWxlKDIsIDB4OTNjNWZkLCAwLjQ1KTtcbiAgICAgICAgcGFuZWxCZy5zdHJva2VSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIsIC1wYW5lbEhlaWdodCAvIDIsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNCk7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLmFkZC50ZXh0KDAsIC02NCwgJ0NvbmdyYXR1bGF0aW9ucyEnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3Qgc3VidGl0bGUgPSB0aGlzLmFkZC50ZXh0KDAsIC0zNiwgJ1lvdSBjb21wbGV0ZWQgdGhlIHJ1bi4nLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYScsXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogcGFuZWxXaWR0aCAtIDYwLCB1c2VBZHZhbmNlZFdyYXA6IHRydWUgfVxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBzdGF0c0dhcCA9IDE2O1xuICAgICAgICBjb25zdCBjYXJkV2lkdGggPSBNYXRoLm1pbigyMDAsIE1hdGguZmxvb3IoKHBhbmVsV2lkdGggLSAxMjApIC8gMikpO1xuICAgICAgICBjb25zdCBjYXJkSGVpZ2h0ID0gNDY7XG4gICAgICAgIGNvbnN0IHN0YXRzWSA9IDYyO1xuXG4gICAgICAgIGNvbnN0IHNjb3JlQ2FyZCA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHNjb3JlQ2FyZC5maWxsU3R5bGUoMHg5M2M1ZmQsIDAuMTgpO1xuICAgICAgICBzY29yZUNhcmQuZmlsbFJvdW5kZWRSZWN0KC1jYXJkV2lkdGggLyAyLCAtY2FyZEhlaWdodCAvIDIsIGNhcmRXaWR0aCwgY2FyZEhlaWdodCwgMTYpO1xuICAgICAgICBzY29yZUNhcmQubGluZVN0eWxlKDIsIDB4OTNjNWZkLCAwLjQ1KTtcbiAgICAgICAgc2NvcmVDYXJkLnN0cm9rZVJvdW5kZWRSZWN0KC1jYXJkV2lkdGggLyAyLCAtY2FyZEhlaWdodCAvIDIsIGNhcmRXaWR0aCwgY2FyZEhlaWdodCwgMTYpO1xuXG4gICAgICAgIGNvbnN0IHRpbWVDYXJkID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgdGltZUNhcmQuZmlsbFN0eWxlKDB4OTNjNWZkLCAwLjE4KTtcbiAgICAgICAgdGltZUNhcmQuZmlsbFJvdW5kZWRSZWN0KC1jYXJkV2lkdGggLyAyLCAtY2FyZEhlaWdodCAvIDIsIGNhcmRXaWR0aCwgY2FyZEhlaWdodCwgMTYpO1xuICAgICAgICB0aW1lQ2FyZC5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNDUpO1xuICAgICAgICB0aW1lQ2FyZC5zdHJva2VSb3VuZGVkUmVjdCgtY2FyZFdpZHRoIC8gMiwgLWNhcmRIZWlnaHQgLyAyLCBjYXJkV2lkdGgsIGNhcmRIZWlnaHQsIDE2KTtcblxuICAgICAgICBjb25zdCBzY29yZUNhcmRDb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoLWNhcmRXaWR0aCAvIDIgLSBzdGF0c0dhcCAvIDIsIHN0YXRzWSwgW3Njb3JlQ2FyZF0pO1xuICAgICAgICBjb25zdCB0aW1lQ2FyZENvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcihjYXJkV2lkdGggLyAyICsgc3RhdHNHYXAgLyAyLCBzdGF0c1ksIFt0aW1lQ2FyZF0pO1xuXG4gICAgICAgIGNvbnN0IHNjb3JlTGFiZWwgPSB0aGlzLmFkZC50ZXh0KHNjb3JlQ2FyZENvbnRhaW5lci54LCBzdGF0c1kgLSAxNiwgJ1NDT1JFJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMxZTNhOGEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IHRpbWVMYWJlbCA9IHRoaXMuYWRkLnRleHQodGltZUNhcmRDb250YWluZXIueCwgc3RhdHNZIC0gMTYsICdUSU1FJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMxZTNhOGEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIHRoaXMuZW5kTW9kYWxTY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KHNjb3JlQ2FyZENvbnRhaW5lci54LCBzdGF0c1kgKyA2LCAnMCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICB0aGlzLmVuZE1vZGFsVGltZVRleHQgPSB0aGlzLmFkZC50ZXh0KHRpbWVDYXJkQ29udGFpbmVyLngsIHN0YXRzWSArIDYsICcwMDowMCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCByZXN0YXJ0QnV0dG9uID0gdGhpcy5jcmVhdGVFbmRSZXN0YXJ0QnV0dG9uKDAsIHBhbmVsSGVpZ2h0IC8gMiArIDU2KTtcbiAgICAgICAgcmVzdGFydEJ1dHRvbi5zZXREZXB0aCgyKTtcblxuICAgICAgICBwYW5lbENvbnRhaW5lci5hZGQoW1xuICAgICAgICAgICAgcGFuZWxTaGFkb3csXG4gICAgICAgICAgICBwYW5lbEJnLFxuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICBzdWJ0aXRsZSxcbiAgICAgICAgICAgIHNjb3JlQ2FyZENvbnRhaW5lcixcbiAgICAgICAgICAgIHRpbWVDYXJkQ29udGFpbmVyLFxuICAgICAgICAgICAgc2NvcmVMYWJlbCxcbiAgICAgICAgICAgIHRpbWVMYWJlbCxcbiAgICAgICAgICAgIHRoaXMuZW5kTW9kYWxTY29yZVRleHQsXG4gICAgICAgICAgICB0aGlzLmVuZE1vZGFsVGltZVRleHRcbiAgICAgICAgXSk7XG4gICAgICAgIHBhbmVsQ29udGFpbmVyLmFkZChyZXN0YXJ0QnV0dG9uKTtcblxuICAgICAgICBjb250YWluZXIuYWRkKFtvdmVybGF5LCBibG9ja2VyLCBwYW5lbENvbnRhaW5lcl0pO1xuICAgICAgICBjb250YWluZXIuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5lbmRNb2RhbCA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5lbmRNb2RhbC5zZXREYXRhKCdwYW5lbCcsIHBhbmVsQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5lbmRNb2RhbC5zZXREYXRhKCdvdmVybGF5Jywgb3ZlcmxheSk7XG4gICAgICAgIGlmICh0aGlzLnVpUm9vdCkgdGhpcy51aVJvb3QuYWRkKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgY3JlYXRlRW5kUmVzdGFydEJ1dHRvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSkuc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgICAgICBjb25zdCB3aWR0aCA9IDI2MDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gNTI7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IDIwO1xuXG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMik7XG4gICAgICAgIHNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiArIDQsIC1oZWlnaHQgLyAyICsgNiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IGRyYXcgPSAoZmlsbDogbnVtYmVyLCBzdHJva2U6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgYmcuY2xlYXIoKTtcbiAgICAgICAgICAgIGJnLmZpbGxTdHlsZShmaWxsLCAxKTtcbiAgICAgICAgICAgIGJnLmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgICAgIGJnLmxpbmVTdHlsZSgyLCBzdHJva2UsIDAuOCk7XG4gICAgICAgICAgICBiZy5zdHJva2VSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdQbGF5IEFnYWluJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweGZmZmZmZiwgMC4wMDEpO1xuICAgICAgICBoaXQuc2V0SW50ZXJhY3RpdmUoKTtcblxuICAgICAgICBjb250YWluZXIuYWRkKFtzaGFkb3csIGJnLCB0ZXh0LCBoaXRdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgyNTYzZWIsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDIsIGR1cmF0aW9uOiAxMjAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMSwgZHVyYXRpb246IDEyMCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDFkNGVkOCwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMC45OCwgZHVyYXRpb246IDgwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydFJ1bigpO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4MjU2M2ViLCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLjAyLCBkdXJhdGlvbjogODAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlVGltZVVwTW9kYWwoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDI0MCk7XG5cbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDAwMDAwMCwgMC4xMilcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMCwgMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxXaWR0aCA9IE1hdGgubWluKDUyMCwgd2lkdGggLSA4MCk7XG4gICAgICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gMTYwO1xuICAgICAgICBjb25zdCBwYW5lbENvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih3aWR0aCAvIDIsIE1hdGgucm91bmQoaGVpZ2h0ICogMC41NikpLnNldFNjcm9sbEZhY3RvcigwKTtcblxuICAgICAgICBjb25zdCBwYW5lbFNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxTdHlsZSgweDAwMDAwMCwgMC4xNSk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIgKyA2LCAtcGFuZWxIZWlnaHQgLyAyICsgMTAsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNik7XG5cbiAgICAgICAgY29uc3QgcGFuZWxCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjg1KTtcbiAgICAgICAgcGFuZWxCZy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjQpO1xuICAgICAgICBwYW5lbEJnLmxpbmVTdHlsZSgyLCAweDkzYzVmZCwgMC40NSk7XG4gICAgICAgIHBhbmVsQmcuc3Ryb2tlUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjQpO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5hZGQudGV4dCgwLCAtMjYsICdPdXQgb2YgdGltZSEgRmFpbGVkJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IHJlc3RhcnRCdXR0b24gPSB0aGlzLmNyZWF0ZVJlc3RhcnRCdXR0b24oMCwgNDIpO1xuXG4gICAgICAgIHBhbmVsQ29udGFpbmVyLmFkZChbcGFuZWxTaGFkb3csIHBhbmVsQmcsIHRpdGxlLCByZXN0YXJ0QnV0dG9uXSk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbb3ZlcmxheSwgcGFuZWxDb250YWluZXJdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwuc2V0RGF0YSgncGFuZWwnLCBwYW5lbENvbnRhaW5lcik7XG4gICAgICAgIGlmICh0aGlzLnVpUm9vdCkgdGhpcy51aVJvb3QuYWRkKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVSZXN0YXJ0QnV0dG9uKHg6IG51bWJlciwgeTogbnVtYmVyKTogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lciB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5KS5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gMjYwO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSA1MjtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gMjA7XG5cbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgc2hhZG93LmZpbGxTdHlsZSgweDAwMDAwMCwgMC4yKTtcbiAgICAgICAgc2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyICsgNCwgLWhlaWdodCAvIDIgKyA2LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgZHJhdyA9IChmaWxsOiBudW1iZXIsIHN0cm9rZTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBiZy5jbGVhcigpO1xuICAgICAgICAgICAgYmcuZmlsbFN0eWxlKGZpbGwsIDEpO1xuICAgICAgICAgICAgYmcuZmlsbFJvdW5kZWRSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICAgICAgYmcubGluZVN0eWxlKDIsIHN0cm9rZSwgMC44KTtcbiAgICAgICAgICAgIGJnLnN0cm9rZVJvdW5kZWRSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICB9O1xuICAgICAgICBkcmF3KDB4M2I4MmY2LCAweDkzYzVmZCk7XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ0NvbnRpbnVlJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweGZmZmZmZiwgMC4wMDEpO1xuICAgICAgICBoaXQuc2V0SW50ZXJhY3RpdmUoKTtcblxuICAgICAgICBjb250YWluZXIuYWRkKFtzaGFkb3csIGJnLCB0ZXh0LCBoaXRdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4MjU2M2ViLCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLjAyLCBkdXJhdGlvbjogMTIwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEsIGR1cmF0aW9uOiAxMjAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgxZDRlZDgsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDAuOTgsIGR1cmF0aW9uOiA4MCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgICAgICB0aGlzLnJlc3RhcnRSdW4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMS4wMiwgZHVyYXRpb246IDgwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVN0YXJ0QnV0dG9uKHg6IG51bWJlciwgeTogbnVtYmVyKTogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lciB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5KS5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gMjYwO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSA1MjtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gMjA7XG5cbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgc2hhZG93LmZpbGxTdHlsZSgweDAwMDAwMCwgMC4yKTtcbiAgICAgICAgc2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyICsgNCwgLWhlaWdodCAvIDIgKyA2LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgZHJhdyA9IChmaWxsOiBudW1iZXIsIHN0cm9rZTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBiZy5jbGVhcigpO1xuICAgICAgICAgICAgYmcuZmlsbFN0eWxlKGZpbGwsIDEpO1xuICAgICAgICAgICAgYmcuZmlsbFJvdW5kZWRSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICAgICAgYmcubGluZVN0eWxlKDIsIHN0cm9rZSwgMC44KTtcbiAgICAgICAgICAgIGJnLnN0cm9rZVJvdW5kZWRSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICB9O1xuICAgICAgICBkcmF3KDB4M2I4MmY2LCAweDkzYzVmZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ1N0YXJ0IEdhbWUnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLCBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IGhpdFBhZCA9IDE2O1xuICAgICAgICBjb25zdCBoaXRXID0gd2lkdGggKyBoaXRQYWQgKiAyO1xuICAgICAgICBjb25zdCBoaXRIID0gaGVpZ2h0ICsgaGl0UGFkICogMjtcbiAgICAgICAgY29uc3QgaGl0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIGhpdFcsIGhpdEgsIDB4ZmZmZmZmLCAwLjAwMSk7XG4gICAgICAgIGhpdC5zZXRJbnRlcmFjdGl2ZSgpO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQoW3NoYWRvdywgYmcsIHRleHQsIGhpdF0pO1xuICAgICAgICBjb250YWluZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBjb25zdCBvblByZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXJ0TW9kYWxPcGVuKSByZXR1cm47XG4gICAgICAgICAgICBkcmF3KDB4MWQ0ZWQ4LCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU3RhcnRNb2RhbCgpO1xuICAgICAgICAgICAgdGhpcy5vcGVuUXVpek1vZGFsKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgb25SZWxlYXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGhpdC5vbigncG9pbnRlcmRvd24nLCBvblByZXNzKTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVydXAnLCBvblJlbGVhc2UpO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJvdXQnLCBvblJlbGVhc2UpO1xuXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBjb250YWluZXIsXG4gICAgICAgICAgICBzY2FsZTogMS4wNSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAsXG4gICAgICAgICAgICB5b3lvOiB0cnVlLFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlblN0YXJ0TW9kYWwoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbE9wZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0QWxwaGEoMC40KTtcbiAgICAgICAgdGhpcy5zdG9wVGltZXIoKTtcblxuICAgICAgICB0aGlzLnN0YXJ0TW9kYWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsLnNldEFscGhhKDApO1xuXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnN0YXJ0TW9kYWwsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxODBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbG9zZVN0YXJ0TW9kYWwoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbE9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldEFscGhhKDEpO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0UXVlc3Rpb24oZGF0YTogeyBpbmRleDogbnVtYmVyOyB0b3RhbDogbnVtYmVyOyBxdWVzdGlvbjogc3RyaW5nOyBvcHRpb25zOiBzdHJpbmdbXSB9KTogdm9pZCB7XG4gICAgICAgIHRoaXMucXVpelBhbmVsLnNldEZlZWRiYWNrKCdpZGxlJyk7XG4gICAgICAgIHRoaXMucXVpelBhbmVsLnNldFF1ZXN0aW9uKGRhdGEpO1xuICAgICAgICB0aGlzLmxheW91dFF1aXooKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxheW91dFF1aXooKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5xdWl6UGFuZWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnF1aXpQYW5lbC5sYXlvdXQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMudWlTY2FsZSA9IHJlc3VsdC51aVNjYWxlO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbEhlaWdodCA9IHJlc3VsdC5wYW5lbEhlaWdodDtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWxXaWR0aCA9IHJlc3VsdC5wYW5lbFdpZHRoO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlblF1aXpNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU92ZXIpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZUNvbXBsZXRlZCkgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuaXNKdW1waW5nKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5xdWl6T3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0QWxwaGEoMC42KTtcblxuICAgICAgICBjb25zdCBxdWVzdGlvblBvb2wgPSB0aGlzLmdldFF1ZXN0aW9uUG9vbCgpO1xuICAgICAgICBjb25zdCBxdWVzdGlvbiA9IHF1ZXN0aW9uUG9vbFt0aGlzLnF1aXpDdXJyZW50SW5kZXggJSBxdWVzdGlvblBvb2wubGVuZ3RoXTtcbiAgICAgICAgdGhpcy5zZXRRdWVzdGlvbih7XG4gICAgICAgICAgICBpbmRleDogdGhpcy5xdWl6Q3VycmVudEluZGV4ICsgMSxcbiAgICAgICAgICAgIHRvdGFsOiBxdWVzdGlvblBvb2wubGVuZ3RoLFxuICAgICAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uLFxuICAgICAgICAgICAgb3B0aW9uczogcXVlc3Rpb24ub3B0aW9uc1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnF1aXpNb2RhbC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnF1aXpNb2RhbC5zZXRBbHBoYSgwKTtcbiAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLnF1aXpQYW5lbC5wYW5lbENvbnRhaW5lcjtcbiAgICAgICAgcGFuZWwuc2V0U2NhbGUoMC45Nik7XG4gICAgICAgIHBhbmVsLnkgKz0gMTg7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnF1aXpNb2RhbCxcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IDE4MFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHBhbmVsLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICB5OiBwYW5lbC55IC0gMTgsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjIwLFxuICAgICAgICAgICAgZWFzZTogJ0JhY2suZWFzZU91dCdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbG9zZVF1aXpNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5xdWl6T3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldEFscGhhKDEpO1xuICAgICAgICB0aGlzLnF1aXpNb2RhbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZVF1aXpBbnN3ZXIoaW5kZXg6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBxdWVzdGlvblBvb2wgPSB0aGlzLmdldFF1ZXN0aW9uUG9vbCgpO1xuICAgICAgICBjb25zdCBxdWVzdGlvbiA9IHF1ZXN0aW9uUG9vbFt0aGlzLnF1aXpDdXJyZW50SW5kZXggJSBxdWVzdGlvblBvb2wubGVuZ3RoXTtcbiAgICAgICAgbGV0IGlzQ29ycmVjdCA9IGluZGV4ID09PSBxdWVzdGlvbi5jb3JyZWN0SW5kZXg7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25JZCA9IHF1ZXN0aW9uLm9wdGlvbklkc1tpbmRleF07XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb25JZCAmJiBxdWVzdGlvbi5zZXNzaW9uUXVlc3Rpb25JZCAmJiBzZWxlY3RlZE9wdGlvbklkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3VibWl0QW5zd2VyIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3NlcnZpY2VzL2FwaScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHN1Ym1pdEFuc3dlcihcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uLnNlc3Npb25RdWVzdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICB7IGZvcmNlUmVhbDogdGhpcy5nYW1lQ29kZSA9PT0gJ3ZvY2FiX3JhY2UnIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlzQ29ycmVjdCA9IHJlcy5kYXRhLmlzX2NvcnJlY3Q7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3N1Ym1pdEFuc3dlciBmYWlsZWQsIGZhbGxiYWNrIHRvIGxvY2FsIGNoZWNrJywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy5xdWl6T3B0aW9uQnV0dG9uc1tpbmRleF07XG4gICAgICAgIGNvbnN0IHJlZHJhdyA9IGJ0bi5nZXREYXRhKCdyZWRyYXcnKSBhcyAoc3RhdGU6ICdub3JtYWwnIHwgJ2NvcnJlY3QnIHwgJ3dyb25nJykgPT4gdm9pZDtcblxuICAgICAgICBpZiAoaXNDb3JyZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmVkcmF3KCdjb3JyZWN0Jyk7XG4gICAgICAgICAgICB0aGlzLnNldFF1aXpGZWVkYmFjaygnY29ycmVjdCcpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTY29yZSgxKTtcbiAgICAgICAgICAgIHRoaXMuc3BlZWRVcEp1bXAoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVsYXkoNDAwKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VRdWl6TW9kYWwoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlSnVtcCgpO1xuICAgICAgICAgICAgdGhpcy5xdWl6Q3VycmVudEluZGV4ICs9IDE7XG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjUwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuUXVpek1vZGFsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucXVpekxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICByZWRyYXcoJ3dyb25nJyk7XG4gICAgICAgICAgICB0aGlzLnNldFF1aXpGZWVkYmFjaygnd3JvbmcnKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2NvcmUoLTEpO1xuICAgICAgICAgICAgdGhpcy5zaG93UGxheWVyU3RhdGUoJ2luY29ycmVjdCcpO1xuICAgICAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLnF1aXpQYW5lbC5wYW5lbENvbnRhaW5lcjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0WCA9IHBhbmVsLng7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgICAgIHRhcmdldHM6IHBhbmVsLFxuICAgICAgICAgICAgICAgIHg6IHN0YXJ0WCArIDEwLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA2MCxcbiAgICAgICAgICAgICAgICB5b3lvOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlcGVhdDogMyxcbiAgICAgICAgICAgICAgICBlYXNlOiAnU2luZS5lYXNlSW5PdXQnLFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwueCA9IHN0YXJ0WDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJlZHJhdygnbm9ybWFsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFF1ZXN0aW9uUG9vbCgpIHtcbiAgICAgICAgY29uc3QgYXBpUXVlc3Rpb25zID0gdGhpcy5zZXNzaW9uUXVlc3Rpb25zO1xuICAgICAgICBpZiAoYXBpUXVlc3Rpb25zPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5xdWVzdGlvblNvdXJjZUxvZ2dlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25Tb3VyY2VMb2dnZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbR0FNRV1bVE9XTl0gVXNpbmcgc2Vzc2lvbiBxdWVzdGlvbnMnLCB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVDb2RlOiB0aGlzLmdhbWVDb2RlLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogYXBpUXVlc3Rpb25zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlOiBhcGlRdWVzdGlvbnNbMF0/LnF1ZXN0aW9uPy5jb250ZW50ID8/IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcGlRdWVzdGlvbnMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGl0ZW0ucXVlc3Rpb24ub3B0aW9ucy5tYXAoKG9wdCkgPT4gb3B0LnRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbklkcyA9IGl0ZW0ucXVlc3Rpb24ub3B0aW9ucy5tYXAoKG9wdCkgPT4gb3B0LmlkID8/ICcnKTtcbiAgICAgICAgICAgICAgICBsZXQgY29ycmVjdEluZGV4ID0gaXRlbS5xdWVzdGlvbi5vcHRpb25zLmZpbmRJbmRleCgob3B0KSA9PiBvcHQuaXNfY29ycmVjdCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvcnJlY3RJbmRleCA8IDApIGNvcnJlY3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblF1ZXN0aW9uSWQ6IGl0ZW0uc2Vzc2lvbl9xdWVzdGlvbl9pZCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbjogaXRlbS5xdWVzdGlvbi5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25JZHMsXG4gICAgICAgICAgICAgICAgICAgIGNvcnJlY3RJbmRleFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5xdWVzdGlvblNvdXJjZUxvZ2dlZCkge1xuICAgICAgICAgICAgdGhpcy5xdWVzdGlvblNvdXJjZUxvZ2dlZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tHQU1FXVtUT1dOXSBVc2luZyBmYWxsYmFjayBsb2NhbCBxdWVzdGlvbnMnLCB7XG4gICAgICAgICAgICAgICAgZ2FtZUNvZGU6IHRoaXMuZ2FtZUNvZGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblF1ZXN0aW9uSWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgcXVlc3Rpb246ICdXaGF0IGlzIHRoZSBjYXBpdGFsIG9mIFZpZXRuYW0/JyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbJ0hhbm9pJywgJ0RhIE5hbmcnLCAnSGFpIFBob25nJywgJ0NhbiBUaG8nXSxcbiAgICAgICAgICAgICAgICBvcHRpb25JZHM6IFsnJywgJycsICcnLCAnJ10sXG4gICAgICAgICAgICAgICAgY29ycmVjdEluZGV4OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlc3Npb25RdWVzdGlvbklkOiBudWxsLFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uOiAnV2hpY2ggbGFuZ3VhZ2UgZG9lcyBQaGFzZXIgdXNlPycsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogWydUeXBlU2NyaXB0L0phdmFTY3JpcHQnLCAnQyMnLCAnUHl0aG9uJywgJ0dvJ10sXG4gICAgICAgICAgICAgICAgb3B0aW9uSWRzOiBbJycsICcnLCAnJywgJyddLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RJbmRleDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uUXVlc3Rpb25JZDogbnVsbCxcbiAgICAgICAgICAgICAgICBxdWVzdGlvbjogJ1doYXQgY29sb3IgYXJlIHRoZSBsZWF2ZXMgaW4gdGhlIGdhbWU/JyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbJ0dyZWVuJywgJ1JlZCcsICdQdXJwbGUnLCAnWWVsbG93J10sXG4gICAgICAgICAgICAgICAgb3B0aW9uSWRzOiBbJycsICcnLCAnJywgJyddLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RJbmRleDogMFxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZUp1bXAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5pc0p1bXBpbmcoKSkgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5nYW1lT3ZlcikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHRoaXMuY3VycmVudExlYWZJbmRleCArIDE7XG4gICAgICAgIGNvbnN0IG1heEluZGV4ID0gdGhpcy5sZWFmUGF0aC5sZW5ndGggPiAwID8gdGhpcy5sZWFmUGF0aC5sZW5ndGggLSAxIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gICAgICAgIGlmICh0aGlzLmxlYWZQYXRoLmxlbmd0aCA+IDAgJiYgbmV4dEluZGV4ID4gbWF4SW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXRQb3MgPSB0aGlzLmdldExlYWZQb3NpdGlvbihuZXh0SW5kZXgpO1xuXG4gICAgICAgIC8vIFN0b3AgaWRsZSBhbmltYXRpb24gZHVyaW5nIGp1bXBcbiAgICAgICAgdGhpcy5wbGF5ZXIuc3RvcElkbGUoKTtcblxuICAgICAgICAvLyBTY3JvbGwgQ2FtZXJhXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYSxcbiAgICAgICAgICAgIHNjcm9sbFk6IHRhcmdldFBvcy55IC0gODAwLFxuICAgICAgICAgICAgZHVyYXRpb246IDYwMCxcbiAgICAgICAgICAgIGVhc2U6ICdTaW5lLmVhc2VJbk91dCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUGVyZm9ybSBqdW1wIHVzaW5nIEVtb3RlQ2hhcmFjdGVyXG4gICAgICAgIGF3YWl0IHRoaXMucGxheWVyLmp1bXBUbyh0YXJnZXRQb3MueCwgdGFyZ2V0UG9zLnksIHRoaXMuanVtcER1cmF0aW9uTXMpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhZnRlciBqdW1wIGNvbXBsZXRlc1xuICAgICAgICB0aGlzLmN1cnJlbnRMZWFmSW5kZXggPSBuZXh0SW5kZXg7XG5cbiAgICAgICAgY29uc3QgbmV4dFBvcyA9IHRoaXMuZ2V0TGVhZlBvc2l0aW9uKHRoaXMuY3VycmVudExlYWZJbmRleCArIDEpO1xuICAgICAgICB0aGlzLnBsYXllci5mbGlwKG5leHRQb3MueCA+IHRhcmdldFBvcy54KTtcblxuICAgICAgICAvLyBTaG93IGNvcnJlY3Qgc3RhdGUgb24gbmV3IGxlYWYsIHRoZW4gcmVzdW1lIGlkbGVcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2hvd0NvcnJlY3QoODAwKTtcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDgwMCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucGxheUlkbGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMubGVhZlBhdGgubGVuZ3RoID4gMCAmJiB0aGlzLmN1cnJlbnRMZWFmSW5kZXggPj0gbWF4SW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZUNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0QWxwaGEoMC40KTtcbiAgICAgICAgICAgIHRoaXMucXVpek9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zdG9wVGltZXIoKTtcbiAgICAgICAgICAgIHRoaXMudGltZXJPdmVybGF5LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMudG90YWxUaW1lTXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTY29yZSgzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlRW5kVGltZVRleHQoKTtcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5FbmRNb2RhbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXJ0VGltZXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVyRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5yZW1vdmUoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b3RhbFRpbWVNcyA9IHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAmJiB0aGlzLnNlc3Npb25UaW1lTGltaXQgPiAwXG4gICAgICAgICAgICA/IHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAqIDEwMDBcbiAgICAgICAgICAgIDogMTgwMDAwO1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyVGV4dCh0aGlzLnRvdGFsVGltZU1zKTtcblxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgICAgICAgZGVsYXk6IDEwMDAsXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lQ29tcGxldGVkIHx8IHRoaXMuZ2FtZU92ZXIpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsVGltZU1zIC09IDEwMDA7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUaW1lclRleHQodGhpcy50b3RhbFRpbWVNcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG90YWxUaW1lTXMgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsVGltZU1zID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUaW1lclRleHQodGhpcy50b3RhbFRpbWVNcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVGltZVVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0b3BUaW1lcigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudGltZXJFdmVudCkge1xuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnJlbW92ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVRpbWVyVGV4dChtczogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHRvdGFsU2Vjb25kcyA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IobXMgLyAxMDAwKSk7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHRvdGFsU2Vjb25kcyAlIDYwO1xuICAgICAgICBjb25zdCBwYWQgPSAobjogbnVtYmVyKSA9PiAobiA8IDEwID8gYDAke259YCA6IGAke259YCk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBgJHttaW51dGVzfW0gJHtwYWQoc2Vjb25kcyl9c2A7XG4gICAgICAgIHRoaXMudGltZXJUZXh0LnNldFRleHQodGV4dCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVUaW1lVXAoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVPdmVyIHx8IHRoaXMuZ2FtZUNvbXBsZXRlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5xdWl6T3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldEFscGhhKDAuNCk7XG4gICAgICAgIHRoaXMuY2xvc2VRdWl6TW9kYWwoKTtcbiAgICAgICAgdGhpcy5vcGVuVGltZVVwTW9kYWwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5FbmRNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuZE1vZGFsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHBhbmVsID0gdGhpcy5lbmRNb2RhbC5nZXREYXRhKCdwYW5lbCcpIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmVuZE1vZGFsLmdldERhdGEoJ292ZXJsYXknKSBhcyBQaGFzZXIuR2FtZU9iamVjdHMuUmVjdGFuZ2xlIHwgdW5kZWZpbmVkO1xuICAgICAgICBwYW5lbC5zZXRTY2FsZSgwLjkpO1xuICAgICAgICBpZiAob3ZlcmxheSkgb3ZlcmxheS5zZXRBbHBoYSgwKTtcbiAgICAgICAgdGhpcy5lbmRNb2RhbC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLmVuZE1vZGFsLnNldEFscGhhKDEpO1xuICAgICAgICB0aGlzLmxhdW5jaENvbmZldHRpKCk7XG4gICAgICAgIHRoaXMuc3VibWl0U2Vzc2lvblJlc3VsdCgpO1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogb3ZlcmxheSxcbiAgICAgICAgICAgIGFscGhhOiAwLjYsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogcGFuZWwsXG4gICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyNjAsXG4gICAgICAgICAgICBlYXNlOiAnQmFjay5lYXNlT3V0J1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxhdW5jaENvbmZldHRpKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jb25mZXR0aUVtaXR0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50LnJlbW92ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpQnVyc3RFdmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIgPSB0aGlzLmFkZC5wYXJ0aWNsZXMoMCwgMCwgJ3RpbGUtZmxvd2VyJywge1xuICAgICAgICAgICAgc3BlZWQ6IHsgbWluOiA5MCwgbWF4OiAxNzAgfSxcbiAgICAgICAgICAgIGFuZ2xlOiB7IG1pbjogMCwgbWF4OiAzNjAgfSxcbiAgICAgICAgICAgIHJvdGF0ZTogeyBtaW46IC0yMjAsIG1heDogMjIwIH0sXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogMC4zMiwgZW5kOiAwLjEgfSxcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogMTQwMCwgbWF4OiAyMjAwIH0sXG4gICAgICAgICAgICBxdWFudGl0eTogMCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogLTEsXG4gICAgICAgICAgICBncmF2aXR5WTogMTYwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyLnNldFNjcm9sbEZhY3RvcigwKTtcbiAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIuc2V0RGVwdGgoMjEwMCk7XG4gICAgICAgIHRoaXMudWlSb290LmFkZCh0aGlzLmNvbmZldHRpRW1pdHRlcik7XG5cbiAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgICAgICAgZGVsYXk6IDkwMCxcbiAgICAgICAgICAgIHJlcGVhdDogMCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbmZldHRpRW1pdHRlcikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyLmV4cGxvZGUoMTgsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzNTAwLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlcj8uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpQnVyc3RFdmVudD8ucmVtb3ZlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5UaW1lVXBNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpbWVVcE1vZGFsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHBhbmVsID0gdGhpcy50aW1lVXBNb2RhbC5nZXREYXRhKCdwYW5lbCcpIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgICAgIHBhbmVsLnNldFNjYWxlKDAuOTYpO1xuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwuc2V0QWxwaGEoMCk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnRpbWVVcE1vZGFsLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogcGFuZWwsXG4gICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyNDAsXG4gICAgICAgICAgICBlYXNlOiAnQmFjay5lYXNlT3V0J1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsb3NlVGltZVVwTW9kYWwoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy50aW1lVXBNb2RhbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xvc2VFbmRNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuZE1vZGFsKSByZXR1cm47XG4gICAgICAgIHRoaXMuZW5kTW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMuZW5kTW9kYWwuc2V0QWxwaGEoMCk7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmVuZE1vZGFsLmdldERhdGEoJ292ZXJsYXknKSBhcyBQaGFzZXIuR2FtZU9iamVjdHMuUmVjdGFuZ2xlIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAob3ZlcmxheSkgb3ZlcmxheS5zZXRBbHBoYSgwKTtcbiAgICAgICAgaWYgKHRoaXMuY29uZmV0dGlFbWl0dGVyKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50LnJlbW92ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpQnVyc3RFdmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3VibWl0U2Vzc2lvblJlc3VsdCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb25HYW1lSWQpIHJldHVybjtcbiAgICAgICAgaW1wb3J0KCcuLi8uLi9zZXJ2aWNlcy9hcGknKVxuICAgICAgICAgICAgLnRoZW4oKHsgZW5kR2FtZVNlc3Npb24gfSkgPT5cbiAgICAgICAgICAgICAgICBlbmRHYW1lU2Vzc2lvbih0aGlzLnNlc3Npb25HYW1lSWQgYXMgc3RyaW5nLCB0aGlzLnNjb3JlLCB7XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlUmVhbDogdGhpcy5nYW1lQ29kZSA9PT0gJ3ZvY2FiX3JhY2UnXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZW5kR2FtZVNlc3Npb24gZmFpbGVkJywgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzdGFydFJ1bigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5nYW1lT3ZlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdhbWVDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6T3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6Q3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjb3JlID0gMDtcbiAgICAgICAgdGhpcy5zY29yZVRleHQuc2V0VGV4dCgnUE9JTlRTOiAwMCcpO1xuICAgICAgICB0aGlzLmp1bXBEdXJhdGlvbk1zID0gOTAwO1xuXG4gICAgICAgIHRoaXMuY2xvc2VUaW1lVXBNb2RhbCgpO1xuICAgICAgICB0aGlzLmNsb3NlUXVpek1vZGFsKCk7XG4gICAgICAgIHRoaXMuY2xvc2VFbmRNb2RhbCgpO1xuICAgICAgICBpZiAodGhpcy5zdGFydE1vZGFsKSB0aGlzLnN0YXJ0TW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRQb3MgPSB0aGlzLmdldExlYWZQb3NpdGlvbigwKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0UG9zaXRpb24oc3RhcnRQb3MueCwgc3RhcnRQb3MueSk7XG4gICAgICAgIHRoaXMucGxheWVyLnBsYXlJZGxlKCk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50TGVhZkluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgbmV4dFBvcyA9IHRoaXMuZ2V0TGVhZlBvc2l0aW9uKHRoaXMuY3VycmVudExlYWZJbmRleCArIDEpO1xuICAgICAgICB0aGlzLnBsYXllci5mbGlwKG5leHRQb3MueCA+IHN0YXJ0UG9zLngpO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhLnNjcm9sbFkgPSBzdGFydFBvcy55IC0gOTAwO1xuXG4gICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XG4gICAgICAgIHRoaXMudGltZXJPdmVybGF5LnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgxKTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XG4gICAgICAgIHRoaXMub3BlblF1aXpNb2RhbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlU2NvcmUoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnNjb3JlICs9IGRlbHRhO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBNYXRoLm1heCgwLCB0aGlzLnNjb3JlKTtcbiAgICAgICAgdGhpcy5zY29yZVRleHQuc2V0VGV4dChgUE9JTlRTOiAke3BvaW50cy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YCk7XG4gICAgICAgIGlmICh0aGlzLmVuZE1vZGFsU2NvcmVUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmVuZE1vZGFsU2NvcmVUZXh0LnNldFRleHQoYFNjb3JlOiAke3RoaXMuc2NvcmV9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUVuZFRpbWVUZXh0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW5kTW9kYWxUaW1lVGV4dCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBiYXNlTXMgPSB0aGlzLnNlc3Npb25UaW1lTGltaXQgJiYgdGhpcy5zZXNzaW9uVGltZUxpbWl0ID4gMFxuICAgICAgICAgICAgPyB0aGlzLnNlc3Npb25UaW1lTGltaXQgKiAxMDAwXG4gICAgICAgICAgICA6IDE4MDAwMDtcbiAgICAgICAgY29uc3QgZWxhcHNlZE1zID0gYmFzZU1zIC0gdGhpcy50b3RhbFRpbWVNcztcbiAgICAgICAgY29uc3QgdG90YWxTZWNvbmRzID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihlbGFwc2VkTXMgLyAxMDAwKSk7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHRvdGFsU2Vjb25kcyAlIDYwO1xuICAgICAgICBjb25zdCBwYWQgPSAobjogbnVtYmVyKSA9PiAobiA8IDEwID8gYDAke259YCA6IGAke259YCk7XG4gICAgICAgIHRoaXMuZW5kTW9kYWxUaW1lVGV4dC5zZXRUZXh0KGBUaW1lOiAke3BhZChtaW51dGVzKX06JHtwYWQoc2Vjb25kcyl9YCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcGVlZFVwSnVtcCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5qdW1wRHVyYXRpb25NcyA9IE1hdGgubWF4KDQ1MCwgdGhpcy5qdW1wRHVyYXRpb25NcyAtIDQwKTtcbiAgICB9XG5cbiAgICBnZXRMZWFmUG9zaXRpb24oaW5kZXg6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5sZWFmUGF0aC5sZW5ndGggPiAwICYmIHRoaXMudHJhY2tJbWFnZSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aExlbmd0aCA9IHRoaXMubGVhZlBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgcGF0aEluZGV4ID0gTWF0aC5taW4oaW5kZXgsIHBhdGhMZW5ndGggLSAxKTtcblxuICAgICAgICAgICAgY29uc3QgbGVhZiA9IHRoaXMubGVhZlBhdGhbcGF0aEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy50cmFja0ltYWdlLnNjYWxlWDtcbiAgICAgICAgICAgIGNvbnN0IG1hcExlZnQgPSB0aGlzLnRyYWNrSW1hZ2UueCAtIHRoaXMudHJhY2tJbWFnZS5kaXNwbGF5V2lkdGggLyAyO1xuICAgICAgICAgICAgY29uc3QgbWFwVG9wID0gdGhpcy50cmFja0ltYWdlLnkgLSB0aGlzLnRyYWNrSW1hZ2UuZGlzcGxheUhlaWdodDtcblxuICAgICAgICAgICAgY29uc3QgeCA9IG1hcExlZnQgKyAobGVhZi54ICogc2NhbGUpO1xuICAgICAgICAgICAgY29uc3QgeSA9IG1hcFRvcCArIChsZWFmLnkgKiBzY2FsZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB0aGlzLnNjYWxlLndpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgaXNMZWZ0ID0gaW5kZXggJSAyID09PSAwO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRqYWNlbnQgbGVhZiA9IGFsdGVybmF0ZSBsZWZ0L3JpZ2h0IHdpdGggYSBzbWFsbCB1cHdhcmQgc3RlcFxuICAgICAgICBjb25zdCB5ID0gdGhpcy5sZWFmU3RhcnRZIC0gKGluZGV4ICogdGhpcy5sZWFmU3RlcFkpO1xuICAgICAgICBjb25zdCB4ID0gaXNMZWZ0ID8gY2VudGVyWCAtIHRoaXMubGVhZlNpZGVPZmZzZXQgOiBjZW50ZXJYICsgdGhpcy5sZWFmU2lkZU9mZnNldDtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkTGVhZlBhdGgodGV4dHVyZUtleTogc3RyaW5nKTogUGhhc2VyLk1hdGguVmVjdG9yMltdIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMudGV4dHVyZXMuZ2V0KHRleHR1cmVLZXkpO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0ZXh0dXJlPy5nZXRTb3VyY2VJbWFnZSgpIGFzIEhUTUxJbWFnZUVsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoIXNvdXJjZSB8fCAhc291cmNlLndpZHRoIHx8ICFzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLnN5cy5nYW1lLmNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSBzb3VyY2Uud2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBzb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIWN0eCkgcmV0dXJuIFtdO1xuXG4gICAgICAgIGN0eC5kcmF3SW1hZ2Uoc291cmNlLCAwLCAwKTtcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuICAgICAgICBjb25zdCBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSBzb3VyY2Uud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHNvdXJjZS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHZpc2l0ZWQgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCk7XG4gICAgICAgIGNvbnN0IGNlbnRlcnM6IFBoYXNlci5NYXRoLlZlY3RvcjJbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGlzTGVhZlBpeGVsID0gKGlkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gZGF0YVtpZHhdIC8gMjU1O1xuICAgICAgICAgICAgY29uc3QgZyA9IGRhdGFbaWR4ICsgMV0gLyAyNTU7XG4gICAgICAgICAgICBjb25zdCBiID0gZGF0YVtpZHggKyAyXSAvIDI1NTtcblxuICAgICAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gbWF4IC0gbWluO1xuXG4gICAgICAgICAgICBpZiAoZGVsdGEgPT09IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgbGV0IGh1ZSA9IDA7XG4gICAgICAgICAgICBpZiAobWF4ID09PSByKSB7XG4gICAgICAgICAgICAgICAgaHVlID0gKChnIC0gYikgLyBkZWx0YSkgJSA2O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXggPT09IGcpIHtcbiAgICAgICAgICAgICAgICBodWUgPSAoYiAtIHIpIC8gZGVsdGEgKyAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBodWUgPSAociAtIGcpIC8gZGVsdGEgKyA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHVlID0gTWF0aC5yb3VuZChodWUgKiA2MCk7XG4gICAgICAgICAgICBpZiAoaHVlIDwgMCkgaHVlICs9IDM2MDtcblxuICAgICAgICAgICAgY29uc3Qgc2F0dXJhdGlvbiA9IG1heCA9PT0gMCA/IDAgOiBkZWx0YSAvIG1heDtcblxuICAgICAgICAgICAgY29uc3QgaXNHcmVlbkh1ZSA9IGh1ZSA+PSA3MCAmJiBodWUgPD0gMTUwO1xuICAgICAgICAgICAgY29uc3QgaXNTYXR1cmF0ZWQgPSBzYXR1cmF0aW9uID49IDAuMzU7XG5cbiAgICAgICAgICAgIHJldHVybiBpc0dyZWVuSHVlICYmIGlzU2F0dXJhdGVkO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG1pbkJsb2JTaXplID0gNDUwMDtcbiAgICAgICAgY29uc3Qgc3RhY2s6IG51bWJlcltdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB5ICogd2lkdGggKyB4O1xuICAgICAgICAgICAgICAgIGlmICh2aXNpdGVkW2luZGV4XSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSW5kZXggPSBpbmRleCAqIDQ7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0xlYWZQaXhlbChkYXRhSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbaW5kZXhdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHN1bVggPSAwO1xuICAgICAgICAgICAgICAgIGxldCBzdW1ZID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBtaW5YID0geDtcbiAgICAgICAgICAgICAgICBsZXQgbWF4WCA9IHg7XG4gICAgICAgICAgICAgICAgbGV0IG1pblkgPSB5O1xuICAgICAgICAgICAgICAgIGxldCBtYXhZID0geTtcblxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgIHZpc2l0ZWRbaW5kZXhdID0gMTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHN0YWNrLnBvcCgpIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3kgPSBNYXRoLmZsb29yKGN1cnJlbnQgLyB3aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN4ID0gY3VycmVudCAtIChjeSAqIHdpZHRoKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0YUluZGV4ID0gY3VycmVudCAqIDQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNMZWFmUGl4ZWwoY3VycmVudERhdGFJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc3VtWCArPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgc3VtWSArPSBjeTtcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN4IDwgbWluWCkgbWluWCA9IGN4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3ggPiBtYXhYKSBtYXhYID0gY3g7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjeSA8IG1pblkpIG1pblkgPSBjeTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN5ID4gbWF4WSkgbWF4WSA9IGN5O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBjdXJyZW50IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZFtsZWZ0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRJbmRleCA9IGxlZnQgKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xlYWZQaXhlbChsZWZ0SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbbGVmdF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGxlZnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbbGVmdF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCA8IHdpZHRoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBjdXJyZW50ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZFtyaWdodF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByaWdodEluZGV4ID0gcmlnaHQgKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xlYWZQaXhlbChyaWdodEluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW3JpZ2h0XSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbcmlnaHRdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3kgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cCA9IGN1cnJlbnQgLSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZFt1cF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cEluZGV4ID0gdXAgKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xlYWZQaXhlbCh1cEluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW3VwXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbdXBdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3kgPCBoZWlnaHQgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3duID0gY3VycmVudCArIHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpdGVkW2Rvd25dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG93bkluZGV4ID0gZG93biAqIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGVhZlBpeGVsKGRvd25JbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtkb3duXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goZG93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtkb3duXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID49IG1pbkJsb2JTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2JXaWR0aCA9IG1heFggLSBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iSGVpZ2h0ID0gbWF4WSAtIG1pblk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzcGVjdCA9IGJsb2JXaWR0aCAvIChibG9iSGVpZ2h0IHx8IDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9iV2lkdGggPj0gOTAgJiYgYmxvYkhlaWdodCA+PSA5MCAmJiBhc3BlY3QgPiAwLjYgJiYgYXNwZWN0IDwgMS43KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJzLnB1c2gobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoc3VtWCAvIGNvdW50LCBzdW1ZIC8gY291bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNlbnRlcnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZHkgPSBiLnkgLSBhLnk7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHkpID4gMikgcmV0dXJuIGR5O1xuICAgICAgICAgICAgcmV0dXJuIGEueCAtIGIueDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNlbnRlcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyBwbGF5ZXIgc3RhdGUgLSBjb3JyZWN0IG9yIGluY29ycmVjdFxuICAgICAqL1xuICAgIHNob3dQbGF5ZXJTdGF0ZShzdGF0ZTogJ2NvcnJlY3QnIHwgJ2luY29ycmVjdCcpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSAnY29ycmVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNob3dDb3JyZWN0KDgwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5zaG93SW5jb3JyZWN0KDgwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFF1aXpGZWVkYmFjayhzdGF0ZTogJ2lkbGUnIHwgJ2NvcnJlY3QnIHwgJ3dyb25nJyk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMucXVpelBhbmVsKSByZXR1cm47XG4gICAgICAgIHRoaXMucXVpelBhbmVsLnNldEZlZWRiYWNrKHN0YXRlKTtcbiAgICAgICAgdGhpcy5xdWl6RmVlZGJhY2tTdGF0ZSA9IHN0YXRlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVsYXkobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChtcywgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkV2ZW50QnVzIiwiU2NlbmUiLCJFbW90ZUNoYXJhY3RlciIsImdldEdhbWVDb25maWciLCJyZXNvbHZlR2FtZUNvZGUiLCJRdWl6UGFuZWwiLCJHYW1lIiwiaW5pdCIsImRhdGEiLCJnYW1lQ29kZSIsInJlZ2lzdHJ5IiwiZ2V0Iiwic2V0IiwiZ2FtZUNvbmZpZyIsInNlc3Npb25JZCIsInNlc3Npb25HYW1lSWQiLCJnYW1lSWQiLCJzZXNzaW9uUXVlc3Rpb25zIiwicXVlc3Rpb25zIiwic2Vzc2lvblRpbWVMaW1pdCIsInRpbWVMaW1pdCIsImNyZWF0ZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2NhbGUiLCJjYW1lcmEiLCJjYW1lcmFzIiwibWFpbiIsImNyZWF0ZVBhcmFsbGF4QmFja2dyb3VuZCIsInRyYWNrSW1hZ2UiLCJhZGQiLCJpbWFnZSIsIm1hcEtleSIsInNldE9yaWdpbiIsInRyYWNrU2NhbGUiLCJzZXRTY2FsZSIsIm1hcFRvcCIsInkiLCJkaXNwbGF5SGVpZ2h0Iiwic2V0Qm91bmRzIiwibGVhZlBhdGgiLCJ1c2VUZXh0dXJlUGF0aCIsImJ1aWxkTGVhZlBhdGgiLCJzdGFydFBvcyIsImdldExlYWZQb3NpdGlvbiIsInBsYXllciIsIngiLCJjdXJyZW50TGVhZkluZGV4IiwibmV4dFBvcyIsImZsaXAiLCJwbGF5SWRsZSIsInNjcm9sbFkiLCJ1aUNhbWVyYSIsInNldFNjcm9sbCIsImlnbm9yZSIsImNoaWxkcmVuIiwibGlzdCIsImNyZWF0ZVVJIiwidG90YWxUaW1lTXMiLCJlbWl0Iiwic2V0QmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwicGFyYWxsYXhMYXllcnMiLCJ1cGRhdGUiLCJsZW5ndGgiLCJmb3JFYWNoIiwibGF5ZXIiLCJmYWN0b3IiLCJnZXREYXRhIiwiYmFzZVkiLCJ1aVJvb3QiLCJjb250YWluZXIiLCJzZXRTY3JvbGxGYWN0b3IiLCJzZXREZXB0aCIsInRpbWVyT3ZlcmxheSIsImh1ZEJhY2tCdXR0b24iLCJiYWNrQmciLCJncmFwaGljcyIsImZpbGxTdHlsZSIsImZpbGxSb3VuZGVkUmVjdCIsImxpbmVTdHlsZSIsInN0cm9rZVJvdW5kZWRSZWN0IiwiYmFja0ljb24iLCJ0ZXh0IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiY29sb3IiLCJzZXRTaXplIiwic2V0SW50ZXJhY3RpdmUiLCJQaGFzZXIiLCJHZW9tIiwiUmVjdGFuZ2xlIiwiQ29udGFpbnMiLCJvbiIsImhhbmRsZUJhY2tUb0dhbWVMaXN0IiwiaW5wdXQiLCJzZXREZWZhdWx0Q3Vyc29yIiwiaHVkUG9pbnRzUGlsbCIsInBvaW50c0JnIiwicG9pbnRzVyIsInBvaW50c0giLCJzdGFyIiwic2V0VGludCIsInNjb3JlVGV4dCIsImh1ZFRpbWVyUGlsbCIsInRpbWVyQmciLCJ0aW1lclciLCJ0aW1lckgiLCJ0aW1lclRleHQiLCJodWRIZWFydHNQaWxsIiwiaGVhcnRzQmciLCJoZWFydHNXIiwiaGVhcnRzSCIsImhlYXJ0c1RleHQiLCJsYXlvdXRIdWQiLCJqdW1wQnV0dG9uIiwiY3JlYXRlSnVtcEJ1dHRvbiIsInNldFZpc2libGUiLCJzZXRBY3RpdmUiLCJzZXR1cEp1bXBJbnB1dCIsImNyZWF0ZVF1aXpNb2RhbCIsInF1aXpNb2RhbCIsImxheW91dFF1aXoiLCJjcmVhdGVTdGFydE1vZGFsIiwib3BlblN0YXJ0TW9kYWwiLCJjcmVhdGVFbmRNb2RhbCIsImNyZWF0ZVRpbWVVcE1vZGFsIiwidG9wSW5zZXQiLCJNYXRoIiwibWF4Iiwicm91bmQiLCJzaWRlSW5zZXQiLCJnYXAiLCJzZXRQb3NpdGlvbiIsInJpZ2h0RWRnZSIsInF1aXpPcGVuIiwic3RhcnRNb2RhbE9wZW4iLCJzaG91bGRMZWF2ZSIsIndpbmRvdyIsImNvbmZpcm0iLCJsb2NhdGlvbiIsImFzc2lnbiIsImJnIiwicmVjdGFuZ2xlIiwic2V0U3Ryb2tlU3R5bGUiLCJzZXRGaWxsU3R5bGUiLCJqdW1wQnV0dG9uQmciLCJvblByZXNzIiwib3BlblF1aXpNb2RhbCIsIm9uUmVsZWFzZSIsInR3ZWVucyIsInRhcmdldHMiLCJkdXJhdGlvbiIsInlveW8iLCJyZXBlYXQiLCJlbmFibGVkIiwibW91c2UiLCJwb2ludGVyIiwiYm91bmRzIiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJxdWl6UGFuZWwiLCJvcHRpb25Db3VudCIsImRlcHRoIiwicGFyZW50Iiwic2hvd0luZGV4IiwicXVpelBhbmVsQ29udGFpbmVyIiwicGFuZWxDb250YWluZXIiLCJxdWl6UGFuZWxTaGFkb3ciLCJwYW5lbFNoYWRvdyIsInF1aXpQYW5lbEJnIiwicGFuZWxCZyIsInF1aXpQYW5lbEdsb3ciLCJwYW5lbEdsb3ciLCJxdWl6SW5kZXhUZXh0IiwiaW5kZXhUZXh0IiwicXVpekZlZWRiYWNrVGl0bGVUZXh0IiwiZmVlZGJhY2tUaXRsZVRleHQiLCJxdWl6RmVlZGJhY2tTdWJ0aXRsZVRleHQiLCJmZWVkYmFja1N1YnRpdGxlVGV4dCIsInF1aXpRdWVzdGlvblRleHQiLCJxdWVzdGlvblRleHQiLCJxdWl6T3B0aW9uQnV0dG9ucyIsIm9wdGlvbkJ1dHRvbnMiLCJvbk9wdGlvblNlbGVjdGVkIiwiaW5kZXgiLCJxdWl6TG9ja2VkIiwiaGFuZGxlUXVpekFuc3dlciIsIm92ZXJsYXkiLCJwYW5lbFdpZHRoIiwibWluIiwicGFuZWxIZWlnaHQiLCJ0aXRsZSIsImFsaWduIiwid29yZFdyYXAiLCJ1c2VBZHZhbmNlZFdyYXAiLCJidXR0b24iLCJjcmVhdGVTdGFydEJ1dHRvbiIsInN0YXJ0TW9kYWwiLCJibG9ja2VyIiwiem9uZSIsInNoYXBlIiwicGFuZWxCb3VuZHMiLCJzdWJ0aXRsZSIsInN0YXRzR2FwIiwiY2FyZFdpZHRoIiwiZmxvb3IiLCJjYXJkSGVpZ2h0Iiwic3RhdHNZIiwic2NvcmVDYXJkIiwidGltZUNhcmQiLCJzY29yZUNhcmRDb250YWluZXIiLCJ0aW1lQ2FyZENvbnRhaW5lciIsInNjb3JlTGFiZWwiLCJ0aW1lTGFiZWwiLCJlbmRNb2RhbFNjb3JlVGV4dCIsImVuZE1vZGFsVGltZVRleHQiLCJyZXN0YXJ0QnV0dG9uIiwiY3JlYXRlRW5kUmVzdGFydEJ1dHRvbiIsImVuZE1vZGFsIiwic2V0RGF0YSIsInJhZGl1cyIsInNoYWRvdyIsImRyYXciLCJmaWxsIiwic3Ryb2tlIiwiY2xlYXIiLCJoaXQiLCJlYXNlIiwicmVzdGFydFJ1biIsImNyZWF0ZVJlc3RhcnRCdXR0b24iLCJ0aW1lVXBNb2RhbCIsImhpdFBhZCIsImhpdFciLCJoaXRIIiwiY2xvc2VTdGFydE1vZGFsIiwic2V0QWxwaGEiLCJzdG9wVGltZXIiLCJhbHBoYSIsInN0YXJ0VGltZXIiLCJzZXRRdWVzdGlvbiIsInNldEZlZWRiYWNrIiwicmVzdWx0IiwibGF5b3V0IiwidWlTY2FsZSIsInF1aXpQYW5lbEhlaWdodCIsInF1aXpQYW5lbFdpZHRoIiwiZ2FtZU92ZXIiLCJnYW1lQ29tcGxldGVkIiwiaXNKdW1waW5nIiwicXVlc3Rpb25Qb29sIiwiZ2V0UXVlc3Rpb25Qb29sIiwicXVlc3Rpb24iLCJxdWl6Q3VycmVudEluZGV4IiwidG90YWwiLCJvcHRpb25zIiwicGFuZWwiLCJjbG9zZVF1aXpNb2RhbCIsImlzQ29ycmVjdCIsImNvcnJlY3RJbmRleCIsInNlbGVjdGVkT3B0aW9uSWQiLCJvcHRpb25JZHMiLCJzZXNzaW9uUXVlc3Rpb25JZCIsInN1Ym1pdEFuc3dlciIsInJlcyIsImZvcmNlUmVhbCIsImlzX2NvcnJlY3QiLCJlcnJvciIsImNvbnNvbGUiLCJidG4iLCJyZWRyYXciLCJzZXRRdWl6RmVlZGJhY2siLCJ1cGRhdGVTY29yZSIsInNwZWVkVXBKdW1wIiwiZGVsYXkiLCJoYW5kbGVKdW1wIiwidGltZSIsImRlbGF5ZWRDYWxsIiwic2hvd1BsYXllclN0YXRlIiwic3RhcnRYIiwib25Db21wbGV0ZSIsImFwaVF1ZXN0aW9ucyIsInF1ZXN0aW9uU291cmNlTG9nZ2VkIiwibG9nIiwiY291bnQiLCJzYW1wbGUiLCJjb250ZW50IiwibWFwIiwiaXRlbSIsIm9wdCIsImlkIiwiZmluZEluZGV4Iiwic2Vzc2lvbl9xdWVzdGlvbl9pZCIsIndhcm4iLCJuZXh0SW5kZXgiLCJtYXhJbmRleCIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwidGFyZ2V0UG9zIiwic3RvcElkbGUiLCJqdW1wVG8iLCJqdW1wRHVyYXRpb25NcyIsInNob3dDb3JyZWN0IiwidXBkYXRlRW5kVGltZVRleHQiLCJvcGVuRW5kTW9kYWwiLCJ0aW1lckV2ZW50IiwicmVtb3ZlIiwidXBkYXRlVGltZXJUZXh0IiwiYWRkRXZlbnQiLCJsb29wIiwiY2FsbGJhY2siLCJoYW5kbGVUaW1lVXAiLCJtcyIsInRvdGFsU2Vjb25kcyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwicGFkIiwibiIsInNldFRleHQiLCJvcGVuVGltZVVwTW9kYWwiLCJsYXVuY2hDb25mZXR0aSIsInN1Ym1pdFNlc3Npb25SZXN1bHQiLCJjb25mZXR0aUVtaXR0ZXIiLCJkZXN0cm95IiwiY29uZmV0dGlCdXJzdEV2ZW50IiwidW5kZWZpbmVkIiwicGFydGljbGVzIiwic3BlZWQiLCJhbmdsZSIsInJvdGF0ZSIsInN0YXJ0IiwiZW5kIiwibGlmZXNwYW4iLCJxdWFudGl0eSIsImZyZXF1ZW5jeSIsImdyYXZpdHlZIiwiZXhwbG9kZSIsImNsb3NlVGltZVVwTW9kYWwiLCJjbG9zZUVuZE1vZGFsIiwidGhlbiIsImVuZEdhbWVTZXNzaW9uIiwic2NvcmUiLCJjYXRjaCIsImVyciIsImRlbHRhIiwicG9pbnRzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImJhc2VNcyIsImVsYXBzZWRNcyIsInBhdGhMZW5ndGgiLCJwYXRoSW5kZXgiLCJsZWFmIiwic2NhbGVYIiwibWFwTGVmdCIsImRpc3BsYXlXaWR0aCIsImNlbnRlclgiLCJpc0xlZnQiLCJsZWFmU3RhcnRZIiwibGVhZlN0ZXBZIiwibGVhZlNpZGVPZmZzZXQiLCJ0ZXh0dXJlS2V5IiwidGV4dHVyZSIsInRleHR1cmVzIiwic291cmNlIiwiZ2V0U291cmNlSW1hZ2UiLCJjYW52YXMiLCJzeXMiLCJnYW1lIiwib3duZXJEb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwidmlzaXRlZCIsIlVpbnQ4QXJyYXkiLCJjZW50ZXJzIiwiaXNMZWFmUGl4ZWwiLCJpZHgiLCJyIiwiZyIsImIiLCJodWUiLCJzYXR1cmF0aW9uIiwiaXNHcmVlbkh1ZSIsImlzU2F0dXJhdGVkIiwibWluQmxvYlNpemUiLCJzdGFjayIsImRhdGFJbmRleCIsInN1bVgiLCJzdW1ZIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsInB1c2giLCJjdXJyZW50IiwicG9wIiwiY3kiLCJjeCIsImN1cnJlbnREYXRhSW5kZXgiLCJsZWZ0IiwibGVmdEluZGV4IiwicmlnaHQiLCJyaWdodEluZGV4IiwidXAiLCJ1cEluZGV4IiwiZG93biIsImRvd25JbmRleCIsImJsb2JXaWR0aCIsImJsb2JIZWlnaHQiLCJhc3BlY3QiLCJWZWN0b3IyIiwic29ydCIsImEiLCJkeSIsImFicyIsInN0YXRlIiwic2hvd0luY29ycmVjdCIsInF1aXpGZWVkYmFja1N0YXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjb25zdHJ1Y3RvciIsInNhZmVJbnNldEJvdHRvbSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/game/scenes/Game.ts\n"));

/***/ })

});