"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_App_tsx",{

/***/ "(pages-dir-browser)/./src/game/scenes/Game.ts":
/*!*********************************!*\
  !*** ./src/game/scenes/Game.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Game: () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventBus */ \"(pages-dir-browser)/./src/game/EventBus.ts\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! phaser */ \"(pages-dir-browser)/./node_modules/phaser/dist/phaser.js\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _objects_EmoteCharacter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../objects/EmoteCharacter */ \"(pages-dir-browser)/./src/game/objects/EmoteCharacter.ts\");\n/* harmony import */ var _gameConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gameConfig */ \"(pages-dir-browser)/./src/game/gameConfig.ts\");\n/* harmony import */ var _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/QuizPanel */ \"(pages-dir-browser)/./src/game/ui/QuizPanel.ts\");\n\n\n\n\n\nclass Game extends phaser__WEBPACK_IMPORTED_MODULE_1__.Scene {\n    init(data) {\n        var _data_gameCode;\n        this.gameCode = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.resolveGameCode)((_data_gameCode = data === null || data === void 0 ? void 0 : data.gameCode) !== null && _data_gameCode !== void 0 ? _data_gameCode : this.registry.get('gameCode'));\n        this.registry.set('gameCode', this.gameCode);\n        this.gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.getGameConfig)(this.gameCode);\n        var _data_sessionId;\n        this.sessionId = (_data_sessionId = data === null || data === void 0 ? void 0 : data.sessionId) !== null && _data_sessionId !== void 0 ? _data_sessionId : null;\n        var _data_gameId;\n        this.sessionGameId = (_data_gameId = data === null || data === void 0 ? void 0 : data.gameId) !== null && _data_gameId !== void 0 ? _data_gameId : null;\n        var _data_questions;\n        this.sessionQuestions = (_data_questions = data === null || data === void 0 ? void 0 : data.questions) !== null && _data_questions !== void 0 ? _data_questions : null;\n        var _data_timeLimit;\n        this.sessionTimeLimit = (_data_timeLimit = data === null || data === void 0 ? void 0 : data.timeLimit) !== null && _data_timeLimit !== void 0 ? _data_timeLimit : null;\n    }\n    create() {\n        const { width, height } = this.scale;\n        this.camera = this.cameras.main;\n        // Parallax background\n        this.createParallaxBackground();\n        // Track (Leaves) - Use bg-main as the scrolling map\n        this.trackImage = this.add.image(width / 2, height, this.gameConfig.mapKey).setOrigin(0.5, 1);\n        const trackScale = width / this.trackImage.width;\n        this.trackImage.setScale(trackScale);\n        const mapTop = this.trackImage.y - this.trackImage.displayHeight;\n        this.camera.setBounds(0, mapTop, width, this.trackImage.displayHeight);\n        // Build leaf path based on the map texture\n        this.leafPath = this.gameConfig.useTexturePath ? this.buildLeafPath(this.gameConfig.mapKey) : [];\n        // Player Setup - Using EmoteCharacter (idle/correct/incorrect states)\n        const startPos = this.getLeafPosition(0);\n        this.player = new _objects_EmoteCharacter__WEBPACK_IMPORTED_MODULE_2__.EmoteCharacter(this, startPos.x, startPos.y);\n        this.currentLeafIndex = 0;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > startPos.x);\n        // Start idle animation\n        this.player.playIdle();\n        // Initial Camera Position\n        this.camera.scrollY = startPos.y - 900;\n        // UI camera (fixed screen-space)\n        this.uiCamera = this.cameras.add(0, 0, width, height);\n        this.uiCamera.setScroll(0, 0);\n        this.uiCamera.ignore(this.children.list);\n        // UI\n        this.createUI();\n        if (this.sessionTimeLimit && this.sessionTimeLimit > 0) {\n            this.totalTimeMs = this.sessionTimeLimit * 1000;\n        }\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit('current-scene-ready', this);\n    }\n    createParallaxBackground() {\n        this.cameras.main.setBackgroundColor(this.gameConfig.backgroundColor);\n        this.parallaxLayers = [];\n    }\n    update() {\n        var _this_parallaxLayers;\n        if (!((_this_parallaxLayers = this.parallaxLayers) === null || _this_parallaxLayers === void 0 ? void 0 : _this_parallaxLayers.length)) return;\n        const scrollY = this.camera.scrollY;\n        this.parallaxLayers.forEach((layer)=>{\n            const factor = layer.getData('scrollFactor');\n            const baseY = layer.getData('baseY');\n            layer.y = baseY + scrollY * factor;\n        });\n    }\n    createUI() {\n        const { width, height } = this.scale;\n        // Fixed UI Container\n        this.uiRoot = this.add.container(0, 0).setScrollFactor(0).setDepth(100);\n        // Timer + Score HUD\n        this.timerOverlay = this.add.container(0, 0).setScrollFactor(0).setDepth(2000);\n        // Back button\n        this.hudBackButton = this.add.container(0, 0);\n        const backBg = this.add.graphics();\n        backBg.fillStyle(0xffffff, 0.95);\n        backBg.fillRoundedRect(-24, -24, 48, 48, 14);\n        backBg.lineStyle(2, 0x0ea5e9, 0.2);\n        backBg.strokeRoundedRect(-24, -24, 48, 48, 14);\n        const backIcon = this.add.text(0, 1, '<', {\n            fontFamily: 'Arial Black',\n            fontSize: '28px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const backHit = this.add.zone(0, 0, 48, 48).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        });\n        backHit.on('pointerup', ()=>this.handleBackToGameList());\n        this.hudBackButton.add([\n            backBg,\n            backIcon\n        ]);\n        this.hudBackButton.setSize(48, 48);\n        this.hudBackButton.add(backHit);\n        // Points pill\n        this.hudPointsPill = this.add.container(0, 0);\n        const pointsBg = this.add.graphics();\n        const pointsW = 170;\n        const pointsH = 44;\n        pointsBg.fillStyle(0xe0f2fe, 0.98);\n        pointsBg.fillRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        pointsBg.lineStyle(2, 0x93c5fd, 0.7);\n        pointsBg.strokeRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        const star = this.add.image(-pointsW / 2 + 24, 0, 'star').setScale(0.32).setTint(0xfbbf24);\n        this.scoreText = this.add.text(-pointsW / 2 + 46, 0, 'POINTS: 00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0, 0.5);\n        this.hudPointsPill.add([\n            pointsBg,\n            star,\n            this.scoreText\n        ]);\n        // Timer pill\n        this.hudTimerPill = this.add.container(0, 0);\n        const timerBg = this.add.graphics();\n        const timerW = 100;\n        const timerH = 40;\n        timerBg.fillStyle(0xdbeafe, 0.98);\n        timerBg.fillRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        timerBg.lineStyle(2, 0x60a5fa, 0.6);\n        timerBg.strokeRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        this.timerText = this.add.text(0, 0, '03:00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.hudTimerPill.add([\n            timerBg,\n            this.timerText\n        ]);\n        // Hearts pill\n        this.hudHeartsPill = this.add.container(0, 0);\n        const heartsBg = this.add.graphics();\n        const heartsW = 92;\n        const heartsH = 36;\n        heartsBg.fillStyle(0xffffff, 0.98);\n        heartsBg.fillRoundedRect(-heartsW / 2, -heartsH / 2, heartsW, heartsH, 18);\n        heartsBg.lineStyle(2, 0x93c5fd, 0.35);\n        heartsBg.strokeRoundedRect(-heartsW / 2, -heartsH / 2, heartsW, heartsH, 18);\n        const heartsText = this.add.text(0, 0, '❤ ❤ ❤', {\n            fontFamily: 'Arial Black',\n            fontSize: '16px',\n            color: '#ef4444'\n        }).setOrigin(0.5);\n        this.hudHeartsPill.add([\n            heartsBg,\n            heartsText\n        ]);\n        this.timerOverlay.add([\n            this.hudBackButton,\n            this.hudPointsPill,\n            this.hudTimerPill,\n            this.hudHeartsPill\n        ]);\n        this.uiRoot.add(this.timerOverlay);\n        this.layoutHud();\n        // Jump Button\n        this.jumpButton = this.createJumpButton(width / 2, height - 150);\n        this.jumpButton.setScrollFactor(0);\n        this.uiRoot.add(this.jumpButton);\n        this.jumpButton.setVisible(false);\n        this.jumpButton.setActive(false);\n        this.setupJumpInput();\n        // Quiz Modal (UI overlay)\n        this.createQuizModal();\n        this.scale.on('resize', ()=>{\n            if (this.quizModal) this.layoutQuiz();\n            this.layoutHud();\n        });\n        // Start Modal (first screen)\n        this.createStartModal();\n        this.openStartModal();\n        // Ensure only UI camera renders UI\n        this.cameras.main.ignore([\n            this.uiRoot,\n            this.timerOverlay\n        ]);\n        // End Modal\n        this.createEndModal();\n        // Time Up Modal\n        this.createTimeUpModal();\n    }\n    layoutHud() {\n        if (!this.hudBackButton || !this.hudPointsPill || !this.hudTimerPill || !this.hudHeartsPill) return;\n        const { width, height } = this.scale;\n        const topInset = Math.max(20, Math.round(height * 0.03));\n        const sideInset = Math.max(16, Math.round(width * 0.045));\n        const gap = 10;\n        const heartsW = 92;\n        const timerW = 100;\n        this.hudBackButton.setPosition(sideInset + 24, topInset + 24);\n        this.hudPointsPill.setPosition(width / 2, topInset + 24);\n        const rightEdge = width - sideInset;\n        this.hudHeartsPill.setPosition(rightEdge - heartsW / 2, topInset + 24);\n        this.hudTimerPill.setPosition(rightEdge - heartsW - gap - timerW / 2, topInset + 24);\n    }\n    handleBackToGameList() {\n        const shouldLeave = window.confirm('Bạn có chắc muốn quay lại danh sách game không?');\n        if (!shouldLeave) return;\n        window.location.href = '/';\n    }\n    createJumpButton(x, y) {\n        const container = this.add.container(x, y);\n        const width = 300;\n        const height = 100;\n        const bg = this.add.rectangle(0, 0, width, height, 0xfbbf24).setStrokeStyle(4, 0xffffff).setFillStyle(0x22c55e);\n        const text = this.add.text(0, 0, 'NEXT JUMP!', {\n            fontFamily: 'Arial Black',\n            fontSize: '32px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        container.add([\n            bg,\n            text\n        ]);\n        container.setSize(width, height);\n        this.jumpButtonBg = bg;\n        const onPress = ()=>{\n            if (this.quizOpen || this.startModalOpen) return;\n            bg.setFillStyle(0x16a34a);\n            this.openQuizModal();\n        };\n        const onRelease = ()=>{\n            bg.setFillStyle(0x22c55e);\n        };\n        container.setInteractive(new Phaser.Geom.Rectangle(-width / 2, -height / 2, width, height), Phaser.Geom.Rectangle.Contains);\n        container.on('pointerdown', onPress);\n        container.on('pointerup', onRelease);\n        container.on('pointerout', onRelease);\n        // Add simple pulse tween\n        this.tweens.add({\n            targets: container,\n            scale: 1.05,\n            duration: 800,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    setupJumpInput() {\n        this.input.enabled = true;\n        if (this.input.mouse) this.input.mouse.enabled = true;\n        this.input.on('pointerdown', (pointer)=>{\n            if (this.quizOpen || this.startModalOpen) return;\n            const bounds = this.jumpButton.getBounds();\n            if (bounds.contains(pointer.x, pointer.y)) {\n                this.jumpButtonBg.setFillStyle(0x16a34a);\n                this.openQuizModal();\n            }\n        });\n        this.input.on('pointerup', ()=>{\n            this.jumpButtonBg.setFillStyle(0x22c55e);\n        });\n    }\n    createQuizModal() {\n        this.quizPanel = new _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_4__.QuizPanel(this, {\n            optionCount: 4,\n            depth: 200,\n            parent: this.uiRoot,\n            showIndex: true\n        });\n        this.quizModal = this.quizPanel.container;\n        this.quizPanelContainer = this.quizPanel.panelContainer;\n        this.quizPanelShadow = this.quizPanel.panelShadow;\n        this.quizPanelBg = this.quizPanel.panelBg;\n        this.quizPanelGlow = this.quizPanel.panelGlow;\n        this.quizIndexText = this.quizPanel.indexText;\n        this.quizFeedbackTitleText = this.quizPanel.feedbackTitleText;\n        this.quizFeedbackSubtitleText = this.quizPanel.feedbackSubtitleText;\n        this.quizQuestionText = this.quizPanel.questionText;\n        this.quizOptionButtons = this.quizPanel.optionButtons;\n        this.quizPanel.onOptionSelected((index)=>{\n            if (!this.quizOpen || this.quizLocked) return;\n            this.handleQuizAnswer(index);\n        });\n        this.layoutQuiz();\n    }\n    createStartModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(220);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.12).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 160;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.58)).setScrollFactor(0);\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -26, 'Help the robot cross the river.', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a',\n            align: 'center',\n            wordWrap: {\n                width: panelWidth - 60,\n                useAdvancedWrap: true\n            }\n        }).setOrigin(0.5);\n        const button = this.createStartButton(0, 42);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            button\n        ]);\n        container.add([\n            overlay,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.startModal = container;\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createEndModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(230);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.6).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 220;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.56)).setScrollFactor(0);\n        overlay.setDepth(0);\n        panelContainer.setDepth(1);\n        const blocker = this.add.zone(0, 0, width, height).setOrigin(0, 0);\n        blocker.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), (shape, x, y)=>{\n            const panelBounds = panelContainer.getBounds();\n            if (Phaser.Geom.Rectangle.Contains(panelBounds, x, y)) return false;\n            return Phaser.Geom.Rectangle.Contains(shape, x, y);\n        });\n        blocker.on('pointerdown', ()=>{});\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -64, 'Congratulations!', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const subtitle = this.add.text(0, -36, 'You completed the run.', {\n            fontFamily: 'Arial',\n            fontSize: '18px',\n            color: '#0f172a',\n            align: 'center',\n            wordWrap: {\n                width: panelWidth - 60,\n                useAdvancedWrap: true\n            }\n        }).setOrigin(0.5);\n        const statsGap = 16;\n        const cardWidth = Math.min(200, Math.floor((panelWidth - 120) / 2));\n        const cardHeight = 46;\n        const statsY = 62;\n        const scoreCard = this.add.graphics();\n        scoreCard.fillStyle(0x93c5fd, 0.18);\n        scoreCard.fillRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        scoreCard.lineStyle(2, 0x93c5fd, 0.45);\n        scoreCard.strokeRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        const timeCard = this.add.graphics();\n        timeCard.fillStyle(0x93c5fd, 0.18);\n        timeCard.fillRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        timeCard.lineStyle(2, 0x93c5fd, 0.45);\n        timeCard.strokeRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        const scoreCardContainer = this.add.container(-cardWidth / 2 - statsGap / 2, statsY, [\n            scoreCard\n        ]);\n        const timeCardContainer = this.add.container(cardWidth / 2 + statsGap / 2, statsY, [\n            timeCard\n        ]);\n        const scoreLabel = this.add.text(scoreCardContainer.x, statsY - 16, 'SCORE', {\n            fontFamily: 'Arial Black',\n            fontSize: '12px',\n            color: '#1e3a8a'\n        }).setOrigin(0.5);\n        const timeLabel = this.add.text(timeCardContainer.x, statsY - 16, 'TIME', {\n            fontFamily: 'Arial Black',\n            fontSize: '12px',\n            color: '#1e3a8a'\n        }).setOrigin(0.5);\n        this.endModalScoreText = this.add.text(scoreCardContainer.x, statsY + 6, '0', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.endModalTimeText = this.add.text(timeCardContainer.x, statsY + 6, '00:00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const restartButton = this.createEndRestartButton(0, panelHeight / 2 + 56);\n        restartButton.setDepth(2);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            subtitle,\n            scoreCardContainer,\n            timeCardContainer,\n            scoreLabel,\n            timeLabel,\n            this.endModalScoreText,\n            this.endModalTimeText\n        ]);\n        panelContainer.add(restartButton);\n        container.add([\n            overlay,\n            blocker,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.endModal = container;\n        this.endModal.setData('panel', panelContainer);\n        this.endModal.setData('overlay', overlay);\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createEndRestartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Play Again', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hit = this.add.rectangle(0, 0, width, height, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n            this.restartRun();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    createTimeUpModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(240);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.12).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 160;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.56)).setScrollFactor(0);\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -26, 'Out of time! Failed', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const restartButton = this.createRestartButton(0, 42);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            restartButton\n        ]);\n        container.add([\n            overlay,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.timeUpModal = container;\n        this.timeUpModal.setData('panel', panelContainer);\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createRestartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Continue', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hit = this.add.rectangle(0, 0, width, height, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n            this.restartRun();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    createStartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Start Game', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hitPad = 16;\n        const hitW = width + hitPad * 2;\n        const hitH = height + hitPad * 2;\n        const hit = this.add.rectangle(0, 0, hitW, hitH, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        const onPress = ()=>{\n            if (!this.startModalOpen) return;\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.closeStartModal();\n            this.openQuizModal();\n        };\n        const onRelease = ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n        };\n        hit.on('pointerdown', onPress);\n        hit.on('pointerup', onRelease);\n        hit.on('pointerout', onRelease);\n        this.tweens.add({\n            targets: container,\n            scale: 1.05,\n            duration: 800,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    openStartModal() {\n        this.startModalOpen = true;\n        this.jumpButton.setAlpha(0.4);\n        this.stopTimer();\n        this.startModal.setVisible(true);\n        this.startModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.startModal,\n            alpha: 1,\n            duration: 180\n        });\n    }\n    closeStartModal() {\n        this.startModalOpen = false;\n        this.jumpButton.setAlpha(1);\n        this.startTimer();\n        this.startModal.setVisible(false);\n    }\n    setQuestion(data) {\n        this.quizPanel.setFeedback('idle');\n        this.quizPanel.setQuestion(data);\n        this.layoutQuiz();\n    }\n    layoutQuiz() {\n        if (!this.quizPanel) return;\n        const { width, height } = this.scale;\n        const result = this.quizPanel.layout(width, height);\n        this.uiScale = result.uiScale;\n        this.quizPanelHeight = result.panelHeight;\n        this.quizPanelWidth = result.panelWidth;\n    }\n    openQuizModal() {\n        if (this.gameOver) return;\n        if (this.gameCompleted) return;\n        if (this.player.isJumping()) return;\n        this.quizOpen = true;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(0.6);\n        const questionPool = this.getQuestionPool();\n        const question = questionPool[this.quizCurrentIndex % questionPool.length];\n        this.setQuestion({\n            index: this.quizCurrentIndex + 1,\n            total: questionPool.length,\n            question: question.question,\n            options: question.options\n        });\n        this.quizModal.setVisible(true);\n        this.quizModal.setAlpha(0);\n        const panel = this.quizPanel.panelContainer;\n        panel.setScale(0.96);\n        panel.y += 18;\n        this.tweens.add({\n            targets: this.quizModal,\n            alpha: 1,\n            duration: 180\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            y: panel.y - 18,\n            duration: 220,\n            ease: 'Back.easeOut'\n        });\n    }\n    closeQuizModal() {\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(1);\n        this.quizModal.setVisible(false);\n    }\n    async handleQuizAnswer(index) {\n        const questionPool = this.getQuestionPool();\n        const question = questionPool[this.quizCurrentIndex % questionPool.length];\n        let isCorrect = index === question.correctIndex;\n        const selectedOptionId = question.optionIds[index];\n        if (this.sessionId && question.sessionQuestionId && selectedOptionId) {\n            try {\n                const { submitAnswer } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\"));\n                const res = await submitAnswer(this.sessionId, question.sessionQuestionId, selectedOptionId, {\n                    forceReal: this.gameCode === 'vocab_race'\n                });\n                isCorrect = res.data.is_correct;\n            } catch (error) {\n                console.error('submitAnswer failed, fallback to local check', error);\n            }\n        }\n        const btn = this.quizOptionButtons[index];\n        const redraw = btn.getData('redraw');\n        if (isCorrect) {\n            this.quizLocked = true;\n            redraw('correct');\n            this.setQuizFeedback('correct');\n            this.updateScore(1);\n            this.speedUpJump();\n            await this.delay(400);\n            this.closeQuizModal();\n            await this.handleJump();\n            this.quizCurrentIndex += 1;\n            this.time.delayedCall(250, ()=>{\n                this.openQuizModal();\n            });\n        } else {\n            this.quizLocked = true;\n            redraw('wrong');\n            this.setQuizFeedback('wrong');\n            this.updateScore(-1);\n            this.showPlayerState('incorrect');\n            const panel = this.quizPanel.panelContainer;\n            const startX = panel.x;\n            this.tweens.add({\n                targets: panel,\n                x: startX + 10,\n                duration: 60,\n                yoyo: true,\n                repeat: 3,\n                ease: 'Sine.easeInOut',\n                onComplete: ()=>{\n                    panel.x = startX;\n                    this.quizLocked = false;\n                    redraw('normal');\n                }\n            });\n        }\n    }\n    getQuestionPool() {\n        const apiQuestions = this.sessionQuestions;\n        if (apiQuestions === null || apiQuestions === void 0 ? void 0 : apiQuestions.length) {\n            if (!this.questionSourceLogged) {\n                var _apiQuestions__question, _apiQuestions_;\n                this.questionSourceLogged = true;\n                var _apiQuestions__question_content;\n                console.log('[GAME][TOWN] Using session questions', {\n                    gameCode: this.gameCode,\n                    count: apiQuestions.length,\n                    sample: (_apiQuestions__question_content = (_apiQuestions_ = apiQuestions[0]) === null || _apiQuestions_ === void 0 ? void 0 : (_apiQuestions__question = _apiQuestions_.question) === null || _apiQuestions__question === void 0 ? void 0 : _apiQuestions__question.content) !== null && _apiQuestions__question_content !== void 0 ? _apiQuestions__question_content : null\n                });\n            }\n            return apiQuestions.map((item)=>{\n                const options = item.question.options.map((opt)=>opt.text);\n                const optionIds = item.question.options.map((opt)=>{\n                    var _opt_id;\n                    return (_opt_id = opt.id) !== null && _opt_id !== void 0 ? _opt_id : '';\n                });\n                let correctIndex = item.question.options.findIndex((opt)=>opt.is_correct);\n                if (correctIndex < 0) correctIndex = 0;\n                var _item_session_question_id;\n                return {\n                    sessionQuestionId: (_item_session_question_id = item.session_question_id) !== null && _item_session_question_id !== void 0 ? _item_session_question_id : null,\n                    question: item.question.content,\n                    options,\n                    optionIds,\n                    correctIndex\n                };\n            });\n        }\n        if (!this.questionSourceLogged) {\n            this.questionSourceLogged = true;\n            console.warn('[GAME][TOWN] Using fallback local questions', {\n                gameCode: this.gameCode\n            });\n        }\n        return [\n            {\n                sessionQuestionId: null,\n                question: 'What is the capital of Vietnam?',\n                options: [\n                    'Hanoi',\n                    'Da Nang',\n                    'Hai Phong',\n                    'Can Tho'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            },\n            {\n                sessionQuestionId: null,\n                question: 'Which language does Phaser use?',\n                options: [\n                    'TypeScript/JavaScript',\n                    'C#',\n                    'Python',\n                    'Go'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            },\n            {\n                sessionQuestionId: null,\n                question: 'What color are the leaves in the game?',\n                options: [\n                    'Green',\n                    'Red',\n                    'Purple',\n                    'Yellow'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            }\n        ];\n    }\n    async handleJump() {\n        if (this.player.isJumping()) return;\n        if (this.gameOver) return;\n        const nextIndex = this.currentLeafIndex + 1;\n        const maxIndex = this.leafPath.length > 0 ? this.leafPath.length - 1 : Number.POSITIVE_INFINITY;\n        if (this.leafPath.length > 0 && nextIndex > maxIndex) {\n            return;\n        }\n        const targetPos = this.getLeafPosition(nextIndex);\n        // Stop idle animation during jump\n        this.player.stopIdle();\n        // Scroll Camera\n        this.tweens.add({\n            targets: this.camera,\n            scrollY: targetPos.y - 800,\n            duration: 600,\n            ease: 'Sine.easeInOut'\n        });\n        // Perform jump using EmoteCharacter\n        await this.player.jumpTo(targetPos.x, targetPos.y, this.jumpDurationMs);\n        // Update state after jump completes\n        this.currentLeafIndex = nextIndex;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > targetPos.x);\n        // Show correct state on new leaf, then resume idle\n        this.player.showCorrect(800);\n        this.time.delayedCall(800, ()=>{\n            this.player.playIdle();\n        });\n        if (this.leafPath.length > 0 && this.currentLeafIndex >= maxIndex) {\n            this.gameCompleted = true;\n            this.jumpButton.setAlpha(0.4);\n            this.quizOpen = false;\n            this.quizLocked = false;\n            this.stopTimer();\n            this.timerOverlay.setVisible(false);\n            if (this.totalTimeMs > 0) {\n                this.updateScore(3);\n            }\n            this.updateEndTimeText();\n            this.time.delayedCall(400, ()=>{\n                this.openEndModal();\n            });\n        }\n    }\n    startTimer() {\n        if (this.timerEvent) {\n            this.timerEvent.remove(false);\n        }\n        this.totalTimeMs = this.sessionTimeLimit && this.sessionTimeLimit > 0 ? this.sessionTimeLimit * 1000 : 180000;\n        this.updateTimerText(this.totalTimeMs);\n        this.timerEvent = this.time.addEvent({\n            delay: 1000,\n            loop: true,\n            callback: ()=>{\n                if (this.gameCompleted || this.gameOver) return;\n                this.totalTimeMs -= 1000;\n                this.updateTimerText(this.totalTimeMs);\n                if (this.totalTimeMs <= 0) {\n                    this.totalTimeMs = 0;\n                    this.updateTimerText(this.totalTimeMs);\n                    this.handleTimeUp();\n                }\n            }\n        });\n    }\n    stopTimer() {\n        if (this.timerEvent) {\n            this.timerEvent.remove(false);\n        }\n    }\n    updateTimerText(ms) {\n        const totalSeconds = Math.max(0, Math.floor(ms / 1000));\n        const minutes = Math.floor(totalSeconds / 60);\n        const seconds = totalSeconds % 60;\n        const pad = (n)=>n < 10 ? \"0\".concat(n) : \"\".concat(n);\n        const text = \"\".concat(minutes, \"m \").concat(pad(seconds), \"s\");\n        this.timerText.setText(text);\n    }\n    handleTimeUp() {\n        if (this.gameOver || this.gameCompleted) return;\n        this.gameOver = true;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(0.4);\n        this.closeQuizModal();\n        this.openTimeUpModal();\n    }\n    openEndModal() {\n        if (!this.endModal) return;\n        const panel = this.endModal.getData('panel');\n        const overlay = this.endModal.getData('overlay');\n        panel.setScale(0.9);\n        if (overlay) overlay.setAlpha(0);\n        this.endModal.setVisible(true);\n        this.endModal.setAlpha(1);\n        this.launchConfetti();\n        this.submitSessionResult();\n        this.tweens.add({\n            targets: overlay,\n            alpha: 0.6,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            duration: 260,\n            ease: 'Back.easeOut'\n        });\n    }\n    launchConfetti() {\n        if (this.confettiEmitter) {\n            this.confettiEmitter.destroy();\n        }\n        if (this.confettiBurstEvent) {\n            this.confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        }\n        const { width, height } = this.scale;\n        this.confettiEmitter = this.add.particles(0, 0, 'tile-flower', {\n            speed: {\n                min: 90,\n                max: 170\n            },\n            angle: {\n                min: 0,\n                max: 360\n            },\n            rotate: {\n                min: -220,\n                max: 220\n            },\n            scale: {\n                start: 0.32,\n                end: 0.1\n            },\n            lifespan: {\n                min: 1400,\n                max: 2200\n            },\n            quantity: 0,\n            frequency: -1,\n            gravityY: 160\n        });\n        this.confettiEmitter.setScrollFactor(0);\n        this.confettiEmitter.setDepth(2100);\n        this.uiRoot.add(this.confettiEmitter);\n        this.confettiBurstEvent = this.time.addEvent({\n            delay: 900,\n            repeat: 0,\n            callback: ()=>{\n                if (!this.confettiEmitter) return;\n                this.confettiEmitter.explode(18, width / 2, height / 2);\n            }\n        });\n        this.time.delayedCall(3500, ()=>{\n            var _this_confettiEmitter, _this_confettiBurstEvent;\n            (_this_confettiEmitter = this.confettiEmitter) === null || _this_confettiEmitter === void 0 ? void 0 : _this_confettiEmitter.destroy();\n            this.confettiEmitter = undefined;\n            (_this_confettiBurstEvent = this.confettiBurstEvent) === null || _this_confettiBurstEvent === void 0 ? void 0 : _this_confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        });\n    }\n    openTimeUpModal() {\n        if (!this.timeUpModal) return;\n        const panel = this.timeUpModal.getData('panel');\n        panel.setScale(0.96);\n        this.timeUpModal.setVisible(true);\n        this.timeUpModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.timeUpModal,\n            alpha: 1,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            duration: 240,\n            ease: 'Back.easeOut'\n        });\n    }\n    closeTimeUpModal() {\n        if (!this.timeUpModal) return;\n        this.timeUpModal.setVisible(false);\n    }\n    closeEndModal() {\n        if (!this.endModal) return;\n        this.endModal.setVisible(false);\n        this.endModal.setAlpha(0);\n        const overlay = this.endModal.getData('overlay');\n        if (overlay) overlay.setAlpha(0);\n        if (this.confettiEmitter) {\n            this.confettiEmitter.destroy();\n            this.confettiEmitter = undefined;\n        }\n        if (this.confettiBurstEvent) {\n            this.confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        }\n    }\n    submitSessionResult() {\n        if (!this.sessionGameId) return;\n        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\")).then((param)=>{\n            let { endGameSession } = param;\n            return endGameSession(this.sessionGameId, this.score, {\n                forceReal: this.gameCode === 'vocab_race'\n            });\n        }).catch((err)=>{\n            console.error('endGameSession failed', err);\n        });\n    }\n    restartRun() {\n        this.gameOver = false;\n        this.gameCompleted = false;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.quizCurrentIndex = 0;\n        this.startModalOpen = false;\n        this.score = 0;\n        this.scoreText.setText('POINTS: 00');\n        this.jumpDurationMs = 900;\n        this.closeTimeUpModal();\n        this.closeQuizModal();\n        this.closeEndModal();\n        if (this.startModal) this.startModal.setVisible(false);\n        const startPos = this.getLeafPosition(0);\n        this.player.setPosition(startPos.x, startPos.y);\n        this.player.playIdle();\n        this.currentLeafIndex = 0;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > startPos.x);\n        this.camera.scrollY = startPos.y - 900;\n        this.stopTimer();\n        this.timerOverlay.setVisible(true);\n        this.jumpButton.setAlpha(1);\n        this.startTimer();\n        this.openQuizModal();\n    }\n    updateScore(delta) {\n        this.score += delta;\n        const points = Math.max(0, this.score);\n        this.scoreText.setText(\"POINTS: \".concat(points.toString().padStart(2, '0')));\n        if (this.endModalScoreText) {\n            this.endModalScoreText.setText(\"Score: \".concat(this.score));\n        }\n    }\n    updateEndTimeText() {\n        if (!this.endModalTimeText) return;\n        const baseMs = this.sessionTimeLimit && this.sessionTimeLimit > 0 ? this.sessionTimeLimit * 1000 : 180000;\n        const elapsedMs = baseMs - this.totalTimeMs;\n        const totalSeconds = Math.max(0, Math.floor(elapsedMs / 1000));\n        const minutes = Math.floor(totalSeconds / 60);\n        const seconds = totalSeconds % 60;\n        const pad = (n)=>n < 10 ? \"0\".concat(n) : \"\".concat(n);\n        this.endModalTimeText.setText(\"Time: \".concat(pad(minutes), \":\").concat(pad(seconds)));\n    }\n    speedUpJump() {\n        this.jumpDurationMs = Math.max(450, this.jumpDurationMs - 40);\n    }\n    getLeafPosition(index) {\n        if (this.leafPath.length > 0 && this.trackImage) {\n            const pathLength = this.leafPath.length;\n            const pathIndex = Math.min(index, pathLength - 1);\n            const leaf = this.leafPath[pathIndex];\n            const scale = this.trackImage.scaleX;\n            const mapLeft = this.trackImage.x - this.trackImage.displayWidth / 2;\n            const mapTop = this.trackImage.y - this.trackImage.displayHeight;\n            const x = mapLeft + leaf.x * scale;\n            const y = mapTop + leaf.y * scale;\n            return {\n                x,\n                y\n            };\n        }\n        const centerX = this.scale.width / 2;\n        const isLeft = index % 2 === 0;\n        // Adjacent leaf = alternate left/right with a small upward step\n        const y = this.leafStartY - index * this.leafStepY;\n        const x = isLeft ? centerX - this.leafSideOffset : centerX + this.leafSideOffset;\n        return {\n            x,\n            y\n        };\n    }\n    buildLeafPath(textureKey) {\n        const texture = this.textures.get(textureKey);\n        const source = texture === null || texture === void 0 ? void 0 : texture.getSourceImage();\n        if (!source || !source.width || !source.height) {\n            return [];\n        }\n        const canvas = this.sys.game.canvas.ownerDocument.createElement('canvas');\n        canvas.width = source.width;\n        canvas.height = source.height;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) return [];\n        ctx.drawImage(source, 0, 0);\n        const imageData = ctx.getImageData(0, 0, source.width, source.height);\n        const data = imageData.data;\n        const width = source.width;\n        const height = source.height;\n        const visited = new Uint8Array(width * height);\n        const centers = [];\n        const isLeafPixel = (idx)=>{\n            const r = data[idx] / 255;\n            const g = data[idx + 1] / 255;\n            const b = data[idx + 2] / 255;\n            const max = Math.max(r, g, b);\n            const min = Math.min(r, g, b);\n            const delta = max - min;\n            if (delta === 0) return false;\n            let hue = 0;\n            if (max === r) {\n                hue = (g - b) / delta % 6;\n            } else if (max === g) {\n                hue = (b - r) / delta + 2;\n            } else {\n                hue = (r - g) / delta + 4;\n            }\n            hue = Math.round(hue * 60);\n            if (hue < 0) hue += 360;\n            const saturation = max === 0 ? 0 : delta / max;\n            const isGreenHue = hue >= 70 && hue <= 150;\n            const isSaturated = saturation >= 0.35;\n            return isGreenHue && isSaturated;\n        };\n        const minBlobSize = 4500;\n        const stack = [];\n        for(let y = 0; y < height; y++){\n            for(let x = 0; x < width; x++){\n                const index = y * width + x;\n                if (visited[index]) continue;\n                const dataIndex = index * 4;\n                if (!isLeafPixel(dataIndex)) {\n                    visited[index] = 1;\n                    continue;\n                }\n                let sumX = 0;\n                let sumY = 0;\n                let count = 0;\n                let minX = x;\n                let maxX = x;\n                let minY = y;\n                let maxY = y;\n                stack.push(index);\n                visited[index] = 1;\n                while(stack.length){\n                    const current = stack.pop();\n                    const cy = Math.floor(current / width);\n                    const cx = current - cy * width;\n                    const currentDataIndex = current * 4;\n                    if (!isLeafPixel(currentDataIndex)) {\n                        continue;\n                    }\n                    sumX += cx;\n                    sumY += cy;\n                    count += 1;\n                    if (cx < minX) minX = cx;\n                    if (cx > maxX) maxX = cx;\n                    if (cy < minY) minY = cy;\n                    if (cy > maxY) maxY = cy;\n                    if (cx > 0) {\n                        const left = current - 1;\n                        if (!visited[left]) {\n                            const leftIndex = left * 4;\n                            if (isLeafPixel(leftIndex)) {\n                                visited[left] = 1;\n                                stack.push(left);\n                            } else {\n                                visited[left] = 1;\n                            }\n                        }\n                    }\n                    if (cx < width - 1) {\n                        const right = current + 1;\n                        if (!visited[right]) {\n                            const rightIndex = right * 4;\n                            if (isLeafPixel(rightIndex)) {\n                                visited[right] = 1;\n                                stack.push(right);\n                            } else {\n                                visited[right] = 1;\n                            }\n                        }\n                    }\n                    if (cy > 0) {\n                        const up = current - width;\n                        if (!visited[up]) {\n                            const upIndex = up * 4;\n                            if (isLeafPixel(upIndex)) {\n                                visited[up] = 1;\n                                stack.push(up);\n                            } else {\n                                visited[up] = 1;\n                            }\n                        }\n                    }\n                    if (cy < height - 1) {\n                        const down = current + width;\n                        if (!visited[down]) {\n                            const downIndex = down * 4;\n                            if (isLeafPixel(downIndex)) {\n                                visited[down] = 1;\n                                stack.push(down);\n                            } else {\n                                visited[down] = 1;\n                            }\n                        }\n                    }\n                }\n                if (count >= minBlobSize) {\n                    const blobWidth = maxX - minX;\n                    const blobHeight = maxY - minY;\n                    const aspect = blobWidth / (blobHeight || 1);\n                    if (blobWidth >= 90 && blobHeight >= 90 && aspect > 0.6 && aspect < 1.7) {\n                        centers.push(new Phaser.Math.Vector2(sumX / count, sumY / count));\n                    }\n                }\n            }\n        }\n        centers.sort((a, b)=>{\n            const dy = b.y - a.y;\n            if (Math.abs(dy) > 2) return dy;\n            return a.x - b.x;\n        });\n        return centers;\n    }\n    /**\n     * Show player state - correct or incorrect\n     */ showPlayerState(state) {\n        if (state === 'correct') {\n            this.player.showCorrect(800);\n        } else {\n            this.player.showIncorrect(800);\n        }\n    }\n    setQuizFeedback(state) {\n        if (!this.quizPanel) return;\n        this.quizPanel.setFeedback(state);\n        this.quizFeedbackState = state;\n    }\n    delay(ms) {\n        return new Promise((resolve)=>{\n            this.time.delayedCall(ms, ()=>resolve());\n        });\n    }\n    constructor(){\n        super('Game'), this.quizPanelWidth = 0, this.quizPanelHeight = 0, this.uiScale = 1, this.safeInsetBottom = 16, this.quizFeedbackState = 'idle', this.quizOptionButtons = [], this.quizOpen = false, this.quizLocked = false, this.quizCurrentIndex = 0, this.startModalOpen = false, this.gameCompleted = false, this.gameOver = false, this.totalTimeMs = 180000, this.jumpDurationMs = 900, // Game State\n        this.score = 0, this.currentLeafIndex = 0, this.sessionId = null, this.sessionGameId = null, this.sessionQuestions = null, this.sessionTimeLimit = null, this.questionSourceLogged = false, this.gameCode = 'vocab_race', this.gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.getGameConfig)('vocab_race'), // Leaf path (detected from track texture)\n        this.leafPath = [], // Fallback zig-zag config\n        this.leafStartY = 940, this.leafStepY = 140, this.leafSideOffset = 180;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9nYW1lL3NjZW5lcy9HYW1lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBdUM7QUFDUjtBQUM0QjtBQUVJO0FBQ25CO0FBRXJDLE1BQU1NLGFBQWFMLHlDQUFLQTtJQTZFM0JNLEtBQU1DLElBQW1KLEVBQ3pKO1lBQ29DQTtRQUFoQyxJQUFJLENBQUNDLFFBQVEsR0FBR0wsNERBQWVBLENBQUNJLENBQUFBLGlCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1DLFFBQVEsY0FBZEQsNEJBQUFBLGlCQUFtQixJQUFJLENBQUNFLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDO1FBQ3JFLElBQUksQ0FBQ0QsUUFBUSxDQUFDRSxHQUFHLENBQUMsWUFBWSxJQUFJLENBQUNILFFBQVE7UUFDM0MsSUFBSSxDQUFDSSxVQUFVLEdBQUdWLDBEQUFhQSxDQUFDLElBQUksQ0FBQ00sUUFBUTtZQUM1QkQ7UUFBakIsSUFBSSxDQUFDTSxTQUFTLEdBQUdOLENBQUFBLGtCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1NLFNBQVMsY0FBZk4sNkJBQUFBLGtCQUFtQjtZQUNmQTtRQUFyQixJQUFJLENBQUNPLGFBQWEsR0FBR1AsQ0FBQUEsZUFBQUEsaUJBQUFBLDJCQUFBQSxLQUFNUSxNQUFNLGNBQVpSLDBCQUFBQSxlQUFnQjtZQUNiQTtRQUF4QixJQUFJLENBQUNTLGdCQUFnQixHQUFHVCxDQUFBQSxrQkFBQUEsaUJBQUFBLDJCQUFBQSxLQUFNVSxTQUFTLGNBQWZWLDZCQUFBQSxrQkFBbUI7WUFDbkJBO1FBQXhCLElBQUksQ0FBQ1csZ0JBQWdCLEdBQUdYLENBQUFBLGtCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1ZLFNBQVMsY0FBZlosNkJBQUFBLGtCQUFtQjtJQUMvQztJQUVBYSxTQUNBO1FBQ0ksTUFBTSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQ0MsS0FBSztRQUNwQyxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJ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RCxFQUFFLE9BQ3REekMsV0FBb0IsWUFDcEI2QyxhQUFzQixZQUN0QmtFLG1CQUEyQixRQUczQjlHLGlCQUEwQixZQU0xQnlHLGdCQUF5QixZQUV6QkQsV0FBb0IsWUFHcEI5TCxjQUFzQixhQUN0Qm9QLGlCQUF5QixLQUV6QixhQUFhO2FBQ2J3QyxRQUFnQixRQUNoQnZTLG1CQUEyQixRQUMzQmpDLFlBQTJCLFdBQzNCQyxnQkFBK0IsV0FDL0JFLG1CQUEwQyxXQUMxQ0UsbUJBQWtDLFdBQ2xDd1EsdUJBQWdDLFlBQ2hDbFIsV0FBbUIsbUJBQ25CSSxhQUFhViwwREFBYUEsQ0FBQyxlQUUzQiwwQ0FBMEM7YUFDbENxQyxXQUFrQyxFQUFFLEVBRTVDLDBCQUEwQjthQUNUK1QsYUFBYSxVQUNiQyxZQUFZLFVBQ1pDLGlCQUFpQjtJQU1sQztBQWcxQ0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYjIzMDYwMS9Eb2N1bWVudHMvcGhhc2VyLWdhbWVkZXYvc3JjL2dhbWUvc2NlbmVzL0dhbWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICcuLi9FdmVudEJ1cyc7XG5pbXBvcnQgeyBTY2VuZSB9IGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBFbW90ZUNoYXJhY3RlciB9IGZyb20gJy4uL29iamVjdHMvRW1vdGVDaGFyYWN0ZXInO1xuaW1wb3J0IHR5cGUgeyBHYW1lUXVlc3Rpb24gfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hcGknO1xuaW1wb3J0IHsgZ2V0R2FtZUNvbmZpZywgcmVzb2x2ZUdhbWVDb2RlIH0gZnJvbSAnLi4vZ2FtZUNvbmZpZyc7XG5pbXBvcnQgeyBRdWl6UGFuZWwgfSBmcm9tICcuLi91aS9RdWl6UGFuZWwnO1xuXG5leHBvcnQgY2xhc3MgR2FtZSBleHRlbmRzIFNjZW5lXG57XG4gICAgY2FtZXJhOiBQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkNhbWVyYTtcbiAgICB0cmFja0ltYWdlITogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgIHBsYXllciE6IEVtb3RlQ2hhcmFjdGVyO1xuICAgIHBhcmFsbGF4TGF5ZXJzOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2VbXTtcbiAgICB1aVJvb3QhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHVpQ2FtZXJhITogUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5DYW1lcmE7XG4gICAgdGltZXJPdmVybGF5ITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRCYWNrQnV0dG9uITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRQb2ludHNQaWxsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRUaW1lclBpbGwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIGh1ZEhlYXJ0c1BpbGwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuXG4gICAgLy8gVUlcbiAgICBqdW1wQnV0dG9uOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIGp1bXBCdXR0b25CZyE6IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XG4gICAgc2NvcmVUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBxdWl6TW9kYWwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHF1aXpQYW5lbENvbnRhaW5lciE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgcXVpelBhbmVsU2hhZG93ITogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xuICAgIHF1aXpQYW5lbEJnITogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xuICAgIHF1aXpQYW5lbEdsb3chOiBQaGFzZXIuR2FtZU9iamVjdHMuR3JhcGhpY3M7XG4gICAgcXVpelBhbmVsV2lkdGg6IG51bWJlciA9IDA7XG4gICAgcXVpelBhbmVsSGVpZ2h0OiBudW1iZXIgPSAwO1xuICAgIHVpU2NhbGU6IG51bWJlciA9IDE7XG4gICAgc2FmZUluc2V0Qm90dG9tOiBudW1iZXIgPSAxNjtcbiAgICBxdWl6RmVlZGJhY2tUaXRsZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBxdWl6RmVlZGJhY2tTdWJ0aXRsZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBxdWl6RmVlZGJhY2tTdGF0ZTogJ2lkbGUnIHwgJ2NvcnJlY3QnIHwgJ3dyb25nJyA9ICdpZGxlJztcbiAgICBxdWl6UXVlc3Rpb25UZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgcXVpekluZGV4VGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICAgIHF1aXpPcHRpb25CdXR0b25zOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyW10gPSBbXTtcbiAgICBxdWl6T3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHF1aXpMb2NrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBxdWl6Q3VycmVudEluZGV4OiBudW1iZXIgPSAwO1xuICAgIHF1aXpQYW5lbCE6IFF1aXpQYW5lbDtcbiAgICBzdGFydE1vZGFsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBzdGFydE1vZGFsT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGVuZE1vZGFsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBlbmRNb2RhbFNjb3JlVGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICAgIGVuZE1vZGFsVGltZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBjb25mZXR0aUVtaXR0ZXI/OiBQaGFzZXIuR2FtZU9iamVjdHMuUGFydGljbGVzLlBhcnRpY2xlRW1pdHRlcjtcbiAgICBjb25mZXR0aUJ1cnN0RXZlbnQ/OiBQaGFzZXIuVGltZS5UaW1lckV2ZW50O1xuICAgIGdhbWVDb21wbGV0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICB0aW1lVXBNb2RhbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgZ2FtZU92ZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICB0aW1lclRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICB0aW1lckV2ZW50ITogUGhhc2VyLlRpbWUuVGltZXJFdmVudDtcbiAgICB0b3RhbFRpbWVNczogbnVtYmVyID0gMTgwMDAwO1xuICAgIGp1bXBEdXJhdGlvbk1zOiBudW1iZXIgPSA5MDA7XG5cbiAgICAvLyBHYW1lIFN0YXRlXG4gICAgc2NvcmU6IG51bWJlciA9IDA7XG4gICAgY3VycmVudExlYWZJbmRleDogbnVtYmVyID0gMDtcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHNlc3Npb25HYW1lSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHNlc3Npb25RdWVzdGlvbnM6IEdhbWVRdWVzdGlvbltdIHwgbnVsbCA9IG51bGw7XG4gICAgc2Vzc2lvblRpbWVMaW1pdDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgcXVlc3Rpb25Tb3VyY2VMb2dnZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBnYW1lQ29kZTogc3RyaW5nID0gJ3ZvY2FiX3JhY2UnO1xuICAgIGdhbWVDb25maWcgPSBnZXRHYW1lQ29uZmlnKCd2b2NhYl9yYWNlJyk7XG5cbiAgICAvLyBMZWFmIHBhdGggKGRldGVjdGVkIGZyb20gdHJhY2sgdGV4dHVyZSlcbiAgICBwcml2YXRlIGxlYWZQYXRoOiBQaGFzZXIuTWF0aC5WZWN0b3IyW10gPSBbXTtcblxuICAgIC8vIEZhbGxiYWNrIHppZy16YWcgY29uZmlnXG4gICAgcHJpdmF0ZSByZWFkb25seSBsZWFmU3RhcnRZID0gOTQwO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGVhZlN0ZXBZID0gMTQwO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGVhZlNpZGVPZmZzZXQgPSAxODA7XG5cbiAgICBcbiAgICBjb25zdHJ1Y3RvciAoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoJ0dhbWUnKTtcbiAgICB9XG5cbiAgICBpbml0IChkYXRhOiB7IGdhbWVDb2RlPzogc3RyaW5nIHwgbnVsbDsgc2Vzc2lvbklkPzogc3RyaW5nIHwgbnVsbDsgZ2FtZUlkPzogc3RyaW5nIHwgbnVsbDsgcXVlc3Rpb25zPzogR2FtZVF1ZXN0aW9uW10gfCBudWxsOyB0aW1lTGltaXQ/OiBudW1iZXIgfCBudWxsIH0pXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVDb2RlID0gcmVzb2x2ZUdhbWVDb2RlKGRhdGE/LmdhbWVDb2RlID8/ICh0aGlzLnJlZ2lzdHJ5LmdldCgnZ2FtZUNvZGUnKSBhcyBzdHJpbmcgfCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ2dhbWVDb2RlJywgdGhpcy5nYW1lQ29kZSk7XG4gICAgICAgIHRoaXMuZ2FtZUNvbmZpZyA9IGdldEdhbWVDb25maWcodGhpcy5nYW1lQ29kZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gZGF0YT8uc2Vzc2lvbklkID8/IG51bGw7XG4gICAgICAgIHRoaXMuc2Vzc2lvbkdhbWVJZCA9IGRhdGE/LmdhbWVJZCA/PyBudWxsO1xuICAgICAgICB0aGlzLnNlc3Npb25RdWVzdGlvbnMgPSBkYXRhPy5xdWVzdGlvbnMgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5zZXNzaW9uVGltZUxpbWl0ID0gZGF0YT8udGltZUxpbWl0ID8/IG51bGw7XG4gICAgfVxuXG4gICAgY3JlYXRlICgpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5jYW1lcmFzLm1haW47XG5cbiAgICAgICAgLy8gUGFyYWxsYXggYmFja2dyb3VuZFxuICAgICAgICB0aGlzLmNyZWF0ZVBhcmFsbGF4QmFja2dyb3VuZCgpO1xuXG4gICAgICAgIC8vIFRyYWNrIChMZWF2ZXMpIC0gVXNlIGJnLW1haW4gYXMgdGhlIHNjcm9sbGluZyBtYXBcbiAgICAgICAgdGhpcy50cmFja0ltYWdlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBoZWlnaHQsIHRoaXMuZ2FtZUNvbmZpZy5tYXBLZXkpLnNldE9yaWdpbigwLjUsIDEpO1xuICAgICAgICBjb25zdCB0cmFja1NjYWxlID0gd2lkdGggLyB0aGlzLnRyYWNrSW1hZ2Uud2lkdGg7XG4gICAgICAgIHRoaXMudHJhY2tJbWFnZS5zZXRTY2FsZSh0cmFja1NjYWxlKTtcblxuICAgICAgICBjb25zdCBtYXBUb3AgPSB0aGlzLnRyYWNrSW1hZ2UueSAtIHRoaXMudHJhY2tJbWFnZS5kaXNwbGF5SGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbWVyYS5zZXRCb3VuZHMoMCwgbWFwVG9wLCB3aWR0aCwgdGhpcy50cmFja0ltYWdlLmRpc3BsYXlIZWlnaHQpO1xuXG4gICAgICAgIC8vIEJ1aWxkIGxlYWYgcGF0aCBiYXNlZCBvbiB0aGUgbWFwIHRleHR1cmVcbiAgICAgICAgdGhpcy5sZWFmUGF0aCA9IHRoaXMuZ2FtZUNvbmZpZy51c2VUZXh0dXJlUGF0aCA/IHRoaXMuYnVpbGRMZWFmUGF0aCh0aGlzLmdhbWVDb25maWcubWFwS2V5KSA6IFtdO1xuXG4gICAgICAgIC8vIFBsYXllciBTZXR1cCAtIFVzaW5nIEVtb3RlQ2hhcmFjdGVyIChpZGxlL2NvcnJlY3QvaW5jb3JyZWN0IHN0YXRlcylcbiAgICAgICAgY29uc3Qgc3RhcnRQb3MgPSB0aGlzLmdldExlYWZQb3NpdGlvbigwKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgRW1vdGVDaGFyYWN0ZXIodGhpcywgc3RhcnRQb3MueCwgc3RhcnRQb3MueSk7XG4gICAgICAgIHRoaXMuY3VycmVudExlYWZJbmRleCA9IDA7XG5cbiAgICAgICAgY29uc3QgbmV4dFBvcyA9IHRoaXMuZ2V0TGVhZlBvc2l0aW9uKHRoaXMuY3VycmVudExlYWZJbmRleCArIDEpO1xuICAgICAgICB0aGlzLnBsYXllci5mbGlwKG5leHRQb3MueCA+IHN0YXJ0UG9zLngpO1xuXG4gICAgICAgIC8vIFN0YXJ0IGlkbGUgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMucGxheWVyLnBsYXlJZGxlKCk7XG5cbiAgICAgICAgLy8gSW5pdGlhbCBDYW1lcmEgUG9zaXRpb25cbiAgICAgICAgdGhpcy5jYW1lcmEuc2Nyb2xsWSA9IHN0YXJ0UG9zLnkgLSA5MDA7XG5cbiAgICAgICAgLy8gVUkgY2FtZXJhIChmaXhlZCBzY3JlZW4tc3BhY2UpXG4gICAgICAgIHRoaXMudWlDYW1lcmEgPSB0aGlzLmNhbWVyYXMuYWRkKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLnVpQ2FtZXJhLnNldFNjcm9sbCgwLCAwKTtcbiAgICAgICAgdGhpcy51aUNhbWVyYS5pZ25vcmUodGhpcy5jaGlsZHJlbi5saXN0KTtcblxuICAgICAgICAvLyBVSVxuICAgICAgICB0aGlzLmNyZWF0ZVVJKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAmJiB0aGlzLnNlc3Npb25UaW1lTGltaXQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnRvdGFsVGltZU1zID0gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICogMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIEV2ZW50QnVzLmVtaXQoJ2N1cnJlbnQtc2NlbmUtcmVhZHknLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQYXJhbGxheEJhY2tncm91bmQoKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmdhbWVDb25maWcuYmFja2dyb3VuZENvbG9yKTtcbiAgICAgICAgdGhpcy5wYXJhbGxheExheWVycyA9IFtdO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmFsbGF4TGF5ZXJzPy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2Nyb2xsWSA9IHRoaXMuY2FtZXJhLnNjcm9sbFk7XG5cbiAgICAgICAgdGhpcy5wYXJhbGxheExheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gbGF5ZXIuZ2V0RGF0YSgnc2Nyb2xsRmFjdG9yJykgYXMgbnVtYmVyO1xuICAgICAgICAgICAgY29uc3QgYmFzZVkgPSBsYXllci5nZXREYXRhKCdiYXNlWScpIGFzIG51bWJlcjtcbiAgICAgICAgICAgIGxheWVyLnkgPSBiYXNlWSArIHNjcm9sbFkgKiBmYWN0b3I7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZVVJKCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIFxuICAgICAgICAvLyBGaXhlZCBVSSBDb250YWluZXJcbiAgICAgICAgdGhpcy51aVJvb3QgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDEwMCk7XG5cbiAgICAgICAgLy8gVGltZXIgKyBTY29yZSBIVURcbiAgICAgICAgdGhpcy50aW1lck92ZXJsYXkgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDIwMDApO1xuXG4gICAgICAgIC8vIEJhY2sgYnV0dG9uXG4gICAgICAgIHRoaXMuaHVkQmFja0J1dHRvbiA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgY29uc3QgYmFja0JnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgYmFja0JnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC45NSk7XG4gICAgICAgIGJhY2tCZy5maWxsUm91bmRlZFJlY3QoLTI0LCAtMjQsIDQ4LCA0OCwgMTQpO1xuICAgICAgICBiYWNrQmcubGluZVN0eWxlKDIsIDB4MGVhNWU5LCAwLjIpO1xuICAgICAgICBiYWNrQmcuc3Ryb2tlUm91bmRlZFJlY3QoLTI0LCAtMjQsIDQ4LCA0OCwgMTQpO1xuICAgICAgICBjb25zdCBiYWNrSWNvbiA9IHRoaXMuYWRkLnRleHQoMCwgMSwgJzwnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIGNvbnN0IGJhY2tIaXQgPSB0aGlzLmFkZC56b25lKDAsIDAsIDQ4LCA0OClcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcbiAgICAgICAgYmFja0hpdC5vbigncG9pbnRlcnVwJywgKCkgPT4gdGhpcy5oYW5kbGVCYWNrVG9HYW1lTGlzdCgpKTtcbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLmFkZChbYmFja0JnLCBiYWNrSWNvbl0pO1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24uc2V0U2l6ZSg0OCwgNDgpO1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24uYWRkKGJhY2tIaXQpO1xuXG4gICAgICAgIC8vIFBvaW50cyBwaWxsXG4gICAgICAgIHRoaXMuaHVkUG9pbnRzUGlsbCA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgY29uc3QgcG9pbnRzQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBjb25zdCBwb2ludHNXID0gMTcwO1xuICAgICAgICBjb25zdCBwb2ludHNIID0gNDQ7XG4gICAgICAgIHBvaW50c0JnLmZpbGxTdHlsZSgweGUwZjJmZSwgMC45OCk7XG4gICAgICAgIHBvaW50c0JnLmZpbGxSb3VuZGVkUmVjdCgtcG9pbnRzVyAvIDIsIC1wb2ludHNIIC8gMiwgcG9pbnRzVywgcG9pbnRzSCwgMjIpO1xuICAgICAgICBwb2ludHNCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNyk7XG4gICAgICAgIHBvaW50c0JnLnN0cm9rZVJvdW5kZWRSZWN0KC1wb2ludHNXIC8gMiwgLXBvaW50c0ggLyAyLCBwb2ludHNXLCBwb2ludHNILCAyMik7XG4gICAgICAgIGNvbnN0IHN0YXIgPSB0aGlzLmFkZC5pbWFnZSgtcG9pbnRzVyAvIDIgKyAyNCwgMCwgJ3N0YXInKS5zZXRTY2FsZSgwLjMyKS5zZXRUaW50KDB4ZmJiZjI0KTtcbiAgICAgICAgdGhpcy5zY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KC1wb2ludHNXIC8gMiArIDQ2LCAwLCAnUE9JTlRTOiAwMCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMCwgMC41KTtcbiAgICAgICAgdGhpcy5odWRQb2ludHNQaWxsLmFkZChbcG9pbnRzQmcsIHN0YXIsIHRoaXMuc2NvcmVUZXh0XSk7XG5cbiAgICAgICAgLy8gVGltZXIgcGlsbFxuICAgICAgICB0aGlzLmh1ZFRpbWVyUGlsbCA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgY29uc3QgdGltZXJCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IHRpbWVyVyA9IDEwMDtcbiAgICAgICAgY29uc3QgdGltZXJIID0gNDA7XG4gICAgICAgIHRpbWVyQmcuZmlsbFN0eWxlKDB4ZGJlYWZlLCAwLjk4KTtcbiAgICAgICAgdGltZXJCZy5maWxsUm91bmRlZFJlY3QoLXRpbWVyVyAvIDIsIC10aW1lckggLyAyLCB0aW1lclcsIHRpbWVySCwgMjApO1xuICAgICAgICB0aW1lckJnLmxpbmVTdHlsZSgyLCAweDYwYTVmYSwgMC42KTtcbiAgICAgICAgdGltZXJCZy5zdHJva2VSb3VuZGVkUmVjdCgtdGltZXJXIC8gMiwgLXRpbWVySCAvIDIsIHRpbWVyVywgdGltZXJILCAyMCk7XG4gICAgICAgIHRoaXMudGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnMDM6MDAnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIHRoaXMuaHVkVGltZXJQaWxsLmFkZChbdGltZXJCZywgdGhpcy50aW1lclRleHRdKTtcblxuICAgICAgICAvLyBIZWFydHMgcGlsbFxuICAgICAgICB0aGlzLmh1ZEhlYXJ0c1BpbGwgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XG4gICAgICAgIGNvbnN0IGhlYXJ0c0JnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgaGVhcnRzVyA9IDkyO1xuICAgICAgICBjb25zdCBoZWFydHNIID0gMzY7XG4gICAgICAgIGhlYXJ0c0JnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC45OCk7XG4gICAgICAgIGhlYXJ0c0JnLmZpbGxSb3VuZGVkUmVjdCgtaGVhcnRzVyAvIDIsIC1oZWFydHNIIC8gMiwgaGVhcnRzVywgaGVhcnRzSCwgMTgpO1xuICAgICAgICBoZWFydHNCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuMzUpO1xuICAgICAgICBoZWFydHNCZy5zdHJva2VSb3VuZGVkUmVjdCgtaGVhcnRzVyAvIDIsIC1oZWFydHNIIC8gMiwgaGVhcnRzVywgaGVhcnRzSCwgMTgpO1xuICAgICAgICBjb25zdCBoZWFydHNUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAn4p2kIOKdpCDinaQnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2VmNDQ0NCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIHRoaXMuaHVkSGVhcnRzUGlsbC5hZGQoW2hlYXJ0c0JnLCBoZWFydHNUZXh0XSk7XG5cbiAgICAgICAgdGhpcy50aW1lck92ZXJsYXkuYWRkKFt0aGlzLmh1ZEJhY2tCdXR0b24sIHRoaXMuaHVkUG9pbnRzUGlsbCwgdGhpcy5odWRUaW1lclBpbGwsIHRoaXMuaHVkSGVhcnRzUGlsbF0pO1xuICAgICAgICB0aGlzLnVpUm9vdC5hZGQodGhpcy50aW1lck92ZXJsYXkpO1xuICAgICAgICB0aGlzLmxheW91dEh1ZCgpO1xuXG4gICAgICAgIC8vIEp1bXAgQnV0dG9uXG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbiA9IHRoaXMuY3JlYXRlSnVtcEJ1dHRvbih3aWR0aCAvIDIsIGhlaWdodCAtIDE1MCk7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgICAgIHRoaXMudWlSb290LmFkZCh0aGlzLmp1bXBCdXR0b24pO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBY3RpdmUoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBKdW1wSW5wdXQoKTtcblxuICAgICAgICAvLyBRdWl6IE1vZGFsIChVSSBvdmVybGF5KVxuICAgICAgICB0aGlzLmNyZWF0ZVF1aXpNb2RhbCgpO1xuICAgICAgICB0aGlzLnNjYWxlLm9uKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWl6TW9kYWwpIHRoaXMubGF5b3V0UXVpeigpO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRIdWQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3RhcnQgTW9kYWwgKGZpcnN0IHNjcmVlbilcbiAgICAgICAgdGhpcy5jcmVhdGVTdGFydE1vZGFsKCk7XG4gICAgICAgIHRoaXMub3BlblN0YXJ0TW9kYWwoKTtcblxuICAgICAgICAvLyBFbnN1cmUgb25seSBVSSBjYW1lcmEgcmVuZGVycyBVSVxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5pZ25vcmUoW3RoaXMudWlSb290LCB0aGlzLnRpbWVyT3ZlcmxheV0pO1xuXG4gICAgICAgIC8vIEVuZCBNb2RhbFxuICAgICAgICB0aGlzLmNyZWF0ZUVuZE1vZGFsKCk7XG5cbiAgICAgICAgLy8gVGltZSBVcCBNb2RhbFxuICAgICAgICB0aGlzLmNyZWF0ZVRpbWVVcE1vZGFsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXlvdXRIdWQoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5odWRCYWNrQnV0dG9uIHx8ICF0aGlzLmh1ZFBvaW50c1BpbGwgfHwgIXRoaXMuaHVkVGltZXJQaWxsIHx8ICF0aGlzLmh1ZEhlYXJ0c1BpbGwpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCB0b3BJbnNldCA9IE1hdGgubWF4KDIwLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuMDMpKTtcbiAgICAgICAgY29uc3Qgc2lkZUluc2V0ID0gTWF0aC5tYXgoMTYsIE1hdGgucm91bmQod2lkdGggKiAwLjA0NSkpO1xuICAgICAgICBjb25zdCBnYXAgPSAxMDtcbiAgICAgICAgY29uc3QgaGVhcnRzVyA9IDkyO1xuICAgICAgICBjb25zdCB0aW1lclcgPSAxMDA7XG5cbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLnNldFBvc2l0aW9uKHNpZGVJbnNldCArIDI0LCB0b3BJbnNldCArIDI0KTtcbiAgICAgICAgdGhpcy5odWRQb2ludHNQaWxsLnNldFBvc2l0aW9uKHdpZHRoIC8gMiwgdG9wSW5zZXQgKyAyNCk7XG5cbiAgICAgICAgY29uc3QgcmlnaHRFZGdlID0gd2lkdGggLSBzaWRlSW5zZXQ7XG4gICAgICAgIHRoaXMuaHVkSGVhcnRzUGlsbC5zZXRQb3NpdGlvbihyaWdodEVkZ2UgLSBoZWFydHNXIC8gMiwgdG9wSW5zZXQgKyAyNCk7XG4gICAgICAgIHRoaXMuaHVkVGltZXJQaWxsLnNldFBvc2l0aW9uKHJpZ2h0RWRnZSAtIGhlYXJ0c1cgLSBnYXAgLSB0aW1lclcgLyAyLCB0b3BJbnNldCArIDI0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUJhY2tUb0dhbWVMaXN0KCk6IHZvaWQge1xuICAgICAgICBjb25zdCBzaG91bGRMZWF2ZSA9IHdpbmRvdy5jb25maXJtKCdC4bqhbiBjw7MgY2jhuq9jIG114buRbiBxdWF5IGzhuqFpIGRhbmggc8OhY2ggZ2FtZSBraMO0bmc/Jyk7XG4gICAgICAgIGlmICghc2hvdWxkTGVhdmUpIHJldHVybjtcblxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJztcbiAgICB9XG5cbiAgICBjcmVhdGVKdW1wQnV0dG9uKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5KTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAzMDA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDEwMDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4ZmJiZjI0KVxuICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIDB4ZmZmZmZmKVxuICAgICAgICAgICAgLnNldEZpbGxTdHlsZSgweDIyYzU1ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ05FWFQgSlVNUCEnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLCBmb250U2l6ZTogJzMycHgnLCBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQoW2JnLCB0ZXh0XSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbkJnID0gYmc7XG5cbiAgICAgICAgY29uc3Qgb25QcmVzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnF1aXpPcGVuIHx8IHRoaXMuc3RhcnRNb2RhbE9wZW4pIHJldHVybjtcbiAgICAgICAgICAgIGJnLnNldEZpbGxTdHlsZSgweDE2YTM0YSk7XG4gICAgICAgICAgICB0aGlzLm9wZW5RdWl6TW9kYWwoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvblJlbGVhc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBiZy5zZXRGaWxsU3R5bGUoMHgyMmM1NWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnRhaW5lci5zZXRJbnRlcmFjdGl2ZShuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0KSwgUGhhc2VyLkdlb20uUmVjdGFuZ2xlLkNvbnRhaW5zKTtcblxuICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJkb3duJywgb25QcmVzcyk7XG5cbiAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVydXAnLCBvblJlbGVhc2UpO1xuXG4gICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm91dCcsIG9uUmVsZWFzZSk7XG5cbiAgICAgICAgLy8gQWRkIHNpbXBsZSBwdWxzZSB0d2VlblxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogY29udGFpbmVyLFxuICAgICAgICAgICAgc2NhbGU6IDEuMDUsXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwLFxuICAgICAgICAgICAgeW95bzogdHJ1ZSxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwSnVtcElucHV0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlucHV0LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5pbnB1dC5tb3VzZSkgdGhpcy5pbnB1dC5tb3VzZS5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyOiBQaGFzZXIuSW5wdXQuUG9pbnRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucXVpek9wZW4gfHwgdGhpcy5zdGFydE1vZGFsT3BlbikgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5qdW1wQnV0dG9uLmdldEJvdW5kcygpO1xuICAgICAgICAgICAgaWYgKGJvdW5kcy5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmp1bXBCdXR0b25CZy5zZXRGaWxsU3R5bGUoMHgxNmEzNGEpO1xuICAgICAgICAgICAgICAgIHRoaXMub3BlblF1aXpNb2RhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmp1bXBCdXR0b25CZy5zZXRGaWxsU3R5bGUoMHgyMmM1NWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVF1aXpNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWwgPSBuZXcgUXVpelBhbmVsKHRoaXMsIHsgb3B0aW9uQ291bnQ6IDQsIGRlcHRoOiAyMDAsIHBhcmVudDogdGhpcy51aVJvb3QsIHNob3dJbmRleDogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5xdWl6TW9kYWwgPSB0aGlzLnF1aXpQYW5lbC5jb250YWluZXI7XG4gICAgICAgIHRoaXMucXVpelBhbmVsQ29udGFpbmVyID0gdGhpcy5xdWl6UGFuZWwucGFuZWxDb250YWluZXI7XG4gICAgICAgIHRoaXMucXVpelBhbmVsU2hhZG93ID0gdGhpcy5xdWl6UGFuZWwucGFuZWxTaGFkb3c7XG4gICAgICAgIHRoaXMucXVpelBhbmVsQmcgPSB0aGlzLnF1aXpQYW5lbC5wYW5lbEJnO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbEdsb3cgPSB0aGlzLnF1aXpQYW5lbC5wYW5lbEdsb3c7XG4gICAgICAgIHRoaXMucXVpekluZGV4VGV4dCA9IHRoaXMucXVpelBhbmVsLmluZGV4VGV4dDtcbiAgICAgICAgdGhpcy5xdWl6RmVlZGJhY2tUaXRsZVRleHQgPSB0aGlzLnF1aXpQYW5lbC5mZWVkYmFja1RpdGxlVGV4dDtcbiAgICAgICAgdGhpcy5xdWl6RmVlZGJhY2tTdWJ0aXRsZVRleHQgPSB0aGlzLnF1aXpQYW5lbC5mZWVkYmFja1N1YnRpdGxlVGV4dDtcbiAgICAgICAgdGhpcy5xdWl6UXVlc3Rpb25UZXh0ID0gdGhpcy5xdWl6UGFuZWwucXVlc3Rpb25UZXh0O1xuICAgICAgICB0aGlzLnF1aXpPcHRpb25CdXR0b25zID0gdGhpcy5xdWl6UGFuZWwub3B0aW9uQnV0dG9ucztcblxuICAgICAgICB0aGlzLnF1aXpQYW5lbC5vbk9wdGlvblNlbGVjdGVkKChpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnF1aXpPcGVuIHx8IHRoaXMucXVpekxvY2tlZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVRdWl6QW5zd2VyKGluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5sYXlvdXRRdWl6KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdGFydE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMjApO1xuXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuMTIpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAsIDApO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1pbig1MjAsIHdpZHRoIC0gODApO1xuICAgICAgICBjb25zdCBwYW5lbEhlaWdodCA9IDE2MDtcbiAgICAgICAgY29uc3QgcGFuZWxDb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuNTgpKS5zZXRTY3JvbGxGYWN0b3IoMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxTaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMTUpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyICsgNiwgLXBhbmVsSGVpZ2h0IC8gMiArIDEwLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjYpO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbEJnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC44NSk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcbiAgICAgICAgcGFuZWxCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNDUpO1xuICAgICAgICBwYW5lbEJnLnN0cm9rZVJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuYWRkLnRleHQoMCwgLTI2LCAnSGVscCB0aGUgcm9ib3QgY3Jvc3MgdGhlIHJpdmVyLicsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJyxcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiBwYW5lbFdpZHRoIC0gNjAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuY3JlYXRlU3RhcnRCdXR0b24oMCwgNDIpO1xuXG4gICAgICAgIHBhbmVsQ29udGFpbmVyLmFkZChbcGFuZWxTaGFkb3csIHBhbmVsQmcsIHRpdGxlLCBidXR0b25dKTtcbiAgICAgICAgY29udGFpbmVyLmFkZChbb3ZlcmxheSwgcGFuZWxDb250YWluZXJdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbCA9IGNvbnRhaW5lcjtcbiAgICAgICAgaWYgKHRoaXMudWlSb290KSB0aGlzLnVpUm9vdC5hZGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUVuZE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMzApO1xuXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuNilcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMCwgMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxXaWR0aCA9IE1hdGgubWluKDUyMCwgd2lkdGggLSA4MCk7XG4gICAgICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gMjIwO1xuICAgICAgICBjb25zdCBwYW5lbENvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih3aWR0aCAvIDIsIE1hdGgucm91bmQoaGVpZ2h0ICogMC41NikpLnNldFNjcm9sbEZhY3RvcigwKTtcbiAgICAgICAgb3ZlcmxheS5zZXREZXB0aCgwKTtcbiAgICAgICAgcGFuZWxDb250YWluZXIuc2V0RGVwdGgoMSk7XG5cbiAgICAgICAgY29uc3QgYmxvY2tlciA9IHRoaXMuYWRkLnpvbmUoMCwgMCwgd2lkdGgsIGhlaWdodCkuc2V0T3JpZ2luKDAsIDApO1xuICAgICAgICBibG9ja2VyLnNldEludGVyYWN0aXZlKG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCksIChzaGFwZSwgeCwgeSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFuZWxCb3VuZHMgPSBwYW5lbENvbnRhaW5lci5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgIGlmIChQaGFzZXIuR2VvbS5SZWN0YW5nbGUuQ29udGFpbnMocGFuZWxCb3VuZHMsIHgsIHkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gUGhhc2VyLkdlb20uUmVjdGFuZ2xlLkNvbnRhaW5zKHNoYXBlIGFzIFBoYXNlci5HZW9tLlJlY3RhbmdsZSwgeCwgeSk7XG4gICAgICAgIH0pO1xuICAgICAgICBibG9ja2VyLm9uKCdwb2ludGVyZG93bicsICgpID0+IHt9KTtcblxuICAgICAgICBjb25zdCBwYW5lbFNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxTdHlsZSgweDAwMDAwMCwgMC4xNSk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIgKyA2LCAtcGFuZWxIZWlnaHQgLyAyICsgMTAsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNik7XG5cbiAgICAgICAgY29uc3QgcGFuZWxCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjg1KTtcbiAgICAgICAgcGFuZWxCZy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjQpO1xuICAgICAgICBwYW5lbEJnLmxpbmVTdHlsZSgyLCAweDkzYzVmZCwgMC40NSk7XG4gICAgICAgIHBhbmVsQmcuc3Ryb2tlUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjQpO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5hZGQudGV4dCgwLCAtNjQsICdDb25ncmF0dWxhdGlvbnMhJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IHN1YnRpdGxlID0gdGhpcy5hZGQudGV4dCgwLCAtMzYsICdZb3UgY29tcGxldGVkIHRoZSBydW4uJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnLFxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IHBhbmVsV2lkdGggLSA2MCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3Qgc3RhdHNHYXAgPSAxNjtcbiAgICAgICAgY29uc3QgY2FyZFdpZHRoID0gTWF0aC5taW4oMjAwLCBNYXRoLmZsb29yKChwYW5lbFdpZHRoIC0gMTIwKSAvIDIpKTtcbiAgICAgICAgY29uc3QgY2FyZEhlaWdodCA9IDQ2O1xuICAgICAgICBjb25zdCBzdGF0c1kgPSA2MjtcblxuICAgICAgICBjb25zdCBzY29yZUNhcmQgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBzY29yZUNhcmQuZmlsbFN0eWxlKDB4OTNjNWZkLCAwLjE4KTtcbiAgICAgICAgc2NvcmVDYXJkLmZpbGxSb3VuZGVkUmVjdCgtY2FyZFdpZHRoIC8gMiwgLWNhcmRIZWlnaHQgLyAyLCBjYXJkV2lkdGgsIGNhcmRIZWlnaHQsIDE2KTtcbiAgICAgICAgc2NvcmVDYXJkLmxpbmVTdHlsZSgyLCAweDkzYzVmZCwgMC40NSk7XG4gICAgICAgIHNjb3JlQ2FyZC5zdHJva2VSb3VuZGVkUmVjdCgtY2FyZFdpZHRoIC8gMiwgLWNhcmRIZWlnaHQgLyAyLCBjYXJkV2lkdGgsIGNhcmRIZWlnaHQsIDE2KTtcblxuICAgICAgICBjb25zdCB0aW1lQ2FyZCA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHRpbWVDYXJkLmZpbGxTdHlsZSgweDkzYzVmZCwgMC4xOCk7XG4gICAgICAgIHRpbWVDYXJkLmZpbGxSb3VuZGVkUmVjdCgtY2FyZFdpZHRoIC8gMiwgLWNhcmRIZWlnaHQgLyAyLCBjYXJkV2lkdGgsIGNhcmRIZWlnaHQsIDE2KTtcbiAgICAgICAgdGltZUNhcmQubGluZVN0eWxlKDIsIDB4OTNjNWZkLCAwLjQ1KTtcbiAgICAgICAgdGltZUNhcmQuc3Ryb2tlUm91bmRlZFJlY3QoLWNhcmRXaWR0aCAvIDIsIC1jYXJkSGVpZ2h0IC8gMiwgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0LCAxNik7XG5cbiAgICAgICAgY29uc3Qgc2NvcmVDYXJkQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKC1jYXJkV2lkdGggLyAyIC0gc3RhdHNHYXAgLyAyLCBzdGF0c1ksIFtzY29yZUNhcmRdKTtcbiAgICAgICAgY29uc3QgdGltZUNhcmRDb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoY2FyZFdpZHRoIC8gMiArIHN0YXRzR2FwIC8gMiwgc3RhdHNZLCBbdGltZUNhcmRdKTtcblxuICAgICAgICBjb25zdCBzY29yZUxhYmVsID0gdGhpcy5hZGQudGV4dChzY29yZUNhcmRDb250YWluZXIueCwgc3RhdHNZIC0gMTYsICdTQ09SRScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMWUzYThhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCB0aW1lTGFiZWwgPSB0aGlzLmFkZC50ZXh0KHRpbWVDYXJkQ29udGFpbmVyLngsIHN0YXRzWSAtIDE2LCAnVElNRScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMWUzYThhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICB0aGlzLmVuZE1vZGFsU2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dChzY29yZUNhcmRDb250YWluZXIueCwgc3RhdHNZICsgNiwgJzAnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgdGhpcy5lbmRNb2RhbFRpbWVUZXh0ID0gdGhpcy5hZGQudGV4dCh0aW1lQ2FyZENvbnRhaW5lci54LCBzdGF0c1kgKyA2LCAnMDA6MDAnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgcmVzdGFydEJ1dHRvbiA9IHRoaXMuY3JlYXRlRW5kUmVzdGFydEJ1dHRvbigwLCBwYW5lbEhlaWdodCAvIDIgKyA1Nik7XG4gICAgICAgIHJlc3RhcnRCdXR0b24uc2V0RGVwdGgoMik7XG5cbiAgICAgICAgcGFuZWxDb250YWluZXIuYWRkKFtcbiAgICAgICAgICAgIHBhbmVsU2hhZG93LFxuICAgICAgICAgICAgcGFuZWxCZyxcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgc3VidGl0bGUsXG4gICAgICAgICAgICBzY29yZUNhcmRDb250YWluZXIsXG4gICAgICAgICAgICB0aW1lQ2FyZENvbnRhaW5lcixcbiAgICAgICAgICAgIHNjb3JlTGFiZWwsXG4gICAgICAgICAgICB0aW1lTGFiZWwsXG4gICAgICAgICAgICB0aGlzLmVuZE1vZGFsU2NvcmVUZXh0LFxuICAgICAgICAgICAgdGhpcy5lbmRNb2RhbFRpbWVUZXh0XG4gICAgICAgIF0pO1xuICAgICAgICBwYW5lbENvbnRhaW5lci5hZGQocmVzdGFydEJ1dHRvbik7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbb3ZlcmxheSwgYmxvY2tlciwgcGFuZWxDb250YWluZXJdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZW5kTW9kYWwgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuZW5kTW9kYWwuc2V0RGF0YSgncGFuZWwnLCBwYW5lbENvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuZW5kTW9kYWwuc2V0RGF0YSgnb3ZlcmxheScsIG92ZXJsYXkpO1xuICAgICAgICBpZiAodGhpcy51aVJvb3QpIHRoaXMudWlSb290LmFkZChjb250YWluZXIpO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGNyZWF0ZUVuZFJlc3RhcnRCdXR0b24oeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHkpLnNldFNjcm9sbEZhY3RvcigwKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAyNjA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDUyO1xuICAgICAgICBjb25zdCByYWRpdXMgPSAyMDtcblxuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBzaGFkb3cuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjIpO1xuICAgICAgICBzaGFkb3cuZmlsbFJvdW5kZWRSZWN0KC13aWR0aCAvIDIgKyA0LCAtaGVpZ2h0IC8gMiArIDYsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG5cbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBjb25zdCBkcmF3ID0gKGZpbGw6IG51bWJlciwgc3Ryb2tlOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGJnLmNsZWFyKCk7XG4gICAgICAgICAgICBiZy5maWxsU3R5bGUoZmlsbCwgMSk7XG4gICAgICAgICAgICBiZy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgICAgICBiZy5saW5lU3R5bGUoMiwgc3Ryb2tlLCAwLjgpO1xuICAgICAgICAgICAgYmcuc3Ryb2tlUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIH07XG4gICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcblxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnUGxheSBBZ2FpbicsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHhmZmZmZmYsIDAuMDAxKTtcbiAgICAgICAgaGl0LnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbc2hhZG93LCBiZywgdGV4dCwgaGl0XSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGhpdC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4MjU2M2ViLCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLjAyLCBkdXJhdGlvbjogMTIwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEsIGR1cmF0aW9uOiAxMjAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgxZDRlZDgsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDAuOTgsIGR1cmF0aW9uOiA4MCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgICAgICB0aGlzLnJlc3RhcnRSdW4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMS4wMiwgZHVyYXRpb246IDgwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVRpbWVVcE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyNDApO1xuXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuMTIpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAsIDApO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1pbig1MjAsIHdpZHRoIC0gODApO1xuICAgICAgICBjb25zdCBwYW5lbEhlaWdodCA9IDE2MDtcbiAgICAgICAgY29uc3QgcGFuZWxDb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuNTYpKS5zZXRTY3JvbGxGYWN0b3IoMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxTaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMTUpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyICsgNiwgLXBhbmVsSGVpZ2h0IC8gMiArIDEwLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjYpO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbEJnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC44NSk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcbiAgICAgICAgcGFuZWxCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNDUpO1xuICAgICAgICBwYW5lbEJnLnN0cm9rZVJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuYWRkLnRleHQoMCwgLTI2LCAnT3V0IG9mIHRpbWUhIEZhaWxlZCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCByZXN0YXJ0QnV0dG9uID0gdGhpcy5jcmVhdGVSZXN0YXJ0QnV0dG9uKDAsIDQyKTtcblxuICAgICAgICBwYW5lbENvbnRhaW5lci5hZGQoW3BhbmVsU2hhZG93LCBwYW5lbEJnLCB0aXRsZSwgcmVzdGFydEJ1dHRvbl0pO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQoW292ZXJsYXksIHBhbmVsQ29udGFpbmVyXSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsLnNldERhdGEoJ3BhbmVsJywgcGFuZWxDb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy51aVJvb3QpIHRoaXMudWlSb290LmFkZChjb250YWluZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUmVzdGFydEJ1dHRvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSkuc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgICAgICBjb25zdCB3aWR0aCA9IDI2MDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gNTI7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IDIwO1xuXG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMik7XG4gICAgICAgIHNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiArIDQsIC1oZWlnaHQgLyAyICsgNiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IGRyYXcgPSAoZmlsbDogbnVtYmVyLCBzdHJva2U6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgYmcuY2xlYXIoKTtcbiAgICAgICAgICAgIGJnLmZpbGxTdHlsZShmaWxsLCAxKTtcbiAgICAgICAgICAgIGJnLmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgICAgIGJnLmxpbmVTdHlsZSgyLCBzdHJva2UsIDAuOCk7XG4gICAgICAgICAgICBiZy5zdHJva2VSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdDb250aW51ZScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHhmZmZmZmYsIDAuMDAxKTtcbiAgICAgICAgaGl0LnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbc2hhZG93LCBiZywgdGV4dCwgaGl0XSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMS4wMiwgZHVyYXRpb246IDEyMCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4M2I4MmY2LCAweDkzYzVmZCk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLCBkdXJhdGlvbjogMTIwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4MWQ0ZWQ4LCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAwLjk4LCBkdXJhdGlvbjogODAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0UnVuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgyNTYzZWIsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDIsIGR1cmF0aW9uOiA4MCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdGFydEJ1dHRvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSkuc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgICAgICBjb25zdCB3aWR0aCA9IDI2MDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gNTI7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IDIwO1xuXG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMik7XG4gICAgICAgIHNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiArIDQsIC1oZWlnaHQgLyAyICsgNiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IGRyYXcgPSAoZmlsbDogbnVtYmVyLCBzdHJva2U6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgYmcuY2xlYXIoKTtcbiAgICAgICAgICAgIGJnLmZpbGxTdHlsZShmaWxsLCAxKTtcbiAgICAgICAgICAgIGJnLmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgICAgIGJnLmxpbmVTdHlsZSgyLCBzdHJva2UsIDAuOCk7XG4gICAgICAgICAgICBiZy5zdHJva2VSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuICAgICAgICAgICAgXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdTdGFydCBHYW1lJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJywgZm9udFNpemU6ICcyMHB4JywgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBoaXRQYWQgPSAxNjtcbiAgICAgICAgY29uc3QgaGl0VyA9IHdpZHRoICsgaGl0UGFkICogMjtcbiAgICAgICAgY29uc3QgaGl0SCA9IGhlaWdodCArIGhpdFBhZCAqIDI7XG4gICAgICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCBoaXRXLCBoaXRILCAweGZmZmZmZiwgMC4wMDEpO1xuICAgICAgICBoaXQuc2V0SW50ZXJhY3RpdmUoKTtcblxuICAgICAgICBjb250YWluZXIuYWRkKFtzaGFkb3csIGJnLCB0ZXh0LCBoaXRdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY29uc3Qgb25QcmVzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydE1vZGFsT3BlbikgcmV0dXJuO1xuICAgICAgICAgICAgZHJhdygweDFkNGVkOCwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZVN0YXJ0TW9kYWwoKTtcbiAgICAgICAgICAgIHRoaXMub3BlblF1aXpNb2RhbCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG9uUmVsZWFzZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcbiAgICAgICAgfTtcblxuICAgICAgICBoaXQub24oJ3BvaW50ZXJkb3duJywgb25QcmVzcyk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcnVwJywgb25SZWxlYXNlKTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyb3V0Jywgb25SZWxlYXNlKTtcblxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogY29udGFpbmVyLFxuICAgICAgICAgICAgc2NhbGU6IDEuMDUsXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwLFxuICAgICAgICAgICAgeW95bzogdHJ1ZSxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5TdGFydE1vZGFsKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldEFscGhhKDAuNCk7XG4gICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XG5cbiAgICAgICAgdGhpcy5zdGFydE1vZGFsLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbC5zZXRBbHBoYSgwKTtcblxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5zdGFydE1vZGFsLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTgwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xvc2VTdGFydE1vZGFsKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgxKTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFF1ZXN0aW9uKGRhdGE6IHsgaW5kZXg6IG51bWJlcjsgdG90YWw6IG51bWJlcjsgcXVlc3Rpb246IHN0cmluZzsgb3B0aW9uczogc3RyaW5nW10gfSk6IHZvaWQge1xuICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRGZWVkYmFjaygnaWRsZScpO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRRdWVzdGlvbihkYXRhKTtcbiAgICAgICAgdGhpcy5sYXlvdXRRdWl6KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXlvdXRRdWl6KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMucXVpelBhbmVsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5xdWl6UGFuZWwubGF5b3V0KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLnVpU2NhbGUgPSByZXN1bHQudWlTY2FsZTtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWxIZWlnaHQgPSByZXN1bHQucGFuZWxIZWlnaHQ7XG4gICAgICAgIHRoaXMucXVpelBhbmVsV2lkdGggPSByZXN1bHQucGFuZWxXaWR0aDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5RdWl6TW9kYWwoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVPdmVyKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmdhbWVDb21wbGV0ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmlzSnVtcGluZygpKSByZXR1cm47XG4gICAgICAgIHRoaXMucXVpek9wZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldEFscGhhKDAuNik7XG5cbiAgICAgICAgY29uc3QgcXVlc3Rpb25Qb29sID0gdGhpcy5nZXRRdWVzdGlvblBvb2woKTtcbiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSBxdWVzdGlvblBvb2xbdGhpcy5xdWl6Q3VycmVudEluZGV4ICUgcXVlc3Rpb25Qb29sLmxlbmd0aF07XG4gICAgICAgIHRoaXMuc2V0UXVlc3Rpb24oe1xuICAgICAgICAgICAgaW5kZXg6IHRoaXMucXVpekN1cnJlbnRJbmRleCArIDEsXG4gICAgICAgICAgICB0b3RhbDogcXVlc3Rpb25Qb29sLmxlbmd0aCxcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbixcbiAgICAgICAgICAgIG9wdGlvbnM6IHF1ZXN0aW9uLm9wdGlvbnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5xdWl6TW9kYWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy5xdWl6TW9kYWwuc2V0QWxwaGEoMCk7XG4gICAgICAgIGNvbnN0IHBhbmVsID0gdGhpcy5xdWl6UGFuZWwucGFuZWxDb250YWluZXI7XG4gICAgICAgIHBhbmVsLnNldFNjYWxlKDAuOTYpO1xuICAgICAgICBwYW5lbC55ICs9IDE4O1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5xdWl6TW9kYWwsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxODBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBwYW5lbCxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgeTogcGFuZWwueSAtIDE4LFxuICAgICAgICAgICAgZHVyYXRpb246IDIyMCxcbiAgICAgICAgICAgIGVhc2U6ICdCYWNrLmVhc2VPdXQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xvc2VRdWl6TW9kYWwoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucXVpek9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgxKTtcbiAgICAgICAgdGhpcy5xdWl6TW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVRdWl6QW5zd2VyKGluZGV4OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgcXVlc3Rpb25Qb29sID0gdGhpcy5nZXRRdWVzdGlvblBvb2woKTtcbiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSBxdWVzdGlvblBvb2xbdGhpcy5xdWl6Q3VycmVudEluZGV4ICUgcXVlc3Rpb25Qb29sLmxlbmd0aF07XG4gICAgICAgIGxldCBpc0NvcnJlY3QgPSBpbmRleCA9PT0gcXVlc3Rpb24uY29ycmVjdEluZGV4O1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uSWQgPSBxdWVzdGlvbi5vcHRpb25JZHNbaW5kZXhdO1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uSWQgJiYgcXVlc3Rpb24uc2Vzc2lvblF1ZXN0aW9uSWQgJiYgc2VsZWN0ZWRPcHRpb25JZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN1Ym1pdEFuc3dlciB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi9zZXJ2aWNlcy9hcGknKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBzdWJtaXRBbnN3ZXIoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbi5zZXNzaW9uUXVlc3Rpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgeyBmb3JjZVJlYWw6IHRoaXMuZ2FtZUNvZGUgPT09ICd2b2NhYl9yYWNlJyB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpc0NvcnJlY3QgPSByZXMuZGF0YS5pc19jb3JyZWN0O1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdzdWJtaXRBbnN3ZXIgZmFpbGVkLCBmYWxsYmFjayB0byBsb2NhbCBjaGVjaycsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMucXVpek9wdGlvbkJ1dHRvbnNbaW5kZXhdO1xuICAgICAgICBjb25zdCByZWRyYXcgPSBidG4uZ2V0RGF0YSgncmVkcmF3JykgYXMgKHN0YXRlOiAnbm9ybWFsJyB8ICdjb3JyZWN0JyB8ICd3cm9uZycpID0+IHZvaWQ7XG5cbiAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlZHJhdygnY29ycmVjdCcpO1xuICAgICAgICAgICAgdGhpcy5zZXRRdWl6RmVlZGJhY2soJ2NvcnJlY3QnKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2NvcmUoMSk7XG4gICAgICAgICAgICB0aGlzLnNwZWVkVXBKdW1wKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGF5KDQwMCk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlUXVpek1vZGFsKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUp1bXAoKTtcbiAgICAgICAgICAgIHRoaXMucXVpekN1cnJlbnRJbmRleCArPSAxO1xuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDI1MCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlblF1aXpNb2RhbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmVkcmF3KCd3cm9uZycpO1xuICAgICAgICAgICAgdGhpcy5zZXRRdWl6RmVlZGJhY2soJ3dyb25nJyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKC0xKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd1BsYXllclN0YXRlKCdpbmNvcnJlY3QnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVsID0gdGhpcy5xdWl6UGFuZWwucGFuZWxDb250YWluZXI7XG4gICAgICAgICAgICBjb25zdCBzdGFydFggPSBwYW5lbC54O1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiBwYW5lbCxcbiAgICAgICAgICAgICAgICB4OiBzdGFydFggKyAxMCxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogNjAsXG4gICAgICAgICAgICAgICAgeW95bzogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZXBlYXQ6IDMsXG4gICAgICAgICAgICAgICAgZWFzZTogJ1NpbmUuZWFzZUluT3V0JyxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBhbmVsLnggPSBzdGFydFg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZWRyYXcoJ25vcm1hbCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRRdWVzdGlvblBvb2woKSB7XG4gICAgICAgIGNvbnN0IGFwaVF1ZXN0aW9ucyA9IHRoaXMuc2Vzc2lvblF1ZXN0aW9ucztcbiAgICAgICAgaWYgKGFwaVF1ZXN0aW9ucz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucXVlc3Rpb25Tb3VyY2VMb2dnZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXN0aW9uU291cmNlTG9nZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0dBTUVdW1RPV05dIFVzaW5nIHNlc3Npb24gcXVlc3Rpb25zJywge1xuICAgICAgICAgICAgICAgICAgICBnYW1lQ29kZTogdGhpcy5nYW1lQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IGFwaVF1ZXN0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZTogYXBpUXVlc3Rpb25zWzBdPy5xdWVzdGlvbj8uY29udGVudCA/PyBudWxsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXBpUXVlc3Rpb25zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBpdGVtLnF1ZXN0aW9uLm9wdGlvbnMubWFwKChvcHQpID0+IG9wdC50ZXh0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25JZHMgPSBpdGVtLnF1ZXN0aW9uLm9wdGlvbnMubWFwKChvcHQpID0+IG9wdC5pZCA/PyAnJyk7XG4gICAgICAgICAgICAgICAgbGV0IGNvcnJlY3RJbmRleCA9IGl0ZW0ucXVlc3Rpb24ub3B0aW9ucy5maW5kSW5kZXgoKG9wdCkgPT4gb3B0LmlzX2NvcnJlY3QpO1xuICAgICAgICAgICAgICAgIGlmIChjb3JyZWN0SW5kZXggPCAwKSBjb3JyZWN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25RdWVzdGlvbklkOiBpdGVtLnNlc3Npb25fcXVlc3Rpb25faWQgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb246IGl0ZW0ucXVlc3Rpb24uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uSWRzLFxuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0SW5kZXhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucXVlc3Rpb25Tb3VyY2VMb2dnZWQpIHtcbiAgICAgICAgICAgIHRoaXMucXVlc3Rpb25Tb3VyY2VMb2dnZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbR0FNRV1bVE9XTl0gVXNpbmcgZmFsbGJhY2sgbG9jYWwgcXVlc3Rpb25zJywge1xuICAgICAgICAgICAgICAgIGdhbWVDb2RlOiB0aGlzLmdhbWVDb2RlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlc3Npb25RdWVzdGlvbklkOiBudWxsLFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uOiAnV2hhdCBpcyB0aGUgY2FwaXRhbCBvZiBWaWV0bmFtPycsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogWydIYW5vaScsICdEYSBOYW5nJywgJ0hhaSBQaG9uZycsICdDYW4gVGhvJ10sXG4gICAgICAgICAgICAgICAgb3B0aW9uSWRzOiBbJycsICcnLCAnJywgJyddLFxuICAgICAgICAgICAgICAgIGNvcnJlY3RJbmRleDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uUXVlc3Rpb25JZDogbnVsbCxcbiAgICAgICAgICAgICAgICBxdWVzdGlvbjogJ1doaWNoIGxhbmd1YWdlIGRvZXMgUGhhc2VyIHVzZT8nLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFsnVHlwZVNjcmlwdC9KYXZhU2NyaXB0JywgJ0MjJywgJ1B5dGhvbicsICdHbyddLFxuICAgICAgICAgICAgICAgIG9wdGlvbklkczogWycnLCAnJywgJycsICcnXSxcbiAgICAgICAgICAgICAgICBjb3JyZWN0SW5kZXg6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblF1ZXN0aW9uSWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgcXVlc3Rpb246ICdXaGF0IGNvbG9yIGFyZSB0aGUgbGVhdmVzIGluIHRoZSBnYW1lPycsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogWydHcmVlbicsICdSZWQnLCAnUHVycGxlJywgJ1llbGxvdyddLFxuICAgICAgICAgICAgICAgIG9wdGlvbklkczogWycnLCAnJywgJycsICcnXSxcbiAgICAgICAgICAgICAgICBjb3JyZWN0SW5kZXg6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBhc3luYyBoYW5kbGVKdW1wKCkge1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuaXNKdW1waW5nKCkpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU92ZXIpIHJldHVybjtcblxuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSB0aGlzLmN1cnJlbnRMZWFmSW5kZXggKyAxO1xuICAgICAgICBjb25zdCBtYXhJbmRleCA9IHRoaXMubGVhZlBhdGgubGVuZ3RoID4gMCA/IHRoaXMubGVhZlBhdGgubGVuZ3RoIC0gMSA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAgICAgICBpZiAodGhpcy5sZWFmUGF0aC5sZW5ndGggPiAwICYmIG5leHRJbmRleCA+IG1heEluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zID0gdGhpcy5nZXRMZWFmUG9zaXRpb24obmV4dEluZGV4KTtcblxuICAgICAgICAvLyBTdG9wIGlkbGUgYW5pbWF0aW9uIGR1cmluZyBqdW1wXG4gICAgICAgIHRoaXMucGxheWVyLnN0b3BJZGxlKCk7XG5cbiAgICAgICAgLy8gU2Nyb2xsIENhbWVyYVxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmEsXG4gICAgICAgICAgICBzY3JvbGxZOiB0YXJnZXRQb3MueSAtIDgwMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA2MDAsXG4gICAgICAgICAgICBlYXNlOiAnU2luZS5lYXNlSW5PdXQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFBlcmZvcm0ganVtcCB1c2luZyBFbW90ZUNoYXJhY3RlclxuICAgICAgICBhd2FpdCB0aGlzLnBsYXllci5qdW1wVG8odGFyZ2V0UG9zLngsIHRhcmdldFBvcy55LCB0aGlzLmp1bXBEdXJhdGlvbk1zKTtcblxuICAgICAgICAvLyBVcGRhdGUgc3RhdGUgYWZ0ZXIganVtcCBjb21wbGV0ZXNcbiAgICAgICAgdGhpcy5jdXJyZW50TGVhZkluZGV4ID0gbmV4dEluZGV4O1xuXG4gICAgICAgIGNvbnN0IG5leHRQb3MgPSB0aGlzLmdldExlYWZQb3NpdGlvbih0aGlzLmN1cnJlbnRMZWFmSW5kZXggKyAxKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZmxpcChuZXh0UG9zLnggPiB0YXJnZXRQb3MueCk7XG5cbiAgICAgICAgLy8gU2hvdyBjb3JyZWN0IHN0YXRlIG9uIG5ldyBsZWFmLCB0aGVuIHJlc3VtZSBpZGxlXG4gICAgICAgIHRoaXMucGxheWVyLnNob3dDb3JyZWN0KDgwMCk7XG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg4MDAsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnBsYXlJZGxlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmxlYWZQYXRoLmxlbmd0aCA+IDAgJiYgdGhpcy5jdXJyZW50TGVhZkluZGV4ID49IG1heEluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldEFscGhhKDAuNCk7XG4gICAgICAgICAgICB0aGlzLnF1aXpPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XG4gICAgICAgICAgICB0aGlzLnRpbWVyT3ZlcmxheS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvdGFsVGltZU1zID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2NvcmUoMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVuZFRpbWVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNDAwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuRW5kTW9kYWwoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGFydFRpbWVyKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy50aW1lckV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucmVtb3ZlKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudG90YWxUaW1lTXMgPSB0aGlzLnNlc3Npb25UaW1lTGltaXQgJiYgdGhpcy5zZXNzaW9uVGltZUxpbWl0ID4gMFxuICAgICAgICAgICAgPyB0aGlzLnNlc3Npb25UaW1lTGltaXQgKiAxMDAwXG4gICAgICAgICAgICA6IDE4MDAwMDtcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lclRleHQodGhpcy50b3RhbFRpbWVNcyk7XG5cbiAgICAgICAgdGhpcy50aW1lckV2ZW50ID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcbiAgICAgICAgICAgIGRlbGF5OiAxMDAwLFxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZUNvbXBsZXRlZCB8fCB0aGlzLmdhbWVPdmVyKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbFRpbWVNcyAtPSAxMDAwO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGltZXJUZXh0KHRoaXMudG90YWxUaW1lTXMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvdGFsVGltZU1zIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbFRpbWVNcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGltZXJUZXh0KHRoaXMudG90YWxUaW1lTXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVRpbWVVcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdG9wVGltZXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVyRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5yZW1vdmUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVUaW1lclRleHQobXM6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCB0b3RhbFNlY29uZHMgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKG1zIC8gMTAwMCkpO1xuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyA2MCk7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSB0b3RhbFNlY29uZHMgJSA2MDtcbiAgICAgICAgY29uc3QgcGFkID0gKG46IG51bWJlcikgPT4gKG4gPCAxMCA/IGAwJHtufWAgOiBgJHtufWApO1xuICAgICAgICBjb25zdCB0ZXh0ID0gYCR7bWludXRlc31tICR7cGFkKHNlY29uZHMpfXNgO1xuICAgICAgICB0aGlzLnRpbWVyVGV4dC5zZXRUZXh0KHRleHQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlVGltZVVwKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5nYW1lT3ZlciB8fCB0aGlzLmdhbWVDb21wbGV0ZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5nYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIHRoaXMucXVpek9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgwLjQpO1xuICAgICAgICB0aGlzLmNsb3NlUXVpek1vZGFsKCk7XG4gICAgICAgIHRoaXMub3BlblRpbWVVcE1vZGFsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuRW5kTW9kYWwoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5lbmRNb2RhbCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMuZW5kTW9kYWwuZ2V0RGF0YSgncGFuZWwnKSBhcyBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5lbmRNb2RhbC5nZXREYXRhKCdvdmVybGF5JykgYXMgUGhhc2VyLkdhbWVPYmplY3RzLlJlY3RhbmdsZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgcGFuZWwuc2V0U2NhbGUoMC45KTtcbiAgICAgICAgaWYgKG92ZXJsYXkpIG92ZXJsYXkuc2V0QWxwaGEoMCk7XG4gICAgICAgIHRoaXMuZW5kTW9kYWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy5lbmRNb2RhbC5zZXRBbHBoYSgxKTtcbiAgICAgICAgdGhpcy5sYXVuY2hDb25mZXR0aSgpO1xuICAgICAgICB0aGlzLnN1Ym1pdFNlc3Npb25SZXN1bHQoKTtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IG92ZXJsYXksXG4gICAgICAgICAgICBhbHBoYTogMC42LFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHBhbmVsLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjYwLFxuICAgICAgICAgICAgZWFzZTogJ0JhY2suZWFzZU91dCdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXVuY2hDb25mZXR0aSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmV0dGlFbWl0dGVyKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpQnVyc3RFdmVudC5yZW1vdmUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyID0gdGhpcy5hZGQucGFydGljbGVzKDAsIDAsICd0aWxlLWZsb3dlcicsIHtcbiAgICAgICAgICAgIHNwZWVkOiB7IG1pbjogOTAsIG1heDogMTcwIH0sXG4gICAgICAgICAgICBhbmdsZTogeyBtaW46IDAsIG1heDogMzYwIH0sXG4gICAgICAgICAgICByb3RhdGU6IHsgbWluOiAtMjIwLCBtYXg6IDIyMCB9LFxuICAgICAgICAgICAgc2NhbGU6IHsgc3RhcnQ6IDAuMzIsIGVuZDogMC4xIH0sXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDE0MDAsIG1heDogMjIwMCB9LFxuICAgICAgICAgICAgcXVhbnRpdHk6IDAsXG4gICAgICAgICAgICBmcmVxdWVuY3k6IC0xLFxuICAgICAgICAgICAgZ3Jhdml0eVk6IDE2MFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlci5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyLnNldERlcHRoKDIxMDApO1xuICAgICAgICB0aGlzLnVpUm9vdC5hZGQodGhpcy5jb25mZXR0aUVtaXR0ZXIpO1xuXG4gICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50ID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcbiAgICAgICAgICAgIGRlbGF5OiA5MDAsXG4gICAgICAgICAgICByZXBlYXQ6IDAsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb25mZXR0aUVtaXR0ZXIpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlci5leHBsb2RlKDE4LCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMzUwMCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXI/LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQ/LnJlbW92ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpQnVyc3RFdmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuVGltZVVwTW9kYWwoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy50aW1lVXBNb2RhbCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMudGltZVVwTW9kYWwuZ2V0RGF0YSgncGFuZWwnKSBhcyBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgICAgICBwYW5lbC5zZXRTY2FsZSgwLjk2KTtcbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsLnNldEFscGhhKDApO1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy50aW1lVXBNb2RhbCxcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHBhbmVsLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjQwLFxuICAgICAgICAgICAgZWFzZTogJ0JhY2suZWFzZU91dCdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbG9zZVRpbWVVcE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMudGltZVVwTW9kYWwpIHJldHVybjtcbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsb3NlRW5kTW9kYWwoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5lbmRNb2RhbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmVuZE1vZGFsLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0aGlzLmVuZE1vZGFsLnNldEFscGhhKDApO1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5lbmRNb2RhbC5nZXREYXRhKCdvdmVybGF5JykgYXMgUGhhc2VyLkdhbWVPYmplY3RzLlJlY3RhbmdsZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG92ZXJsYXkpIG92ZXJsYXkuc2V0QWxwaGEoMCk7XG4gICAgICAgIGlmICh0aGlzLmNvbmZldHRpRW1pdHRlcikge1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpQnVyc3RFdmVudC5yZW1vdmUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN1Ym1pdFNlc3Npb25SZXN1bHQoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uR2FtZUlkKSByZXR1cm47XG4gICAgICAgIGltcG9ydCgnLi4vLi4vc2VydmljZXMvYXBpJylcbiAgICAgICAgICAgIC50aGVuKCh7IGVuZEdhbWVTZXNzaW9uIH0pID0+XG4gICAgICAgICAgICAgICAgZW5kR2FtZVNlc3Npb24odGhpcy5zZXNzaW9uR2FtZUlkIGFzIHN0cmluZywgdGhpcy5zY29yZSwge1xuICAgICAgICAgICAgICAgICAgICBmb3JjZVJlYWw6IHRoaXMuZ2FtZUNvZGUgPT09ICd2b2NhYl9yYWNlJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2VuZEdhbWVTZXNzaW9uIGZhaWxlZCcsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc3RhcnRSdW4oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5nYW1lQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpek9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpekN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbE9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgICAgIHRoaXMuc2NvcmVUZXh0LnNldFRleHQoJ1BPSU5UUzogMDAnKTtcbiAgICAgICAgdGhpcy5qdW1wRHVyYXRpb25NcyA9IDkwMDtcblxuICAgICAgICB0aGlzLmNsb3NlVGltZVVwTW9kYWwoKTtcbiAgICAgICAgdGhpcy5jbG9zZVF1aXpNb2RhbCgpO1xuICAgICAgICB0aGlzLmNsb3NlRW5kTW9kYWwoKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRNb2RhbCkgdGhpcy5zdGFydE1vZGFsLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zID0gdGhpcy5nZXRMZWFmUG9zaXRpb24oMCk7XG4gICAgICAgIHRoaXMucGxheWVyLnNldFBvc2l0aW9uKHN0YXJ0UG9zLngsIHN0YXJ0UG9zLnkpO1xuICAgICAgICB0aGlzLnBsYXllci5wbGF5SWRsZSgpO1xuXG4gICAgICAgIHRoaXMuY3VycmVudExlYWZJbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IG5leHRQb3MgPSB0aGlzLmdldExlYWZQb3NpdGlvbih0aGlzLmN1cnJlbnRMZWFmSW5kZXggKyAxKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZmxpcChuZXh0UG9zLnggPiBzdGFydFBvcy54KTtcblxuICAgICAgICB0aGlzLmNhbWVyYS5zY3JvbGxZID0gc3RhcnRQb3MueSAtIDkwMDtcblxuICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xuICAgICAgICB0aGlzLnRpbWVyT3ZlcmxheS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0QWxwaGEoMSk7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xuICAgICAgICB0aGlzLm9wZW5RdWl6TW9kYWwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVNjb3JlKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zY29yZSArPSBkZWx0YTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gTWF0aC5tYXgoMCwgdGhpcy5zY29yZSk7XG4gICAgICAgIHRoaXMuc2NvcmVUZXh0LnNldFRleHQoYFBPSU5UUzogJHtwb2ludHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWApO1xuICAgICAgICBpZiAodGhpcy5lbmRNb2RhbFNjb3JlVGV4dCkge1xuICAgICAgICAgICAgdGhpcy5lbmRNb2RhbFNjb3JlVGV4dC5zZXRUZXh0KGBTY29yZTogJHt0aGlzLnNjb3JlfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVFbmRUaW1lVGV4dCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuZE1vZGFsVGltZVRleHQpIHJldHVybjtcbiAgICAgICAgY29uc3QgYmFzZU1zID0gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICYmIHRoaXMuc2Vzc2lvblRpbWVMaW1pdCA+IDBcbiAgICAgICAgICAgID8gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICogMTAwMFxuICAgICAgICAgICAgOiAxODAwMDA7XG4gICAgICAgIGNvbnN0IGVsYXBzZWRNcyA9IGJhc2VNcyAtIHRoaXMudG90YWxUaW1lTXM7XG4gICAgICAgIGNvbnN0IHRvdGFsU2Vjb25kcyA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoZWxhcHNlZE1zIC8gMTAwMCkpO1xuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyA2MCk7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSB0b3RhbFNlY29uZHMgJSA2MDtcbiAgICAgICAgY29uc3QgcGFkID0gKG46IG51bWJlcikgPT4gKG4gPCAxMCA/IGAwJHtufWAgOiBgJHtufWApO1xuICAgICAgICB0aGlzLmVuZE1vZGFsVGltZVRleHQuc2V0VGV4dChgVGltZTogJHtwYWQobWludXRlcyl9OiR7cGFkKHNlY29uZHMpfWApO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3BlZWRVcEp1bXAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuanVtcER1cmF0aW9uTXMgPSBNYXRoLm1heCg0NTAsIHRoaXMuanVtcER1cmF0aW9uTXMgLSA0MCk7XG4gICAgfVxuXG4gICAgZ2V0TGVhZlBvc2l0aW9uKGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubGVhZlBhdGgubGVuZ3RoID4gMCAmJiB0aGlzLnRyYWNrSW1hZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhMZW5ndGggPSB0aGlzLmxlYWZQYXRoLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhJbmRleCA9IE1hdGgubWluKGluZGV4LCBwYXRoTGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxlYWYgPSB0aGlzLmxlYWZQYXRoW3BhdGhJbmRleF07XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMudHJhY2tJbWFnZS5zY2FsZVg7XG4gICAgICAgICAgICBjb25zdCBtYXBMZWZ0ID0gdGhpcy50cmFja0ltYWdlLnggLSB0aGlzLnRyYWNrSW1hZ2UuZGlzcGxheVdpZHRoIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IG1hcFRvcCA9IHRoaXMudHJhY2tJbWFnZS55IC0gdGhpcy50cmFja0ltYWdlLmRpc3BsYXlIZWlnaHQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHggPSBtYXBMZWZ0ICsgKGxlYWYueCAqIHNjYWxlKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBtYXBUb3AgKyAobGVhZi55ICogc2NhbGUpO1xuXG4gICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjZW50ZXJYID0gdGhpcy5zY2FsZS53aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGlzTGVmdCA9IGluZGV4ICUgMiA9PT0gMDtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkamFjZW50IGxlYWYgPSBhbHRlcm5hdGUgbGVmdC9yaWdodCB3aXRoIGEgc21hbGwgdXB3YXJkIHN0ZXBcbiAgICAgICAgY29uc3QgeSA9IHRoaXMubGVhZlN0YXJ0WSAtIChpbmRleCAqIHRoaXMubGVhZlN0ZXBZKTtcbiAgICAgICAgY29uc3QgeCA9IGlzTGVmdCA/IGNlbnRlclggLSB0aGlzLmxlYWZTaWRlT2Zmc2V0IDogY2VudGVyWCArIHRoaXMubGVhZlNpZGVPZmZzZXQ7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZExlYWZQYXRoKHRleHR1cmVLZXk6IHN0cmluZyk6IFBoYXNlci5NYXRoLlZlY3RvcjJbXSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLnRleHR1cmVzLmdldCh0ZXh0dXJlS2V5KTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGV4dHVyZT8uZ2V0U291cmNlSW1hZ2UoKSBhcyBIVE1MSW1hZ2VFbGVtZW50IHwgSFRNTENhbnZhc0VsZW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKCFzb3VyY2UgfHwgIXNvdXJjZS53aWR0aCB8fCAhc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5zeXMuZ2FtZS5jYW52YXMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gc291cmNlLndpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gc291cmNlLmhlaWdodDtcblxuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKCFjdHgpIHJldHVybiBbXTtcblxuICAgICAgICBjdHguZHJhd0ltYWdlKHNvdXJjZSwgMCwgMCk7XG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gc291cmNlLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBzb3VyY2UuaGVpZ2h0O1xuICAgICAgICBjb25zdCB2aXNpdGVkID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQpO1xuICAgICAgICBjb25zdCBjZW50ZXJzOiBQaGFzZXIuTWF0aC5WZWN0b3IyW10gPSBbXTtcblxuICAgICAgICBjb25zdCBpc0xlYWZQaXhlbCA9IChpZHg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IGRhdGFbaWR4XSAvIDI1NTtcbiAgICAgICAgICAgIGNvbnN0IGcgPSBkYXRhW2lkeCArIDFdIC8gMjU1O1xuICAgICAgICAgICAgY29uc3QgYiA9IGRhdGFbaWR4ICsgMl0gLyAyNTU7XG5cbiAgICAgICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgICAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IG1heCAtIG1pbjtcblxuICAgICAgICAgICAgaWYgKGRlbHRhID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIGxldCBodWUgPSAwO1xuICAgICAgICAgICAgaWYgKG1heCA9PT0gcikge1xuICAgICAgICAgICAgICAgIGh1ZSA9ICgoZyAtIGIpIC8gZGVsdGEpICUgNjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWF4ID09PSBnKSB7XG4gICAgICAgICAgICAgICAgaHVlID0gKGIgLSByKSAvIGRlbHRhICsgMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaHVlID0gKHIgLSBnKSAvIGRlbHRhICsgNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh1ZSA9IE1hdGgucm91bmQoaHVlICogNjApO1xuICAgICAgICAgICAgaWYgKGh1ZSA8IDApIGh1ZSArPSAzNjA7XG5cbiAgICAgICAgICAgIGNvbnN0IHNhdHVyYXRpb24gPSBtYXggPT09IDAgPyAwIDogZGVsdGEgLyBtYXg7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzR3JlZW5IdWUgPSBodWUgPj0gNzAgJiYgaHVlIDw9IDE1MDtcbiAgICAgICAgICAgIGNvbnN0IGlzU2F0dXJhdGVkID0gc2F0dXJhdGlvbiA+PSAwLjM1O1xuXG4gICAgICAgICAgICByZXR1cm4gaXNHcmVlbkh1ZSAmJiBpc1NhdHVyYXRlZDtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBtaW5CbG9iU2l6ZSA9IDQ1MDA7XG4gICAgICAgIGNvbnN0IHN0YWNrOiBudW1iZXJbXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0geSAqIHdpZHRoICsgeDtcbiAgICAgICAgICAgICAgICBpZiAodmlzaXRlZFtpbmRleF0pIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUluZGV4ID0gaW5kZXggKiA0O1xuICAgICAgICAgICAgICAgIGlmICghaXNMZWFmUGl4ZWwoZGF0YUluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW2luZGV4XSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBzdW1YID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgc3VtWSA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgbWluWCA9IHg7XG4gICAgICAgICAgICAgICAgbGV0IG1heFggPSB4O1xuICAgICAgICAgICAgICAgIGxldCBtaW5ZID0geTtcbiAgICAgICAgICAgICAgICBsZXQgbWF4WSA9IHk7XG5cbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICB2aXNpdGVkW2luZGV4XSA9IDE7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBzdGFjay5wb3AoKSBhcyBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN5ID0gTWF0aC5mbG9vcihjdXJyZW50IC8gd2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjeCA9IGN1cnJlbnQgLSAoY3kgKiB3aWR0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGFJbmRleCA9IGN1cnJlbnQgKiA0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTGVhZlBpeGVsKGN1cnJlbnREYXRhSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHN1bVggKz0gY3g7XG4gICAgICAgICAgICAgICAgICAgIHN1bVkgKz0gY3k7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCA8IG1pblgpIG1pblggPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN4ID4gbWF4WCkgbWF4WCA9IGN4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3kgPCBtaW5ZKSBtaW5ZID0gY3k7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjeSA+IG1heFkpIG1heFkgPSBjeTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3ggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWZ0ID0gY3VycmVudCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2l0ZWRbbGVmdF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWZ0SW5kZXggPSBsZWZ0ICogNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNMZWFmUGl4ZWwobGVmdEluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW2xlZnRdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChsZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW2xlZnRdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3ggPCB3aWR0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gY3VycmVudCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2l0ZWRbcmlnaHRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmlnaHRJbmRleCA9IHJpZ2h0ICogNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNMZWFmUGl4ZWwocmlnaHRJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtyaWdodF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW3JpZ2h0XSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN5ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXAgPSBjdXJyZW50IC0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2l0ZWRbdXBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBJbmRleCA9IHVwICogNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNMZWFmUGl4ZWwodXBJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFt1cF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHVwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW3VwXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN5IDwgaGVpZ2h0IC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG93biA9IGN1cnJlbnQgKyB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZFtkb3duXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvd25JbmRleCA9IGRvd24gKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xlYWZQaXhlbChkb3duSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbZG93bl0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGRvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbZG93bl0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+PSBtaW5CbG9iU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iV2lkdGggPSBtYXhYIC0gbWluWDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYkhlaWdodCA9IG1heFkgLSBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3BlY3QgPSBibG9iV2lkdGggLyAoYmxvYkhlaWdodCB8fCAxKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvYldpZHRoID49IDkwICYmIGJsb2JIZWlnaHQgPj0gOTAgJiYgYXNwZWN0ID4gMC42ICYmIGFzcGVjdCA8IDEuNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVycy5wdXNoKG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHN1bVggLyBjb3VudCwgc3VtWSAvIGNvdW50KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjZW50ZXJzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGR5ID0gYi55IC0gYS55O1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGR5KSA+IDIpIHJldHVybiBkeTtcbiAgICAgICAgICAgIHJldHVybiBhLnggLSBiLng7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjZW50ZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgcGxheWVyIHN0YXRlIC0gY29ycmVjdCBvciBpbmNvcnJlY3RcbiAgICAgKi9cbiAgICBzaG93UGxheWVyU3RhdGUoc3RhdGU6ICdjb3JyZWN0JyB8ICdpbmNvcnJlY3QnKSB7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gJ2NvcnJlY3QnKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5zaG93Q29ycmVjdCg4MDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2hvd0luY29ycmVjdCg4MDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRRdWl6RmVlZGJhY2soc3RhdGU6ICdpZGxlJyB8ICdjb3JyZWN0JyB8ICd3cm9uZycpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnF1aXpQYW5lbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRGZWVkYmFjayhzdGF0ZSk7XG4gICAgICAgIHRoaXMucXVpekZlZWRiYWNrU3RhdGUgPSBzdGF0ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlbGF5KG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwobXMsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJFdmVudEJ1cyIsIlNjZW5lIiwiRW1vdGVDaGFyYWN0ZXIiLCJnZXRHYW1lQ29uZmlnIiwicmVzb2x2ZUdhbWVDb2RlIiwiUXVpelBhbmVsIiwiR2FtZSIsImluaXQiLCJkYXRhIiwiZ2FtZUNvZGUiLCJyZWdpc3RyeSIsImdldCIsInNldCIsImdhbWVDb25maWciLCJzZXNzaW9uSWQiLCJzZXNzaW9uR2FtZUlkIiwiZ2FtZUlkIiwic2Vzc2lvblF1ZXN0aW9ucyIsInF1ZXN0aW9ucyIsInNlc3Npb25UaW1lTGltaXQiLCJ0aW1lTGltaXQiLCJjcmVhdGUiLCJ3aWR0aCIsImhlaWdodCIsInNjYWxlIiwiY2FtZXJhIiwiY2FtZXJhcyIsIm1haW4iLCJjcmVhdGVQYXJhbGxheEJhY2tncm91bmQiLCJ0cmFja0ltYWdlIiwiYWRkIiwiaW1hZ2UiLCJtYXBLZXkiLCJzZXRPcmlnaW4iLCJ0cmFja1NjYWxlIiwic2V0U2NhbGUiLCJtYXBUb3AiLCJ5IiwiZGlzcGxheUhlaWdodCIsInNldEJvdW5kcyIsImxlYWZQYXRoIiwidXNlVGV4dHVyZVBhdGgiLCJidWlsZExlYWZQYXRoIiwic3RhcnRQb3MiLCJnZXRMZWFmUG9zaXRpb24iLCJwbGF5ZXIiLCJ4IiwiY3VycmVudExlYWZJbmRleCIsIm5leHRQb3MiLCJmbGlwIiwicGxheUlkbGUiLCJzY3JvbGxZIiwidWlDYW1lcmEiLCJzZXRTY3JvbGwiLCJpZ25vcmUiLCJjaGlsZHJlbiIsImxpc3QiLCJjcmVhdGVVSSIsInRvdGFsVGltZU1zIiwiZW1pdCIsInNldEJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRDb2xvciIsInBhcmFsbGF4TGF5ZXJzIiwidXBkYXRlIiwibGVuZ3RoIiwiZm9yRWFjaCIsImxheWVyIiwiZmFjdG9yIiwiZ2V0RGF0YSIsImJhc2VZIiwidWlSb290IiwiY29udGFpbmVyIiwic2V0U2Nyb2xsRmFjdG9yIiwic2V0RGVwdGgiLCJ0aW1lck92ZXJsYXkiLCJodWRCYWNrQnV0dG9uIiwiYmFja0JnIiwiZ3JhcGhpY3MiLCJmaWxsU3R5bGUiLCJmaWxsUm91bmRlZFJlY3QiLCJsaW5lU3R5bGUiLCJzdHJva2VSb3VuZGVkUmVjdCIsImJhY2tJY29uIiwidGV4dCIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImNvbG9yIiwiYmFja0hpdCIsInpvbmUiLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJvbiIsImhhbmRsZUJhY2tUb0dhbWVMaXN0Iiwic2V0U2l6ZSIsImh1ZFBvaW50c1BpbGwiLCJwb2ludHNCZyIsInBvaW50c1ciLCJwb2ludHNIIiwic3RhciIsInNldFRpbnQiLCJzY29yZVRleHQiLCJodWRUaW1lclBpbGwiLCJ0aW1lckJnIiwidGltZXJXIiwidGltZXJIIiwidGltZXJUZXh0IiwiaHVkSGVhcnRzUGlsbCIsImhlYXJ0c0JnIiwiaGVhcnRzVyIsImhlYXJ0c0giLCJoZWFydHNUZXh0IiwibGF5b3V0SHVkIiwianVtcEJ1dHRvbiIsImNyZWF0ZUp1bXBCdXR0b24iLCJzZXRWaXNpYmxlIiwic2V0QWN0aXZlIiwic2V0dXBKdW1wSW5wdXQiLCJjcmVhdGVRdWl6TW9kYWwiLCJxdWl6TW9kYWwiLCJsYXlvdXRRdWl6IiwiY3JlYXRlU3RhcnRNb2RhbCIsIm9wZW5TdGFydE1vZGFsIiwiY3JlYXRlRW5kTW9kYWwiLCJjcmVhdGVUaW1lVXBNb2RhbCIsInRvcEluc2V0IiwiTWF0aCIsIm1heCIsInJvdW5kIiwic2lkZUluc2V0IiwiZ2FwIiwic2V0UG9zaXRpb24iLCJyaWdodEVkZ2UiLCJzaG91bGRMZWF2ZSIsIndpbmRvdyIsImNvbmZpcm0iLCJsb2NhdGlvbiIsImhyZWYiLCJiZyIsInJlY3RhbmdsZSIsInNldFN0cm9rZVN0eWxlIiwic2V0RmlsbFN0eWxlIiwianVtcEJ1dHRvbkJnIiwib25QcmVzcyIsInF1aXpPcGVuIiwic3RhcnRNb2RhbE9wZW4iLCJvcGVuUXVpek1vZGFsIiwib25SZWxlYXNlIiwiUGhhc2VyIiwiR2VvbSIsIlJlY3RhbmdsZSIsIkNvbnRhaW5zIiwidHdlZW5zIiwidGFyZ2V0cyIsImR1cmF0aW9uIiwieW95byIsInJlcGVhdCIsImlucHV0IiwiZW5hYmxlZCIsIm1vdXNlIiwicG9pbnRlciIsImJvdW5kcyIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwicXVpelBhbmVsIiwib3B0aW9uQ291bnQiLCJkZXB0aCIsInBhcmVudCIsInNob3dJbmRleCIsInF1aXpQYW5lbENvbnRhaW5lciIsInBhbmVsQ29udGFpbmVyIiwicXVpelBhbmVsU2hhZG93IiwicGFuZWxTaGFkb3ciLCJxdWl6UGFuZWxCZyIsInBhbmVsQmciLCJxdWl6UGFuZWxHbG93IiwicGFuZWxHbG93IiwicXVpekluZGV4VGV4dCIsImluZGV4VGV4dCIsInF1aXpGZWVkYmFja1RpdGxlVGV4dCIsImZlZWRiYWNrVGl0bGVUZXh0IiwicXVpekZlZWRiYWNrU3VidGl0bGVUZXh0IiwiZmVlZGJhY2tTdWJ0aXRsZVRleHQiLCJxdWl6UXVlc3Rpb25UZXh0IiwicXVlc3Rpb25UZXh0IiwicXVpek9wdGlvbkJ1dHRvbnMiLCJvcHRpb25CdXR0b25zIiwib25PcHRpb25TZWxlY3RlZCIsImluZGV4IiwicXVpekxvY2tlZCIsImhhbmRsZVF1aXpBbnN3ZXIiLCJvdmVybGF5IiwicGFuZWxXaWR0aCIsIm1pbiIsInBhbmVsSGVpZ2h0IiwidGl0bGUiLCJhbGlnbiIsIndvcmRXcmFwIiwidXNlQWR2YW5jZWRXcmFwIiwiYnV0dG9uIiwiY3JlYXRlU3RhcnRCdXR0b24iLCJzdGFydE1vZGFsIiwiYmxvY2tlciIsInNoYXBlIiwicGFuZWxCb3VuZHMiLCJzdWJ0aXRsZSIsInN0YXRzR2FwIiwiY2FyZFdpZHRoIiwiZmxvb3IiLCJjYXJkSGVpZ2h0Iiwic3RhdHNZIiwic2NvcmVDYXJkIiwidGltZUNhcmQiLCJzY29yZUNhcmRDb250YWluZXIiLCJ0aW1lQ2FyZENvbnRhaW5lciIsInNjb3JlTGFiZWwiLCJ0aW1lTGFiZWwiLCJlbmRNb2RhbFNjb3JlVGV4dCIsImVuZE1vZGFsVGltZVRleHQiLCJyZXN0YXJ0QnV0dG9uIiwiY3JlYXRlRW5kUmVzdGFydEJ1dHRvbiIsImVuZE1vZGFsIiwic2V0RGF0YSIsInJhZGl1cyIsInNoYWRvdyIsImRyYXciLCJmaWxsIiwic3Ryb2tlIiwiY2xlYXIiLCJoaXQiLCJlYXNlIiwicmVzdGFydFJ1biIsImNyZWF0ZVJlc3RhcnRCdXR0b24iLCJ0aW1lVXBNb2RhbCIsImhpdFBhZCIsImhpdFciLCJoaXRIIiwiY2xvc2VTdGFydE1vZGFsIiwic2V0QWxwaGEiLCJzdG9wVGltZXIiLCJhbHBoYSIsInN0YXJ0VGltZXIiLCJzZXRRdWVzdGlvbiIsInNldEZlZWRiYWNrIiwicmVzdWx0IiwibGF5b3V0IiwidWlTY2FsZSIsInF1aXpQYW5lbEhlaWdodCIsInF1aXpQYW5lbFdpZHRoIiwiZ2FtZU92ZXIiLCJnYW1lQ29tcGxldGVkIiwiaXNKdW1waW5nIiwicXVlc3Rpb25Qb29sIiwiZ2V0UXVlc3Rpb25Qb29sIiwicXVlc3Rpb24iLCJxdWl6Q3VycmVudEluZGV4IiwidG90YWwiLCJvcHRpb25zIiwicGFuZWwiLCJjbG9zZVF1aXpNb2RhbCIsImlzQ29ycmVjdCIsImNvcnJlY3RJbmRleCIsInNlbGVjdGVkT3B0aW9uSWQiLCJvcHRpb25JZHMiLCJzZXNzaW9uUXVlc3Rpb25JZCIsInN1Ym1pdEFuc3dlciIsInJlcyIsImZvcmNlUmVhbCIsImlzX2NvcnJlY3QiLCJlcnJvciIsImNvbnNvbGUiLCJidG4iLCJyZWRyYXciLCJzZXRRdWl6RmVlZGJhY2siLCJ1cGRhdGVTY29yZSIsInNwZWVkVXBKdW1wIiwiZGVsYXkiLCJoYW5kbGVKdW1wIiwidGltZSIsImRlbGF5ZWRDYWxsIiwic2hvd1BsYXllclN0YXRlIiwic3RhcnRYIiwib25Db21wbGV0ZSIsImFwaVF1ZXN0aW9ucyIsInF1ZXN0aW9uU291cmNlTG9nZ2VkIiwibG9nIiwiY291bnQiLCJzYW1wbGUiLCJjb250ZW50IiwibWFwIiwiaXRlbSIsIm9wdCIsImlkIiwiZmluZEluZGV4Iiwic2Vzc2lvbl9xdWVzdGlvbl9pZCIsIndhcm4iLCJuZXh0SW5kZXgiLCJtYXhJbmRleCIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwidGFyZ2V0UG9zIiwic3RvcElkbGUiLCJqdW1wVG8iLCJqdW1wRHVyYXRpb25NcyIsInNob3dDb3JyZWN0IiwidXBkYXRlRW5kVGltZVRleHQiLCJvcGVuRW5kTW9kYWwiLCJ0aW1lckV2ZW50IiwicmVtb3ZlIiwidXBkYXRlVGltZXJUZXh0IiwiYWRkRXZlbnQiLCJsb29wIiwiY2FsbGJhY2siLCJoYW5kbGVUaW1lVXAiLCJtcyIsInRvdGFsU2Vjb25kcyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwicGFkIiwibiIsInNldFRleHQiLCJvcGVuVGltZVVwTW9kYWwiLCJsYXVuY2hDb25mZXR0aSIsInN1Ym1pdFNlc3Npb25SZXN1bHQiLCJjb25mZXR0aUVtaXR0ZXIiLCJkZXN0cm95IiwiY29uZmV0dGlCdXJzdEV2ZW50IiwidW5kZWZpbmVkIiwicGFydGljbGVzIiwic3BlZWQiLCJhbmdsZSIsInJvdGF0ZSIsInN0YXJ0IiwiZW5kIiwibGlmZXNwYW4iLCJxdWFudGl0eSIsImZyZXF1ZW5jeSIsImdyYXZpdHlZIiwiZXhwbG9kZSIsImNsb3NlVGltZVVwTW9kYWwiLCJjbG9zZUVuZE1vZGFsIiwidGhlbiIsImVuZEdhbWVTZXNzaW9uIiwic2NvcmUiLCJjYXRjaCIsImVyciIsImRlbHRhIiwicG9pbnRzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImJhc2VNcyIsImVsYXBzZWRNcyIsInBhdGhMZW5ndGgiLCJwYXRoSW5kZXgiLCJsZWFmIiwic2NhbGVYIiwibWFwTGVmdCIsImRpc3BsYXlXaWR0aCIsImNlbnRlclgiLCJpc0xlZnQiLCJsZWFmU3RhcnRZIiwibGVhZlN0ZXBZIiwibGVhZlNpZGVPZmZzZXQiLCJ0ZXh0dXJlS2V5IiwidGV4dHVyZSIsInRleHR1cmVzIiwic291cmNlIiwiZ2V0U291cmNlSW1hZ2UiLCJjYW52YXMiLCJzeXMiLCJnYW1lIiwib3duZXJEb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwidmlzaXRlZCIsIlVpbnQ4QXJyYXkiLCJjZW50ZXJzIiwiaXNMZWFmUGl4ZWwiLCJpZHgiLCJyIiwiZyIsImIiLCJodWUiLCJzYXR1cmF0aW9uIiwiaXNHcmVlbkh1ZSIsImlzU2F0dXJhdGVkIiwibWluQmxvYlNpemUiLCJzdGFjayIsImRhdGFJbmRleCIsInN1bVgiLCJzdW1ZIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsInB1c2giLCJjdXJyZW50IiwicG9wIiwiY3kiLCJjeCIsImN1cnJlbnREYXRhSW5kZXgiLCJsZWZ0IiwibGVmdEluZGV4IiwicmlnaHQiLCJyaWdodEluZGV4IiwidXAiLCJ1cEluZGV4IiwiZG93biIsImRvd25JbmRleCIsImJsb2JXaWR0aCIsImJsb2JIZWlnaHQiLCJhc3BlY3QiLCJWZWN0b3IyIiwic29ydCIsImEiLCJkeSIsImFicyIsInN0YXRlIiwic2hvd0luY29ycmVjdCIsInF1aXpGZWVkYmFja1N0YXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjb25zdHJ1Y3RvciIsInNhZmVJbnNldEJvdHRvbSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/game/scenes/Game.ts\n"));

/***/ })

});