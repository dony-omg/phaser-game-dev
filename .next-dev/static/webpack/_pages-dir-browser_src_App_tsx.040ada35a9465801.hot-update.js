"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_App_tsx",{

/***/ "(pages-dir-browser)/./src/game/scenes/TrainGame.ts":
/*!**************************************!*\
  !*** ./src/game/scenes/TrainGame.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TrainGame: () => (/* binding */ TrainGame)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"(pages-dir-browser)/./node_modules/phaser/dist/phaser.js\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../EventBus */ \"(pages-dir-browser)/./src/game/EventBus.ts\");\n/* harmony import */ var _gameConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../gameConfig */ \"(pages-dir-browser)/./src/game/gameConfig.ts\");\n/* harmony import */ var _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/QuizPanel */ \"(pages-dir-browser)/./src/game/ui/QuizPanel.ts\");\n\n\n\n\nconst FALLBACK_QUESTIONS = [\n    {\n        question: {\n            content: 'Thủ đô của Việt Nam là gì?',\n            options: [\n                {\n                    text: 'Hà Nội',\n                    is_correct: true\n                },\n                {\n                    text: 'Đà Nẵng',\n                    is_correct: false\n                },\n                {\n                    text: 'Hải Phòng',\n                    is_correct: false\n                },\n                {\n                    text: 'Cần Thơ',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Phaser sử dụng ngôn ngữ nào?',\n            options: [\n                {\n                    text: 'TypeScript/JavaScript',\n                    is_correct: true\n                },\n                {\n                    text: 'C#',\n                    is_correct: false\n                },\n                {\n                    text: 'Python',\n                    is_correct: false\n                },\n                {\n                    text: 'Go',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn từ trái nghĩa của “fast”.',\n            options: [\n                {\n                    text: 'slow',\n                    is_correct: true\n                },\n                {\n                    text: 'far',\n                    is_correct: false\n                },\n                {\n                    text: 'high',\n                    is_correct: false\n                },\n                {\n                    text: 'small',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn đáp án đúng: She ___ to school every day.',\n            options: [\n                {\n                    text: 'goes',\n                    is_correct: true\n                },\n                {\n                    text: 'go',\n                    is_correct: false\n                },\n                {\n                    text: 'going',\n                    is_correct: false\n                },\n                {\n                    text: 'gone',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Từ nào có nghĩa là “nhảy”?',\n            options: [\n                {\n                    text: 'jump',\n                    is_correct: true\n                },\n                {\n                    text: 'swim',\n                    is_correct: false\n                },\n                {\n                    text: 'crawl',\n                    is_correct: false\n                },\n                {\n                    text: 'sleep',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Từ nào là danh từ?',\n            options: [\n                {\n                    text: 'river',\n                    is_correct: true\n                },\n                {\n                    text: 'run',\n                    is_correct: false\n                },\n                {\n                    text: 'quickly',\n                    is_correct: false\n                },\n                {\n                    text: 'blue',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn câu đúng ngữ pháp.',\n            options: [\n                {\n                    text: 'He is playing football.',\n                    is_correct: true\n                },\n                {\n                    text: 'He are playing football.',\n                    is_correct: false\n                },\n                {\n                    text: 'He playing football.',\n                    is_correct: false\n                },\n                {\n                    text: 'He play football.',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Từ nào là tính từ?',\n            options: [\n                {\n                    text: 'beautiful',\n                    is_correct: true\n                },\n                {\n                    text: 'beauty',\n                    is_correct: false\n                },\n                {\n                    text: 'beautify',\n                    is_correct: false\n                },\n                {\n                    text: 'beautifully',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn đáp án đúng: I ___ a book now.',\n            options: [\n                {\n                    text: 'am reading',\n                    is_correct: true\n                },\n                {\n                    text: 'read',\n                    is_correct: false\n                },\n                {\n                    text: 'reads',\n                    is_correct: false\n                },\n                {\n                    text: 'reading',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Từ nào là trạng từ?',\n            options: [\n                {\n                    text: 'quickly',\n                    is_correct: true\n                },\n                {\n                    text: 'quick',\n                    is_correct: false\n                },\n                {\n                    text: 'quicker',\n                    is_correct: false\n                },\n                {\n                    text: 'quickness',\n                    is_correct: false\n                }\n            ]\n        }\n    },\n    {\n        question: {\n            content: 'Chọn câu hỏi phù hợp khi gặp người mới.',\n            options: [\n                {\n                    text: 'What is your name?',\n                    is_correct: true\n                },\n                {\n                    text: 'Where do you live?',\n                    is_correct: false\n                },\n                {\n                    text: 'How old are you?',\n                    is_correct: false\n                },\n                {\n                    text: 'What time is it?',\n                    is_correct: false\n                }\n            ]\n        }\n    }\n];\nclass TrainGame extends phaser__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    init(data) {\n        var _data_gameCode;\n        this.gameCode = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_2__.resolveGameCode)((_data_gameCode = data === null || data === void 0 ? void 0 : data.gameCode) !== null && _data_gameCode !== void 0 ? _data_gameCode : this.registry.get('gameCode'));\n        this.registry.set('gameCode', this.gameCode);\n        var _data_sessionId;\n        this.sessionId = (_data_sessionId = data === null || data === void 0 ? void 0 : data.sessionId) !== null && _data_sessionId !== void 0 ? _data_sessionId : null;\n        var _data_gameId;\n        this.sessionGameId = (_data_gameId = data === null || data === void 0 ? void 0 : data.gameId) !== null && _data_gameId !== void 0 ? _data_gameId : null;\n        var _data_questions;\n        this.sessionQuestions = (_data_questions = data === null || data === void 0 ? void 0 : data.questions) !== null && _data_questions !== void 0 ? _data_questions : null;\n        var _data_timeLimit;\n        this.sessionTimeLimit = (_data_timeLimit = data === null || data === void 0 ? void 0 : data.timeLimit) !== null && _data_timeLimit !== void 0 ? _data_timeLimit : null;\n    }\n    create() {\n        const { width, height } = this.scale;\n        const gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_2__.getGameConfig)(this.gameCode);\n        this.carSlots = [];\n        this.camera = this.cameras.main;\n        this.camera.setBackgroundColor(gameConfig.backgroundColor);\n        this.background = this.add.image(width / 2, height / 2, 'train-bg').setDisplaySize(width, height).setOrigin(0.5, 0.5);\n        this.setupQuestions();\n        this.setupTimer();\n        this.createHud();\n        this.currentIndex = 0;\n        this.score = 0;\n        this.createRailway();\n        if (this.showCars) {\n            this.layoutTrain();\n            this.updateTrainCars(true);\n        }\n        this.createBarrierGate();\n        this.createQuizModal();\n        this.createStartModal();\n        this.createTimeUpModal();\n        this.openStartModal();\n        this.scale.on('resize', ()=>{\n            const { width: newWidth, height: newHeight } = this.scale;\n            this.background.setPosition(newWidth / 2, newHeight / 2).setDisplaySize(newWidth, newHeight);\n            this.layoutHud();\n            this.layoutQuiz();\n            this.updateBarrierPosition();\n            this.layoutStartModal();\n            this.layoutTimeUpModal();\n        });\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit('current-scene-ready', this);\n    }\n    update(_time, delta) {\n        if (this.gameOver) return;\n        if (!this.hasStarted) {\n            this.updateTrainCars();\n            return;\n        }\n        this.remainingMs = Math.max(0, this.remainingMs - delta);\n        const seconds = Math.ceil(this.remainingMs / 1000);\n        if (seconds !== this.lastSecondShown) {\n            this.lastSecondShown = seconds;\n            this.timerText.setText(this.formatTime(seconds));\n        }\n        if (this.remainingMs <= 0 && !this.gameOver) {\n            this.endGame('Out of time.', 'lose');\n        }\n        this.updateTrainCars();\n    }\n    setupQuestions() {\n        const source = this.sessionQuestions && this.sessionQuestions.length > 0 ? this.sessionQuestions : FALLBACK_QUESTIONS;\n        this.questions = source.slice(0);\n    }\n    setupTimer() {\n        if (this.sessionTimeLimit && this.sessionTimeLimit > 0) {\n            this.totalTimeMs = this.sessionTimeLimit * 1000;\n        }\n        this.remainingMs = this.totalTimeMs;\n    }\n    createHud() {\n        this.uiRoot = this.add.container(0, 0).setDepth(2000);\n        this.hudBackButton = this.add.container(0, 0);\n        const backBg = this.add.graphics();\n        backBg.fillStyle(0xffffff, 0.95);\n        backBg.fillRoundedRect(-22, -22, 44, 44, 14);\n        backBg.lineStyle(2, 0x0ea5e9, 0.2);\n        backBg.strokeRoundedRect(-22, -22, 44, 44, 14);\n        const backIcon = this.add.text(0, 1, '<', {\n            fontFamily: 'Arial Black',\n            fontSize: '26px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.hudBackButton.add([\n            backBg,\n            backIcon\n        ]);\n        this.hudBackButton.setSize(44, 44);\n        this.hudBackButton.setInteractive(new Phaser.Geom.Rectangle(-22, -22, 44, 44), Phaser.Geom.Rectangle.Contains);\n        this.hudBackButton.on('pointerdown', ()=>{\n            if (this.quizOpen) return;\n            this.scene.start('MainMenu');\n        });\n        this.hudPointsPill = this.add.container(0, 0);\n        const pointsBg = this.add.graphics();\n        const pointsW = 168;\n        const pointsH = 44;\n        pointsBg.fillStyle(0xffffff, 0.98);\n        pointsBg.fillRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        pointsBg.lineStyle(2, 0xf59e0b, 0.4);\n        pointsBg.strokeRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        const star = this.add.image(-pointsW / 2 + 24, 0, 'star').setScale(0.32).setTint(0xfbbf24);\n        this.scoreText = this.add.text(-pointsW / 2 + 46, 0, 'POINTS: 00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0, 0.5);\n        this.hudPointsPill.add([\n            pointsBg,\n            star,\n            this.scoreText\n        ]);\n        this.hudTimerPill = this.add.container(0, 0);\n        const timerBg = this.add.graphics();\n        const timerW = 96;\n        const timerH = 40;\n        timerBg.fillStyle(0xffffff, 0.98);\n        timerBg.fillRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        timerBg.lineStyle(2, 0x94a3b8, 0.4);\n        timerBg.strokeRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        this.timerText = this.add.text(0, 0, this.formatTime(Math.ceil(this.remainingMs / 1000)), {\n            fontFamily: 'Arial Black',\n            fontSize: '16px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.hudTimerPill.add([\n            timerBg,\n            this.timerText\n        ]);\n        this.uiRoot.add([\n            this.hudBackButton,\n            this.hudPointsPill,\n            this.hudTimerPill\n        ]);\n        this.layoutHud();\n        this.createTrafficLight();\n    }\n    layoutHud() {\n        const { width, height } = this.scale;\n        const topInset = Math.max(16, Math.round(height * 0.03));\n        const sideInset = Math.max(14, Math.round(width * 0.04));\n        const rightEdge = width - sideInset;\n        this.hudBackButton.setPosition(sideInset + 22, topInset + 22);\n        this.hudPointsPill.setPosition(width / 2, topInset + 22);\n        this.hudTimerPill.setPosition(rightEdge - 48, topInset + 22);\n    }\n    createTrafficLight() {\n        const lightHeight = 230;\n        const sourceHeight = 1463;\n        const sourceWidth = 335;\n        const lightWidth = Math.round(lightHeight * (sourceWidth / sourceHeight));\n        const baseX = 88;\n        const baseY = 808;\n        const anchorY = Math.round(baseY + lightHeight / 2);\n        const makeVariant = (key)=>this.add.image(baseX, baseY, key).setOrigin(0.5, 1).setDisplaySize(lightWidth, lightHeight).setDepth(1000).setAlpha(1);\n        const container = this.add.container(baseX, anchorY).setDepth(1000);\n        const offsets = {\n            red: {\n                x: 0,\n                y: 0\n            },\n            yellow: {\n                x: 0,\n                y: 0\n            },\n            green: {\n                x: -1,\n                y: 0\n            }\n        };\n        const red = this.textures.exists('train-light-red') ? this.add.image(0, 0, 'train-light-red') : this.add.rectangle(0, 0, lightWidth, lightHeight, 0xef4444, 1);\n        const yellow = this.textures.exists('train-light-yellow') ? this.add.image(0, 0, 'train-light-yellow') : this.add.rectangle(0, 0, lightWidth, lightHeight, 0xfbbf24, 1);\n        const green = this.textures.exists('train-light-green') ? this.add.image(0, 0, 'train-light-green') : this.add.rectangle(0, 0, lightWidth, lightHeight, 0x22c55e, 1);\n        const normalize = (obj)=>{\n            if ('setOrigin' in obj) {\n                obj.setOrigin(0.5, 1);\n            }\n            if ('setDisplaySize' in obj) {\n                obj.setDisplaySize(lightWidth, lightHeight);\n            }\n        };\n        normalize(red);\n        normalize(yellow);\n        normalize(green);\n        red.setPosition(offsets.red.x, offsets.red.y);\n        yellow.setPosition(offsets.yellow.x, offsets.yellow.y);\n        green.setPosition(offsets.green.x, offsets.green.y);\n        container.add([\n            red,\n            yellow,\n            green\n        ]);\n        this.trafficLightVariants = {\n            red: red,\n            yellow: yellow,\n            green: green\n        };\n        this.trafficLight = this.trafficLightVariants.red;\n        const cycle = [\n            'red',\n            'yellow',\n            'green'\n        ];\n        let cycleIndex = 0;\n        this.setTrafficLightColor(cycle[cycleIndex]);\n        this.time.addEvent({\n            delay: 700,\n            loop: true,\n            callback: ()=>{\n                cycleIndex = (cycleIndex + 1) % cycle.length;\n                this.setTrafficLightColor(cycle[cycleIndex]);\n            }\n        });\n    }\n    setTrafficLightColor(color) {\n        if (!this.trafficLightVariants) return;\n        if (this.trafficLightState === color) return;\n        this.trafficLightState = color;\n        const { red, yellow, green } = this.trafficLightVariants;\n        red.setVisible(color === 'red');\n        yellow.setVisible(color === 'yellow');\n        green.setVisible(color === 'green');\n    }\n    layoutTrain() {\n        var _this_carSlots_;\n        const { width, height } = this.scale;\n        const scaleX = this.background.displayWidth / this.background.width;\n        const scaleY = this.background.displayHeight / this.background.height;\n        const scale = Math.min(scaleX, scaleY) * this.trainCarScaleFactor;\n        const trackCurve = this.createTrackCurve(width, height);\n        const trackPoints = this.sampleTrack(trackCurve, this.maxCars);\n        this.carSlots = [];\n        for(let i = 0; i < this.maxCars; i += 1){\n            const carKey = \"train-car-\".concat(i + 1);\n            var _trackPoints_i;\n            const point = (_trackPoints_i = trackPoints[i]) !== null && _trackPoints_i !== void 0 ? _trackPoints_i : {\n                x: width / 2,\n                y: height / 2\n            };\n            const angle = this.getTrackAngle(trackPoints, i) + this.trainRotationOffset;\n            const car = this.add.image(point.x, point.y, carKey).setScale(scale).setRotation(angle);\n            car.setAlpha(1);\n            const lock = this.createLockOverlay(point.x, point.y, car.displayWidth, car.displayHeight, i);\n            lock.setVisible(false);\n            lock.disableInteractive();\n            this.carSlots.push({\n                index: i,\n                car,\n                lock\n            });\n        }\n        if (this.carSlots.length > 0) {\n            const referenceCar = this.carSlots[0].car;\n            const carLength = Math.max(referenceCar.displayWidth, referenceCar.displayHeight);\n            this.trainGapPx = carLength * this.trainCarGapFactor;\n            this.trainStepPx = this.trainGapPx;\n            this.leadCarBaseSize = {\n                width: referenceCar.displayWidth,\n                height: referenceCar.displayHeight\n            };\n        }\n        (_this_carSlots_ = this.carSlots[0]) === null || _this_carSlots_ === void 0 ? void 0 : _this_carSlots_.car.setTexture('train-car-1');\n        this.setLeadCarState('idle');\n        this.refreshLocks();\n    }\n    getLeadCarTextureKey(state) {\n        switch(state){\n            case 'correct':\n                return 'train-fox-correct';\n            case 'incorrect':\n                return 'train-fox-incorrect';\n            case 'idle':\n            default:\n                return 'train-fox-idle';\n        }\n    }\n    setLeadCarState(state) {\n        var _this_carSlots_;\n        this.leadCarState = state;\n        const leadCar = (_this_carSlots_ = this.carSlots[0]) === null || _this_carSlots_ === void 0 ? void 0 : _this_carSlots_.car;\n        if (!leadCar) return;\n        if (leadCar.texture.key !== 'train-car-1') {\n            leadCar.setTexture('train-car-1');\n        }\n        if (this.leadCarBaseSize) {\n            leadCar.setDisplaySize(this.leadCarBaseSize.width, this.leadCarBaseSize.height);\n            leadCar.setOrigin(0.5, 0.5);\n        }\n        const textureKey = this.getLeadCarTextureKey(state);\n        if (!this.textures.exists(textureKey)) {\n            if (this.leadCarBadge) this.leadCarBadge.setVisible(false);\n            return;\n        }\n        if (!this.leadCarBadge) {\n            this.leadCarBadge = this.add.image(leadCar.x, leadCar.y, textureKey).setDepth(leadCar.depth + 1).setOrigin(0.5, 0.5);\n        } else {\n            this.leadCarBadge.setTexture(textureKey).setVisible(true);\n        }\n        if (this.leadCarBaseSize && this.leadCarBadge) {\n            this.leadCarBadge.setDisplaySize(this.leadCarBaseSize.width * 0.5, this.leadCarBaseSize.height * 0.5);\n        }\n    }\n    createLockOverlay(x, y, width, height, index) {\n        const lock = this.add.container(x, y);\n        lock.setDepth(10);\n        const panelW = Math.max(140, width * 0.6);\n        const panelH = Math.max(48, height * 0.35);\n        const bg = this.add.rectangle(0, 0, panelW, panelH, 0x1f2937, 0.9);\n        bg.setStrokeStyle(2, 0xfbbf24, 0.9);\n        const text = this.add.text(0, 0, 'UNLOCK', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#f8fafc'\n        }).setOrigin(0.5);\n        lock.add([\n            bg,\n            text\n        ]);\n        lock.setSize(panelW, panelH);\n        const hitArea = new Phaser.Geom.Rectangle(-panelW / 2, -panelH / 2, panelW, panelH);\n        lock.setInteractive(hitArea, Phaser.Geom.Rectangle.Contains);\n        lock.setData('hitArea', hitArea);\n        lock.on('pointerover', ()=>{\n            if (this.quizOpen || this.gameOver) return;\n            bg.setFillStyle(0x334155, 0.95);\n            lock.setScale(1.05);\n            this.input.setDefaultCursor('pointer');\n        });\n        lock.on('pointerout', ()=>{\n            bg.setFillStyle(0x1f2937, 0.9);\n            lock.setScale(1);\n            this.input.setDefaultCursor('default');\n        });\n        lock.on('pointerdown', ()=>{\n            if (this.quizOpen || this.gameOver) return;\n            if (index !== this.currentIndex) return;\n            this.openQuestion(index);\n        });\n        return lock;\n    }\n    refreshLocks() {\n        this.carSlots.forEach((slot)=>{\n            if (!slot || !slot.car || !slot.lock) return;\n            if (!slot.car.scene || !slot.lock.scene) return;\n            slot.car.setAlpha(1);\n            slot.lock.setVisible(false);\n            if (slot.lock.input) {\n                slot.lock.disableInteractive();\n            }\n        });\n        const points = Math.max(0, this.score);\n        this.scoreText.setText(\"POINTS: \".concat(points.toString().padStart(2, '0')));\n    }\n    createQuizModal() {\n        this.quizPanel = new _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_3__.QuizPanel(this, {\n            optionCount: 4,\n            depth: 2000,\n            parent: this.uiRoot,\n            showIndex: true\n        });\n        this.quizModal = this.quizPanel.container;\n        this.quizPanel.onOptionSelected((index)=>{\n            if (this.quizLocked) return;\n            void this.handleAnswer(index);\n        });\n        this.layoutQuiz();\n    }\n    createStartModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setDepth(2100).setVisible(false);\n        const overlay = this.add.rectangle(0, 0, width, height, 0xffffff, 0.12).setOrigin(0, 0);\n        const panel = this.add.container(width / 2, Math.round(height * 0.56));\n        const panelWidth = Math.min(620, width - 80);\n        const panelHeight = Math.min(220, Math.round(height * 0.32));\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.18);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 8, -panelHeight / 2 + 10, panelWidth, panelHeight, 30);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 28);\n        panelBg.lineStyle(2, 0xffffff, 0.65);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 28);\n        const title = this.add.text(0, -38, 'Answer the questions to help the\\ntrain go ahead.', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#0f172a',\n            align: 'center',\n            lineSpacing: 6\n        }).setOrigin(0.5);\n        const button = this.createStartButton(0, Math.round(panelHeight * 0.23));\n        panel.add([\n            panelShadow,\n            panelBg,\n            title,\n            button\n        ]);\n        container.add([\n            overlay,\n            panel\n        ]);\n        this.startModal = container;\n        this.startModalPanel = panel;\n        this.uiRoot.add(container);\n        this.layoutStartModal();\n    }\n    createTimeUpModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setDepth(2200).setVisible(false);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.1).setOrigin(0, 0);\n        const panel = this.add.container(width / 2, Math.round(height * 0.56));\n        const panelWidth = Math.min(620, width - 80);\n        const panelHeight = Math.min(220, Math.round(height * 0.32));\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.18);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 8, -panelHeight / 2 + 10, panelWidth, panelHeight, 30);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 28);\n        panelBg.lineStyle(2, 0xffffff, 0.65);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 28);\n        this.timeUpTitleText = this.add.text(0, -14, 'Out of time! Failed!', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#0f172a',\n            align: 'center'\n        }).setOrigin(0.5);\n        const button = this.createTimeoutButton(0, Math.round(panelHeight * 0.23));\n        panel.add([\n            panelShadow,\n            panelBg,\n            this.timeUpTitleText,\n            button\n        ]);\n        container.add([\n            overlay,\n            panel\n        ]);\n        this.timeUpModal = container;\n        this.timeUpModalPanel = panel;\n        this.uiRoot.add(container);\n        this.layoutTimeUpModal();\n    }\n    layoutStartModal() {\n        if (!this.startModal || !this.startModalPanel) return;\n        const { width, height } = this.scale;\n        const overlay = this.startModal.list[0];\n        if (overlay && 'setSize' in overlay) {\n            overlay.setSize(width, height);\n        }\n        this.startModalPanel.setPosition(width / 2, Math.round(height * 0.56));\n    }\n    layoutTimeUpModal() {\n        if (!this.timeUpModal || !this.timeUpModalPanel) return;\n        const { width, height } = this.scale;\n        const overlay = this.timeUpModal.list[0];\n        if (overlay && 'setSize' in overlay) {\n            overlay.setSize(width, height);\n        }\n        this.timeUpModalPanel.setPosition(width / 2, Math.round(height * 0.56));\n    }\n    createStartButton(x, y) {\n        const container = this.add.container(x, y);\n        const width = 530;\n        const height = 72;\n        const radius = 30;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x1e3a8a, 0.18);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.65);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 1, 'Start Game', {\n            fontFamily: 'Arial Black',\n            fontSize: '34px',\n            color: '#ffffff'\n        }).setOrigin(0.5).setScale(0.66);\n        const hit = this.add.rectangle(0, 0, width + 16, height + 16, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.input.setDefaultCursor('pointer');\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 100,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.input.setDefaultCursor('default');\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 100,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            if (!this.startModalOpen) return;\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 70,\n                ease: 'Sine.easeOut'\n            });\n            this.startGameFlow();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 70,\n                ease: 'Sine.easeOut'\n            });\n        });\n        this.tweens.add({\n            targets: container,\n            scale: 1.03,\n            duration: 850,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    createTimeoutButton(x, y) {\n        const container = this.add.container(x, y);\n        const width = 530;\n        const height = 72;\n        const radius = 30;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x1e3a8a, 0.18);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.65);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 1, 'Play Again', {\n            fontFamily: 'Arial Black',\n            fontSize: '34px',\n            color: '#ffffff'\n        }).setOrigin(0.5).setScale(0.66);\n        const hit = this.add.rectangle(0, 0, width + 16, height + 16, 0xffffff, 0.001);\n        hit.setInteractive();\n        hit.setData('restarting', false);\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            if (hit.getData('restarting')) return;\n            draw(0x2563eb, 0xbfdbfe);\n            this.input.setDefaultCursor('pointer');\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 100,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            if (hit.getData('restarting')) return;\n            draw(0x3b82f6, 0x93c5fd);\n            this.input.setDefaultCursor('default');\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 100,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            if (hit.getData('restarting')) return;\n            hit.setData('restarting', true);\n            hit.disableInteractive();\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 70,\n                ease: 'Sine.easeOut'\n            });\n            this.time.delayedCall(90, ()=>{\n                if (!this.sys.isActive()) return;\n                this.restartTrainRun();\n            });\n        });\n        hit.on('pointerup', ()=>{\n            if (hit.getData('restarting')) return;\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 70,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    openStartModal() {\n        if (!this.startModal) return;\n        this.startModalOpen = true;\n        this.hasStarted = false;\n        this.startModal.setVisible(true);\n        this.startModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.startModal,\n            alpha: 1,\n            duration: 180\n        });\n    }\n    closeStartModal() {\n        if (!this.startModal) return;\n        this.startModalOpen = false;\n        this.startModal.setVisible(false);\n    }\n    startGameFlow() {\n        if (this.hasStarted) return;\n        this.hasStarted = true;\n        this.closeStartModal();\n        this.openQuestion(this.currentIndex);\n    }\n    openTimeUpModal() {\n        let message = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'Out of time! Try again.';\n        if (!this.timeUpModal || !this.timeUpModalPanel) return;\n        this.timeUpTitleText.setText(message);\n        this.timeUpModalPanel.setScale(0.96);\n        this.timeUpModal.setVisible(true);\n        this.timeUpModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.timeUpModal,\n            alpha: 1,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: this.timeUpModalPanel,\n            scale: 1,\n            duration: 240,\n            ease: 'Back.easeOut'\n        });\n    }\n    submitSessionResult() {\n        if (!this.sessionGameId) return;\n        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\")).then((param)=>{\n            let { endGameSession } = param;\n            return endGameSession(this.sessionGameId, this.score);\n        }).catch((error)=>{\n            console.error('endGameSession failed', error);\n        });\n    }\n    restartTrainRun() {\n        this.input.setDefaultCursor('default');\n        this.scene.start('TrainGame', {\n            gameCode: this.gameCode,\n            sessionId: this.sessionId,\n            gameId: this.sessionGameId,\n            questions: this.sessionQuestions,\n            timeLimit: this.sessionTimeLimit\n        });\n    }\n    layoutQuiz() {\n        const { width, height } = this.scale;\n        this.quizPanel.layout(width, height);\n    }\n    openQuestion(index) {\n        if (this.quizOpen || this.gameOver) return;\n        if (!this.hasStarted) return;\n        this.setLeadCarState('idle');\n        const question = this.getQuestionForIndex(index);\n        const options = question.question.options.map((opt)=>opt.text);\n        this.currentOptionIds = question.question.options.map((opt)=>{\n            var _opt_id;\n            return (_opt_id = opt.id) !== null && _opt_id !== void 0 ? _opt_id : '';\n        });\n        var _question_session_question_id;\n        this.currentSessionQuestionId = (_question_session_question_id = question.session_question_id) !== null && _question_session_question_id !== void 0 ? _question_session_question_id : null;\n        let correctIndex = question.question.options.findIndex((opt)=>opt.is_correct);\n        if (correctIndex < 0) correctIndex = 0;\n        this.currentCorrectIndex = correctIndex;\n        this.quizPanel.setFeedback('idle');\n        this.quizPanel.setQuestion({\n            index: index + 1,\n            total: this.maxCars,\n            question: question.question.content,\n            options\n        });\n        this.updateBarrierPosition();\n        this.setBarrierOpen(false);\n        this.layoutQuiz();\n        this.quizOpen = true;\n        this.quizLocked = false;\n        this.quizModal.setVisible(true);\n        this.quizPanel.setInteractive(true);\n    }\n    async handleAnswer(selectedIndex) {\n        if (this.quizLocked) return;\n        this.quizLocked = true;\n        let isCorrect = selectedIndex === this.currentCorrectIndex;\n        const selectedOptionId = this.currentOptionIds[selectedIndex];\n        if (this.sessionId && this.currentSessionQuestionId && selectedOptionId) {\n            try {\n                const { submitAnswer } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\"));\n                const res = await submitAnswer(this.sessionId, this.currentSessionQuestionId, selectedOptionId);\n                isCorrect = res.data.is_correct;\n            } catch (error) {\n                console.error('submitAnswer failed, fallback to local check', error);\n            }\n        }\n        if (isCorrect) {\n            this.setLeadCarState('correct');\n            this.quizPanel.setFeedback('correct');\n            this.quizPanel.setOptionState(selectedIndex, 'correct');\n            this.quizPanel.setInteractive(false);\n            this.time.delayedCall(500, ()=>{\n                this.closeQuiz();\n                this.applyCorrect();\n            });\n        } else {\n            this.setLeadCarState('incorrect');\n            this.quizPanel.setFeedback('wrong');\n            this.quizPanel.setOptionState(selectedIndex, 'wrong');\n            this.quizPanel.setInteractive(false);\n            this.time.delayedCall(650, ()=>{\n                this.applyWrong();\n                this.setLeadCarState('idle');\n                this.quizPanel.setOptionState(selectedIndex, 'normal');\n                this.quizPanel.setFeedback('idle');\n                this.quizPanel.setInteractive(true);\n                this.quizLocked = false;\n            });\n        }\n    }\n    applyCorrect() {\n        this.currentIndex = Math.min(this.maxCars, this.currentIndex + 1);\n        this.score = this.currentIndex;\n        this.refreshLocks();\n        if (this.currentIndex >= this.maxCars) {\n            this.setBarrierOpen(true);\n            this.moveTrainToEnd(()=>{\n                this.endGame(\"You completed all \".concat(this.maxCars, \" cars!\"), 'win');\n            });\n            return;\n        }\n        this.moveTrainToIndex(this.currentIndex, ()=>{\n            this.openQuestion(this.currentIndex);\n        });\n    }\n    applyWrong() {\n        this.refreshLocks();\n    }\n    moveTrainToIndex(targetIndex, onComplete) {\n        if (this.railTotalLength <= 0 || this.trainStepPx <= 0) {\n            if (onComplete) onComplete();\n            return;\n        }\n        const visualIndex = Phaser.Math.Clamp(targetIndex, 0, this.maxCars);\n        const maxDistance = Math.max(0, this.railTotalLength - 1);\n        const targetDistance = Math.min(this.trainStepPx * visualIndex, maxDistance);\n        const delta = Math.abs(targetDistance - this.trainDistancePx);\n        const duration = Phaser.Math.Clamp(Math.round(420 + delta * 1.8), 650, 1200);\n        this.trainMoving = true;\n        const tweenState = {\n            value: this.trainDistancePx\n        };\n        this.tweens.add({\n            targets: tweenState,\n            value: targetDistance,\n            duration,\n            ease: 'Sine.easeInOut',\n            onUpdate: ()=>{\n                this.trainDistancePx = tweenState.value;\n                this.updateTrainCars(true);\n            },\n            onComplete: ()=>{\n                this.trainDistancePx = targetDistance;\n                this.trainMoving = false;\n                this.updateTrainCars(true);\n                if (onComplete) onComplete();\n            }\n        });\n    }\n    moveTrainToEnd(onComplete) {\n        if (this.railTotalLength <= 0) {\n            if (onComplete) onComplete();\n            return;\n        }\n        const maxDistance = Math.max(0, this.railTotalLength - 1);\n        const trainLength = Math.max(0, (this.maxCars - 1) * this.trainGapPx);\n        const targetDistance = maxDistance + trainLength;\n        const delta = Math.abs(targetDistance - this.trainDistancePx);\n        const duration = Phaser.Math.Clamp(Math.round(520 + delta * 1.6), 800, 1800);\n        this.trainMoving = true;\n        const tweenState = {\n            value: this.trainDistancePx\n        };\n        this.tweens.add({\n            targets: tweenState,\n            value: targetDistance,\n            duration,\n            ease: 'Sine.easeInOut',\n            onUpdate: ()=>{\n                this.trainDistancePx = tweenState.value;\n                this.updateTrainCars(true);\n            },\n            onComplete: ()=>{\n                this.trainDistancePx = targetDistance;\n                this.trainMoving = false;\n                this.updateTrainCars(true);\n                if (onComplete) onComplete();\n            }\n        });\n    }\n    closeQuiz() {\n        this.quizModal.setVisible(false);\n        this.quizOpen = false;\n        this.quizLocked = false;\n    }\n    getQuestionForIndex(index) {\n        if (this.questions.length === 0) {\n            return FALLBACK_QUESTIONS[0];\n        }\n        return this.questions[index % this.questions.length];\n    }\n    createTrackCurve(width, height) {\n        const baseWidth = 750;\n        const baseHeight = 1334;\n        const scaleX = width / baseWidth;\n        const scaleY = height / baseHeight;\n        const points = [\n            {\n                x: 405,\n                y: 10\n            },\n            {\n                x: 455,\n                y: 85\n            },\n            {\n                x: 515,\n                y: 200\n            },\n            {\n                x: 485,\n                y: 360\n            },\n            {\n                x: 375,\n                y: 540\n            },\n            {\n                x: 250,\n                y: 740\n            },\n            {\n                x: 220,\n                y: 920\n            },\n            {\n                x: 270,\n                y: 1100\n            },\n            {\n                x: 325,\n                y: 1185\n            },\n            {\n                x: 505,\n                y: 1325\n            }\n        ].map((p)=>new Phaser.Math.Vector2(p.x * scaleX, p.y * scaleY));\n        return new Phaser.Curves.Spline(points);\n    }\n    sampleTrack(curve, count) {\n        const points = [];\n        const total = Math.max(1, count - 1);\n        for(let i = 0; i < count; i += 1){\n            const t = total === 0 ? 0 : i / total;\n            const p = curve.getPointAt(t);\n            points.push({\n                x: p.x,\n                y: p.y\n            });\n        }\n        return points;\n    }\n    drawTrackCurve(curve) {\n        const { startT, endT } = this.getVisibleTRange(curve);\n        const graphics = this.add.graphics();\n        graphics.setDepth(1000);\n        graphics.lineStyle(10, 0xff0000, 1);\n        const steps = 120;\n        const first = curve.getPoint(startT);\n        graphics.beginPath();\n        graphics.moveTo(first.x, first.y);\n        for(let i = 1; i <= steps; i += 1){\n            const t = startT + (endT - startT) * (i / steps);\n            const p = curve.getPoint(t);\n            graphics.lineTo(p.x, p.y);\n        }\n        graphics.strokePath();\n        this.debugCurveGraphics = graphics;\n    }\n    drawCurveMarkers(curve, count) {\n        const { width, height } = this.scale;\n        const { startT, endT } = this.getVisibleTRange(curve);\n        const graphics = this.add.graphics();\n        graphics.setDepth(1001);\n        graphics.fillStyle(0x22c55e, 1);\n        graphics.lineStyle(2, 0x22c55e, 1);\n        const total = Math.max(1, count - 1);\n        for(let i = 0; i < count; i += 1){\n            const t = total === 0 ? startT : startT + (endT - startT) * (i / total);\n            const point = curve.getPoint(t);\n            const clampedX = Phaser.Math.Clamp(point.x, 16, width - 16);\n            const clampedY = Phaser.Math.Clamp(point.y, 16, height - 16);\n            if (clampedX !== point.x || clampedY !== point.y) {\n                graphics.strokeLineShape(new Phaser.Geom.Line(point.x, point.y, clampedX, clampedY));\n            }\n            graphics.fillCircle(clampedX, clampedY, 8);\n            const labelText = \"\".concat(i + 1, \" (\").concat(Math.round(point.x), \", \").concat(Math.round(point.y), \")\");\n            const label = this.add.text(clampedX + 10, clampedY - 10, labelText, {\n                fontFamily: 'Arial Black',\n                fontSize: '18px',\n                color: '#22c55e',\n                stroke: '#0f172a',\n                strokeThickness: 3\n            });\n            label.setDepth(1002);\n            this.debugMarkerLabels.push(label);\n        }\n        this.debugMarkerGraphics = graphics;\n    }\n    getVisibleTRange(curve) {\n        const { width, height } = this.scale;\n        const margin = 8;\n        const samples = 400;\n        let startT = 0;\n        let endT = 1;\n        let foundStart = false;\n        for(let i = 0; i <= samples; i += 1){\n            const t = i / samples;\n            const p = curve.getPoint(t);\n            const inside = p.x >= margin && p.x <= width - margin && p.y >= margin && p.y <= height - margin;\n            if (inside && !foundStart) {\n                startT = t;\n                foundStart = true;\n            }\n            if (inside) {\n                endT = t;\n            }\n        }\n        const startExtend = 0.0;\n        const endExtend = 0.0;\n        return {\n            startT: Math.max(0, startT - startExtend),\n            endT: Math.min(1, endT + endExtend)\n        };\n    }\n    getTrackAngle(points, index) {\n        const curr = points[index];\n        var _points_, _ref;\n        const next = (_ref = (_points_ = points[index + 1]) !== null && _points_ !== void 0 ? _points_ : points[index - 1]) !== null && _ref !== void 0 ? _ref : curr;\n        const angle = Math.atan2(next.y - curr.y, next.x - curr.x);\n        return angle;\n    }\n    buildRailPath(spline) {\n        const length = spline.getLength();\n        const sampleEveryPx = 20;\n        const samples = Math.max(60, Math.round(length / sampleEveryPx));\n        const points = [];\n        for(let i = 0; i <= samples; i += 1){\n            const t = i / samples;\n            const p = spline.getPointAt(t);\n            points.push(new Phaser.Math.Vector2(p.x, p.y));\n        }\n        if (points.length < 2) {\n            this.railPathPoints = points;\n            this.railSegmentLengths = [];\n            this.railTotalLength = 0;\n            return;\n        }\n        const segments = [];\n        let total = 0;\n        for(let i = 0; i < points.length - 1; i += 1){\n            const curr = points[i];\n            const next = points[i + 1];\n            const segLen = Phaser.Math.Distance.Between(curr.x, curr.y, next.x, next.y);\n            segments.push(segLen);\n            total += segLen;\n        }\n        this.railPathPoints = points;\n        this.railSegmentLengths = segments;\n        this.railTotalLength = total;\n    }\n    sampleRailByDistanceNoWrap(distancePx) {\n        if (this.railPathPoints.length < 2 || this.railTotalLength <= 0) {\n            return {\n                position: new Phaser.Math.Vector2(0, 0),\n                angle: 0\n            };\n        }\n        const total = this.railTotalLength;\n        if (distancePx <= 0) {\n            const start = this.railPathPoints[0];\n            const next = this.railPathPoints[1];\n            const angle = Math.atan2(next.y - start.y, next.x - start.x);\n            const dir = new Phaser.Math.Vector2(Math.cos(angle), Math.sin(angle));\n            const pos = new Phaser.Math.Vector2(start.x, start.y).add(dir.scale(distancePx));\n            return {\n                position: pos,\n                angle\n            };\n        }\n        if (distancePx >= total) {\n            const end = this.railPathPoints[this.railPathPoints.length - 1];\n            const prev = this.railPathPoints[this.railPathPoints.length - 2];\n            const angle = Math.atan2(end.y - prev.y, end.x - prev.x);\n            const dir = new Phaser.Math.Vector2(Math.cos(angle), Math.sin(angle));\n            const pos = new Phaser.Math.Vector2(end.x, end.y).add(dir.scale(distancePx - total));\n            return {\n                position: pos,\n                angle\n            };\n        }\n        let remaining = distancePx;\n        let segIndex = 0;\n        while(segIndex < this.railSegmentLengths.length && remaining > this.railSegmentLengths[segIndex]){\n            remaining -= this.railSegmentLengths[segIndex];\n            segIndex += 1;\n        }\n        const safeIndex = Math.min(segIndex, this.railPathPoints.length - 2);\n        const curr = this.railPathPoints[safeIndex];\n        const next = this.railPathPoints[safeIndex + 1];\n        const segLen = this.railSegmentLengths[safeIndex] || 1;\n        const ratio = Phaser.Math.Clamp(remaining / segLen, 0, 1);\n        const x = Phaser.Math.Linear(curr.x, next.x, ratio);\n        const y = Phaser.Math.Linear(curr.y, next.y, ratio);\n        const angle = Math.atan2(next.y - curr.y, next.x - curr.x);\n        return {\n            position: new Phaser.Math.Vector2(x, y),\n            angle\n        };\n    }\n    createRailway() {\n        const { width, height } = this.scale;\n        const spline = this.createTrackCurve(width, height);\n        this.trackSpline = spline;\n        this.trackLength = spline.getLength();\n        this.buildRailPath(spline);\n        const baseScale = Math.min(width / 750, height / 1334);\n        const railOffset = 18 * baseScale;\n        const sleeperWidth = railOffset * 1.8;\n        const sleeperHeight = 7 * baseScale;\n        const railwayContainer = this.add.container(0, 0);\n        this.railwayContainer = railwayContainer;\n        const railLeft = [];\n        const railRight = [];\n        const samples = 140;\n        for(let i = 0; i <= samples; i += 1){\n            const t = i / samples;\n            const point = spline.getPoint(t);\n            const tangent = spline.getTangent(t).normalize();\n            const normal = new Phaser.Math.Vector2(-tangent.y, tangent.x).normalize();\n            railLeft.push(new Phaser.Math.Vector2(point.x + normal.x * railOffset, point.y + normal.y * railOffset));\n            railRight.push(new Phaser.Math.Vector2(point.x - normal.x * railOffset, point.y - normal.y * railOffset));\n        }\n        const rails = this.add.graphics();\n        rails.lineStyle(8 * baseScale, 0xf8fafc, 1);\n        rails.beginPath();\n        rails.moveTo(railLeft[0].x, railLeft[0].y);\n        railLeft.forEach((p)=>rails.lineTo(p.x, p.y));\n        rails.strokePath();\n        rails.beginPath();\n        rails.moveTo(railRight[0].x, railRight[0].y);\n        railRight.forEach((p)=>rails.lineTo(p.x, p.y));\n        rails.strokePath();\n        rails.setDepth(5);\n        railwayContainer.add(rails);\n        const sleeperCount = 28;\n        for(let i = 0; i <= sleeperCount; i += 1){\n            const t = i / sleeperCount;\n            const point = spline.getPoint(t);\n            const tangent = spline.getTangent(t).normalize();\n            const angle = Math.atan2(tangent.y, tangent.x) + Math.PI / 2;\n            const sleeper = this.add.rectangle(point.x, point.y, sleeperWidth, sleeperHeight, 0xb45309, 0.95);\n            sleeper.setRotation(angle);\n            sleeper.setDepth(4);\n            railwayContainer.add(sleeper);\n        }\n        if (this.debugTrack) {\n            this.drawTrackCurve(spline);\n            this.drawCurveMarkers(spline, 11);\n        }\n        this.setRailwayVisible(true);\n        this.setDebugTrackVisible(this.debugTrack);\n        this.trainDistancePx = 0;\n        if (this.trainStepPx <= 0) {\n            this.trainStepPx = this.railTotalLength > 1 ? (this.railTotalLength - 1) / this.maxCars : 0;\n        }\n        this.refreshLocks();\n        this.updateTrainCars(true);\n    }\n    createBarrierGate() {\n        if (!this.textures.exists('train-barrier')) return;\n        const gate = this.add.image(0, 0, 'train-barrier');\n        gate.setDepth(6);\n        gate.setOrigin(0.08, 0.5);\n        this.barrierGate = gate;\n        this.updateBarrierPosition();\n        this.setBarrierOpen(false, true);\n    }\n    updateBarrierPosition() {\n        if (!this.barrierGate) return;\n        const baseWidth = 750;\n        const baseHeight = 1334;\n        const scaleX = this.scale.width / baseWidth;\n        const scaleY = this.scale.height / baseHeight;\n        const baseX = 355;\n        const baseY = 230;\n        this.barrierGate.setPosition(baseX * scaleX, baseY * scaleY);\n        const scale = Math.min(scaleX, scaleY) * 0.35;\n        this.barrierGate.setScale(scale);\n        this.barrierBaseAngle = 0;\n        const targetAngle = this.barrierIsOpen ? this.barrierBaseAngle - Phaser.Math.DegToRad(45) : this.barrierBaseAngle;\n        this.barrierGate.setRotation(targetAngle);\n    }\n    setBarrierOpen(open) {\n        let immediate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        if (!this.barrierGate) return;\n        this.barrierIsOpen = open;\n        const targetAngle = open ? this.barrierBaseAngle - Phaser.Math.DegToRad(45) : this.barrierBaseAngle;\n        if (immediate) {\n            this.barrierGate.setRotation(targetAngle);\n            return;\n        }\n        this.tweens.add({\n            targets: this.barrierGate,\n            rotation: targetAngle,\n            duration: 220,\n            ease: 'Sine.easeInOut'\n        });\n    }\n    updateTrainCars() {\n        let force = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        var _this_carSlots_;\n        if (!this.showCars) return;\n        if (!force && !this.trainMoving) return;\n        if (this.railTotalLength <= 0) return;\n        for(let i = 0; i < this.carSlots.length; i += 1){\n            const slot = this.carSlots[i];\n            const distanceFromBottom = this.trainDistancePx - i * this.trainGapPx;\n            const mappedDistance = Math.max(0, this.railTotalLength - 1) - distanceFromBottom;\n            const sample = this.sampleRailByDistanceNoWrap(mappedDistance);\n            slot.car.setPosition(sample.position.x, sample.position.y);\n            slot.car.setRotation(sample.angle + this.trainRotationOffset);\n        }\n        const leadCar = (_this_carSlots_ = this.carSlots[0]) === null || _this_carSlots_ === void 0 ? void 0 : _this_carSlots_.car;\n        if (leadCar && this.leadCarBadge) {\n            const offsetX = -leadCar.displayWidth * 0.34;\n            const offsetY = -leadCar.displayHeight * 0.08;\n            const rotation = leadCar.rotation;\n            const worldX = leadCar.x + Math.cos(rotation) * offsetX - Math.sin(rotation) * offsetY;\n            const worldY = leadCar.y + Math.sin(rotation) * offsetX + Math.cos(rotation) * offsetY;\n            this.leadCarBadge.setPosition(worldX, worldY);\n            this.leadCarBadge.setRotation(rotation);\n        }\n    }\n    setShowCars(value) {\n        this.showCars = value;\n        this.carSlots.forEach((slot)=>{\n            slot.car.setVisible(value);\n            slot.lock.setVisible(false);\n        });\n        if (this.leadCarBadge) {\n            this.leadCarBadge.setVisible(value);\n        }\n        if (value) {\n            this.refreshLocks();\n            this.updateTrainCars(true);\n        }\n    }\n    setRailwayVisible(value) {\n        if (this.railwayContainer) {\n            this.railwayContainer.setVisible(value);\n        }\n        if (this.debugCurveGraphics) {\n            this.debugCurveGraphics.setVisible(value && this.debugTrack);\n        }\n        if (this.debugMarkerGraphics) {\n            this.debugMarkerGraphics.setVisible(value && this.debugTrack);\n        }\n        this.debugMarkerLabels.forEach((label)=>label.setVisible(value && this.debugTrack));\n    }\n    isRailwayVisible() {\n        var _this_railwayContainer;\n        var _this_railwayContainer_visible;\n        return (_this_railwayContainer_visible = (_this_railwayContainer = this.railwayContainer) === null || _this_railwayContainer === void 0 ? void 0 : _this_railwayContainer.visible) !== null && _this_railwayContainer_visible !== void 0 ? _this_railwayContainer_visible : true;\n    }\n    setDebugTrackVisible(value) {\n        this.debugTrack = value;\n        if (this.debugCurveGraphics) {\n            this.debugCurveGraphics.setVisible(value);\n        }\n        if (this.debugMarkerGraphics) {\n            this.debugMarkerGraphics.setVisible(value);\n        }\n        this.debugMarkerLabels.forEach((label)=>label.setVisible(value));\n    }\n    setTrainMoving(value) {\n        this.trainMoving = value;\n        if (!value) {\n            this.updateTrainCars(true);\n        }\n    }\n    endGame(reason, result) {\n        if (this.gameOver) return;\n        this.gameOver = true;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.hasStarted = false;\n        this.closeQuiz();\n        this.submitSessionResult();\n        if (result === 'lose') {\n            this.openTimeUpModal('Out of time! Try again.');\n            return;\n        }\n        this.openTimeUpModal(reason || 'Great job! You won!');\n    }\n    formatTime(seconds) {\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return \"\".concat(mins, \"m \").concat(secs.toString().padStart(2, '0'), \"s\");\n    }\n    constructor(){\n        super('TrainGame'), this.debugTrack = false, this.showCars = true, this.trainMoving = false, this.trafficLightState = null, this.trainDistancePx = 0, this.trainSpeedPxPerSec = -180, this.trainGapPx = 0, this.trackLength = 0, this.trainCarGapFactor = 0.68, this.trainCarScaleFactor = 0.468, this.railPathPoints = [], this.railSegmentLengths = [], this.railTotalLength = 0, this.trainRotationOffset = Phaser.Math.DegToRad(-90), this.leadCarState = 'idle', this.leadCarBaseSize = null, this.debugMarkerLabels = [], this.showHoverCoords = false, this.barrierBaseAngle = 0, this.barrierIsOpen = false, this.carSlots = [], this.startModalOpen = false, this.hasStarted = false, this.gameCode = 'train_game', this.sessionId = null, this.sessionGameId = null, this.sessionQuestions = null, this.sessionTimeLimit = null, this.maxCars = 11, this.currentIndex = 0, this.score = 0, this.totalTimeMs = 300000, this.remainingMs = 300000, this.lastSecondShown = -1, this.quizOpen = false, this.quizLocked = false, this.gameOver = false, this.questions = [], this.currentCorrectIndex = 0, this.currentSessionQuestionId = null, this.currentOptionIds = [], this.trainStepPx = 0;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9nYW1lL3NjZW5lcy9UcmFpbkdhbWUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQStCO0FBQ1E7QUFFd0I7QUFDbkI7QUFrQjVDLE1BQU1LLHFCQUFxQztJQUN2QztRQUNJQyxVQUFVO1lBQ05DLFNBQVM7WUFDVEMsU0FBUztnQkFDTDtvQkFBRUMsTUFBTTtvQkFBVUMsWUFBWTtnQkFBSztnQkFDbkM7b0JBQUVELE1BQU07b0JBQVdDLFlBQVk7Z0JBQU07Z0JBQ3JDO29CQUFFRCxNQUFNO29CQUFhQyxZQUFZO2dCQUFNO2dCQUN2QztvQkFBRUQsTUFBTTtvQkFBV0MsWUFBWTtnQkFBTTthQUN4QztRQUNMO0lBQ0o7SUFDQTtRQUNJSixVQUFVO1lBQ05DLFNBQVM7WUFDVEMsU0FBUztnQkFDTDtvQkFBRUMsTUFBTTtvQkFBeUJDLFlBQVk7Z0JBQUs7Z0JBQ2xEO29CQUFFRCxNQUFNO29CQUFNQyxZQUFZO2dCQUFNO2dCQUNoQztvQkFBRUQsTUFBTTtvQkFBVUMsWUFBWTtnQkFBTTtnQkFDcEM7b0JBQUVELE1BQU07b0JBQU1DLFlBQVk7Z0JBQU07YUFDbkM7UUFDTDtJQUNKO0lBQ0E7UUFDSUosVUFBVTtZQUNOQyxTQUFTO1lBQ1RDLFNBQVM7Z0JBQ0w7b0JBQUVDLE1BQU07b0JBQVFDLFlBQVk7Z0JBQUs7Z0JBQ2pDO29CQUFFRCxNQUFNO29CQUFPQyxZQUFZO2dCQUFNO2dCQUNqQztvQkFBRUQsTUFBTTtvQkFBUUMsWUFBWTtnQkFBTTtnQkFDbEM7b0JBQUVELE1BQU07b0JBQVNDLFlBQVk7Z0JBQU07YUFDdEM7UUFDTDtJQUNKO0lBQ0E7UUFDSUosVUFBVTtZQUNOQyxTQUFTO1lBQ1RDLFNBQVM7Z0JBQ0w7b0JBQUVDLE1BQU07b0JBQVFDLFlBQVk7Z0JBQUs7Z0JBQ2pDO29CQUFFRCxNQUFNO29CQUFNQyxZQUFZO2dCQUFNO2dCQUNoQztvQkFBRUQsTUFBTTtvQkFBU0MsWUFBWTtnQkFBTTtnQkFDbkM7b0JB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QUM3Qk4sa0JBQTRELFdBSzVEMEosb0JBQStDLEVBQUUsT0FDakRrRixrQkFBa0IsWUFHbEIxQixtQkFBMkIsUUFDM0JFLGdCQUF5QixZQUdqQ2hYLFdBQTJCLEVBQUUsT0FjN0I0TixpQkFBMEIsWUFDMUJyTCxhQUFzQixZQUV0QnZELFdBQW1CLG1CQUNuQkksWUFBMkIsV0FDM0JDLGdCQUErQixXQUMvQkUsbUJBQTBDLFdBQzFDRSxtQkFBa0MsV0FFbENnSixVQUFrQixTQUNsQjNILGVBQXVCLFFBQ3ZCQyxRQUFnQixRQUVoQnNDLGNBQXNCLGFBQ3RCYixjQUFzQixhQUN0Qkssa0JBQTBCLENBQUMsUUFFM0I2QixXQUFvQixZQUNwQm1ILGFBQXNCLFlBQ3RCdkosV0FBb0IsWUFFWjlDLFlBQTRCLEVBQUUsT0FDOUJpUSxzQkFBOEIsUUFDOUJKLDJCQUEwQyxXQUMxQ0YsbUJBQTZCLEVBQUUsT0FDL0J4RixjQUFzQjtJQUs5QjtBQWt6Q0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYjIzMDYwMS9Eb2N1bWVudHMvcGhhc2VyLWdhbWVkZXYvc3JjL2dhbWUvc2NlbmVzL1RyYWluR2FtZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2VuZSB9IGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJy4uL0V2ZW50QnVzJztcbmltcG9ydCB0eXBlIHsgR2FtZVF1ZXN0aW9uIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYXBpJztcbmltcG9ydCB7IGdldEdhbWVDb25maWcsIHJlc29sdmVHYW1lQ29kZSB9IGZyb20gJy4uL2dhbWVDb25maWcnO1xuaW1wb3J0IHsgUXVpelBhbmVsIH0gZnJvbSAnLi4vdWkvUXVpelBhbmVsJztcblxudHlwZSBUcmFpbkNhclNsb3QgPSB7XG4gICAgaW5kZXg6IG51bWJlcjtcbiAgICBjYXI6IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICBsb2NrOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xufTtcblxudHlwZSBUcmFpbkdhbWVJbml0RGF0YSA9IHtcbiAgICBnYW1lQ29kZT86IHN0cmluZyB8IG51bGw7XG4gICAgc2Vzc2lvbklkPzogc3RyaW5nIHwgbnVsbDtcbiAgICBnYW1lSWQ/OiBzdHJpbmcgfCBudWxsO1xuICAgIHF1ZXN0aW9ucz86IEdhbWVRdWVzdGlvbltdIHwgbnVsbDtcbiAgICB0aW1lTGltaXQ/OiBudW1iZXIgfCBudWxsO1xufTtcblxudHlwZSBMZWFkQ2FyU3RhdGUgPSAnaWRsZScgfCAnY29ycmVjdCcgfCAnaW5jb3JyZWN0JztcblxuY29uc3QgRkFMTEJBQ0tfUVVFU1RJT05TOiBHYW1lUXVlc3Rpb25bXSA9IFtcbiAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBjb250ZW50OiAnVGjhu6cgxJHDtCBj4bunYSBWaeG7h3QgTmFtIGzDoCBnw6w/JyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdIw6AgTuG7mWknLCBpc19jb3JyZWN0OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnxJDDoCBO4bq1bmcnLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ0jhuqNpIFBow7JuZycsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnQ+G6p24gVGjGoScsIGlzX2NvcnJlY3Q6IGZhbHNlIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBxdWVzdGlvbjoge1xuICAgICAgICAgICAgY29udGVudDogJ1BoYXNlciBz4butIGThu6VuZyBuZ8O0biBuZ+G7ryBuw6BvPycsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnVHlwZVNjcmlwdC9KYXZhU2NyaXB0JywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ0MjJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdQeXRob24nLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ0dvJywgaXNfY29ycmVjdDogZmFsc2UgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBjb250ZW50OiAnQ2jhu41uIHThu6sgdHLDoWkgbmdoxKlhIGPhu6dhIOKAnGZhc3TigJ0uJyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdzbG93JywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ2ZhcicsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnaGlnaCcsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnc21hbGwnLCBpc19jb3JyZWN0OiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgcXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdDaOG7jW4gxJHDoXAgw6FuIMSRw7puZzogU2hlIF9fXyB0byBzY2hvb2wgZXZlcnkgZGF5LicsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnZ29lcycsIGlzX2NvcnJlY3Q6IHRydWUgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdnbycsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnZ29pbmcnLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ2dvbmUnLCBpc19jb3JyZWN0OiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgcXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdU4burIG7DoG8gY8OzIG5naMSpYSBsw6Ag4oCcbmjhuqN54oCdPycsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnanVtcCcsIGlzX2NvcnJlY3Q6IHRydWUgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdzd2ltJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdjcmF3bCcsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnc2xlZXAnLCBpc19jb3JyZWN0OiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgcXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdU4burIG7DoG8gbMOgIGRhbmggdOG7qz8nLFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3JpdmVyJywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3J1bicsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAncXVpY2tseScsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnYmx1ZScsIGlzX2NvcnJlY3Q6IGZhbHNlIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBxdWVzdGlvbjoge1xuICAgICAgICAgICAgY29udGVudDogJ0No4buNbiBjw6J1IMSRw7puZyBuZ+G7ryBwaMOhcC4nLFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdGV4dDogJ0hlIGlzIHBsYXlpbmcgZm9vdGJhbGwuJywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ0hlIGFyZSBwbGF5aW5nIGZvb3RiYWxsLicsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnSGUgcGxheWluZyBmb290YmFsbC4nLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ0hlIHBsYXkgZm9vdGJhbGwuJywgaXNfY29ycmVjdDogZmFsc2UgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBjb250ZW50OiAnVOG7qyBuw6BvIGzDoCB0w61uaCB04burPycsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnYmVhdXRpZnVsJywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ2JlYXV0eScsIGlzX2NvcnJlY3Q6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyB0ZXh0OiAnYmVhdXRpZnknLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ2JlYXV0aWZ1bGx5JywgaXNfY29ycmVjdDogZmFsc2UgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBjb250ZW50OiAnQ2jhu41uIMSRw6FwIMOhbiDEkcO6bmc6IEkgX19fIGEgYm9vayBub3cuJyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdhbSByZWFkaW5nJywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3JlYWQnLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3JlYWRzJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdyZWFkaW5nJywgaXNfY29ycmVjdDogZmFsc2UgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiB7XG4gICAgICAgICAgICBjb250ZW50OiAnVOG7qyBuw6BvIGzDoCB0cuG6oW5nIHThu6s/JyxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdxdWlja2x5JywgaXNfY29ycmVjdDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ3F1aWNrJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdxdWlja2VyJywgaXNfY29ycmVjdDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdxdWlja25lc3MnLCBpc19jb3JyZWN0OiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgcXVlc3Rpb246IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdDaOG7jW4gY8OidSBo4buPaSBwaMO5IGjhu6NwIGtoaSBn4bq3cCBuZ8aw4budaSBt4bubaS4nLFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdGV4dDogJ1doYXQgaXMgeW91ciBuYW1lPycsIGlzX2NvcnJlY3Q6IHRydWUgfSxcbiAgICAgICAgICAgICAgICB7IHRleHQ6ICdXaGVyZSBkbyB5b3UgbGl2ZT8nLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ0hvdyBvbGQgYXJlIHlvdT8nLCBpc19jb3JyZWN0OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgdGV4dDogJ1doYXQgdGltZSBpcyBpdD8nLCBpc19jb3JyZWN0OiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9XG5dO1xuXG5leHBvcnQgY2xhc3MgVHJhaW5HYW1lIGV4dGVuZHMgU2NlbmVcbntcbiAgICBwcml2YXRlIGRlYnVnVHJhY2sgPSBmYWxzZTtcbiAgICBwcml2YXRlIHNob3dDYXJzID0gdHJ1ZTtcbiAgICBwcml2YXRlIHRyYWluTW92aW5nID0gZmFsc2U7XG4gICAgcHJpdmF0ZSB0cmFja1NwbGluZT86IFBoYXNlci5DdXJ2ZXMuU3BsaW5lO1xuICAgIHByaXZhdGUgdHJhaW5TcHJpdGU/OiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG4gICAgcHJpdmF0ZSB0cmFmZmljTGlnaHQ/OiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG4gICAgcHJpdmF0ZSB0cmFmZmljTGlnaHRWYXJpYW50cz86IHtcbiAgICAgICAgcmVkOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG4gICAgICAgIHllbGxvdzogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgICAgICBncmVlbjogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgIH07XG4gICAgcHJpdmF0ZSB0cmFmZmljTGlnaHRTdGF0ZTogJ3JlZCcgfCAneWVsbG93JyB8ICdncmVlbicgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHRyYWluRGlzdGFuY2VQeDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIHRyYWluU3BlZWRQeFBlclNlYzogbnVtYmVyID0gLTE4MDtcbiAgICBwcml2YXRlIHRyYWluR2FwUHg6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSB0cmFja0xlbmd0aDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRyYWluQ2FyR2FwRmFjdG9yID0gMC42ODtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRyYWluQ2FyU2NhbGVGYWN0b3IgPSAwLjQ2ODtcbiAgICBwcml2YXRlIHJhaWxQYXRoUG9pbnRzOiBQaGFzZXIuTWF0aC5WZWN0b3IyW10gPSBbXTtcbiAgICBwcml2YXRlIHJhaWxTZWdtZW50TGVuZ3RoczogbnVtYmVyW10gPSBbXTtcbiAgICBwcml2YXRlIHJhaWxUb3RhbExlbmd0aDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRyYWluUm90YXRpb25PZmZzZXQgPSBQaGFzZXIuTWF0aC5EZWdUb1JhZCgtOTApO1xuICAgIHByaXZhdGUgbGVhZENhclN0YXRlOiBMZWFkQ2FyU3RhdGUgPSAnaWRsZSc7XG4gICAgcHJpdmF0ZSBsZWFkQ2FyQmFzZVNpemU6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgbGVhZENhckJhZGdlPzogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgIHByaXZhdGUgcmFpbHdheUNvbnRhaW5lcj86IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgcHJpdmF0ZSBkZWJ1Z0N1cnZlR3JhcGhpY3M/OiBQaGFzZXIuR2FtZU9iamVjdHMuR3JhcGhpY3M7XG4gICAgcHJpdmF0ZSBkZWJ1Z01hcmtlckdyYXBoaWNzPzogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xuICAgIHByaXZhdGUgZGVidWdNYXJrZXJMYWJlbHM6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0W10gPSBbXTtcbiAgICBwcml2YXRlIHNob3dIb3ZlckNvb3JkcyA9IGZhbHNlO1xuICAgIHByaXZhdGUgaG92ZXJDb29yZFRleHQ/OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBwcml2YXRlIGJhcnJpZXJHYXRlPzogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgIHByaXZhdGUgYmFycmllckJhc2VBbmdsZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIGJhcnJpZXJJc09wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBjYW1lcmEhOiBQaGFzZXIuQ2FtZXJhcy5TY2VuZTJELkNhbWVyYTtcbiAgICBiYWNrZ3JvdW5kITogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICAgIGNhclNsb3RzOiBUcmFpbkNhclNsb3RbXSA9IFtdO1xuICAgIHF1aXpNb2RhbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgcXVpelBhbmVsITogUXVpelBhbmVsO1xuICAgIHRpbWVyVGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICAgIHNjb3JlVGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICAgIGh1ZEJhY2tCdXR0b24hOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIGh1ZFBvaW50c1BpbGwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIGh1ZFRpbWVyUGlsbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgdWlSb290ITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBzdGFydE1vZGFsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBzdGFydE1vZGFsUGFuZWwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHRpbWVVcE1vZGFsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICB0aW1lVXBNb2RhbFBhbmVsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICB0aW1lVXBUaXRsZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBzdGFydE1vZGFsT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGhhc1N0YXJ0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdhbWVDb2RlOiBzdHJpbmcgPSAndHJhaW5fZ2FtZSc7XG4gICAgc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBzZXNzaW9uR2FtZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBzZXNzaW9uUXVlc3Rpb25zOiBHYW1lUXVlc3Rpb25bXSB8IG51bGwgPSBudWxsO1xuICAgIHNlc3Npb25UaW1lTGltaXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gICAgbWF4Q2FyczogbnVtYmVyID0gMTE7XG4gICAgY3VycmVudEluZGV4OiBudW1iZXIgPSAwO1xuICAgIHNjb3JlOiBudW1iZXIgPSAwO1xuXG4gICAgdG90YWxUaW1lTXM6IG51bWJlciA9IDMwMDAwMDtcbiAgICByZW1haW5pbmdNczogbnVtYmVyID0gMzAwMDAwO1xuICAgIGxhc3RTZWNvbmRTaG93bjogbnVtYmVyID0gLTE7XG5cbiAgICBxdWl6T3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHF1aXpMb2NrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBnYW1lT3ZlcjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBxdWVzdGlvbnM6IEdhbWVRdWVzdGlvbltdID0gW107XG4gICAgcHJpdmF0ZSBjdXJyZW50Q29ycmVjdEluZGV4OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgY3VycmVudFNlc3Npb25RdWVzdGlvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIGN1cnJlbnRPcHRpb25JZHM6IHN0cmluZ1tdID0gW107XG4gICAgcHJpdmF0ZSB0cmFpblN0ZXBQeDogbnVtYmVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yICgpXG4gICAge1xuICAgICAgICBzdXBlcignVHJhaW5HYW1lJyk7XG4gICAgfVxuXG4gICAgaW5pdCAoZGF0YTogVHJhaW5HYW1lSW5pdERhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVDb2RlID0gcmVzb2x2ZUdhbWVDb2RlKGRhdGE/LmdhbWVDb2RlID8/ICh0aGlzLnJlZ2lzdHJ5LmdldCgnZ2FtZUNvZGUnKSBhcyBzdHJpbmcgfCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ2dhbWVDb2RlJywgdGhpcy5nYW1lQ29kZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gZGF0YT8uc2Vzc2lvbklkID8/IG51bGw7XG4gICAgICAgIHRoaXMuc2Vzc2lvbkdhbWVJZCA9IGRhdGE/LmdhbWVJZCA/PyBudWxsO1xuICAgICAgICB0aGlzLnNlc3Npb25RdWVzdGlvbnMgPSBkYXRhPy5xdWVzdGlvbnMgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5zZXNzaW9uVGltZUxpbWl0ID0gZGF0YT8udGltZUxpbWl0ID8/IG51bGw7XG4gICAgfVxuXG4gICAgY3JlYXRlICgpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IGdhbWVDb25maWcgPSBnZXRHYW1lQ29uZmlnKHRoaXMuZ2FtZUNvZGUpO1xuICAgICAgICB0aGlzLmNhclNsb3RzID0gW107XG5cbiAgICAgICAgdGhpcy5jYW1lcmEgPSB0aGlzLmNhbWVyYXMubWFpbjtcbiAgICAgICAgdGhpcy5jYW1lcmEuc2V0QmFja2dyb3VuZENvbG9yKGdhbWVDb25maWcuYmFja2dyb3VuZENvbG9yKTtcblxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIsICd0cmFpbi1iZycpXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodClcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41LCAwLjUpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBRdWVzdGlvbnMoKTtcbiAgICAgICAgdGhpcy5zZXR1cFRpbWVyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlSHVkKCk7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgICAgIHRoaXMuY3JlYXRlUmFpbHdheSgpO1xuICAgICAgICBpZiAodGhpcy5zaG93Q2Fycykge1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRUcmFpbigpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFpbkNhcnModHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcmVhdGVCYXJyaWVyR2F0ZSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZVF1aXpNb2RhbCgpO1xuICAgICAgICB0aGlzLmNyZWF0ZVN0YXJ0TW9kYWwoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVUaW1lVXBNb2RhbCgpO1xuICAgICAgICB0aGlzLm9wZW5TdGFydE1vZGFsKCk7XG5cbiAgICAgICAgdGhpcy5zY2FsZS5vbigncmVzaXplJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB3aWR0aDogbmV3V2lkdGgsIGhlaWdodDogbmV3SGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLnNldFBvc2l0aW9uKG5ld1dpZHRoIC8gMiwgbmV3SGVpZ2h0IC8gMikuc2V0RGlzcGxheVNpemUobmV3V2lkdGgsIG5ld0hlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmxheW91dEh1ZCgpO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRRdWl6KCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhcnJpZXJQb3NpdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRTdGFydE1vZGFsKCk7XG4gICAgICAgICAgICB0aGlzLmxheW91dFRpbWVVcE1vZGFsKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEV2ZW50QnVzLmVtaXQoJ2N1cnJlbnQtc2NlbmUtcmVhZHknLCB0aGlzKTtcbiAgICB9XG5cbiAgICB1cGRhdGUgKF90aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5nYW1lT3ZlcikgcmV0dXJuO1xuICAgICAgICBpZiAoIXRoaXMuaGFzU3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFpbkNhcnMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVtYWluaW5nTXMgPSBNYXRoLm1heCgwLCB0aGlzLnJlbWFpbmluZ01zIC0gZGVsdGEpO1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5jZWlsKHRoaXMucmVtYWluaW5nTXMgLyAxMDAwKTtcbiAgICAgICAgaWYgKHNlY29uZHMgIT09IHRoaXMubGFzdFNlY29uZFNob3duKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RTZWNvbmRTaG93biA9IHNlY29uZHM7XG4gICAgICAgICAgICB0aGlzLnRpbWVyVGV4dC5zZXRUZXh0KHRoaXMuZm9ybWF0VGltZShzZWNvbmRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdNcyA8PSAwICYmICF0aGlzLmdhbWVPdmVyKSB7XG4gICAgICAgICAgICB0aGlzLmVuZEdhbWUoJ091dCBvZiB0aW1lLicsICdsb3NlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRyYWluQ2FycygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBRdWVzdGlvbnMgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc2Vzc2lvblF1ZXN0aW9ucyAmJiB0aGlzLnNlc3Npb25RdWVzdGlvbnMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyB0aGlzLnNlc3Npb25RdWVzdGlvbnNcbiAgICAgICAgICAgIDogRkFMTEJBQ0tfUVVFU1RJT05TO1xuXG4gICAgICAgIHRoaXMucXVlc3Rpb25zID0gc291cmNlLnNsaWNlKDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBUaW1lciAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAmJiB0aGlzLnNlc3Npb25UaW1lTGltaXQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnRvdGFsVGltZU1zID0gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICogMTAwMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbWFpbmluZ01zID0gdGhpcy50b3RhbFRpbWVNcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUh1ZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51aVJvb3QgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0RGVwdGgoMjAwMCk7XG5cbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xuICAgICAgICBjb25zdCBiYWNrQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBiYWNrQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjk1KTtcbiAgICAgICAgYmFja0JnLmZpbGxSb3VuZGVkUmVjdCgtMjIsIC0yMiwgNDQsIDQ0LCAxNCk7XG4gICAgICAgIGJhY2tCZy5saW5lU3R5bGUoMiwgMHgwZWE1ZTksIDAuMik7XG4gICAgICAgIGJhY2tCZy5zdHJva2VSb3VuZGVkUmVjdCgtMjIsIC0yMiwgNDQsIDQ0LCAxNCk7XG4gICAgICAgIGNvbnN0IGJhY2tJY29uID0gdGhpcy5hZGQudGV4dCgwLCAxLCAnPCcsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzI2cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLmFkZChbYmFja0JnLCBiYWNrSWNvbl0pO1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24uc2V0U2l6ZSg0NCwgNDQpO1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24uc2V0SW50ZXJhY3RpdmUobmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZSgtMjIsIC0yMiwgNDQsIDQ0KSwgUGhhc2VyLkdlb20uUmVjdGFuZ2xlLkNvbnRhaW5zKTtcbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnF1aXpPcGVuKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluTWVudScpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmh1ZFBvaW50c1BpbGwgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XG4gICAgICAgIGNvbnN0IHBvaW50c0JnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgcG9pbnRzVyA9IDE2ODtcbiAgICAgICAgY29uc3QgcG9pbnRzSCA9IDQ0O1xuICAgICAgICBwb2ludHNCZy5maWxsU3R5bGUoMHhmZmZmZmYsIDAuOTgpO1xuICAgICAgICBwb2ludHNCZy5maWxsUm91bmRlZFJlY3QoLXBvaW50c1cgLyAyLCAtcG9pbnRzSCAvIDIsIHBvaW50c1csIHBvaW50c0gsIDIyKTtcbiAgICAgICAgcG9pbnRzQmcubGluZVN0eWxlKDIsIDB4ZjU5ZTBiLCAwLjQpO1xuICAgICAgICBwb2ludHNCZy5zdHJva2VSb3VuZGVkUmVjdCgtcG9pbnRzVyAvIDIsIC1wb2ludHNIIC8gMiwgcG9pbnRzVywgcG9pbnRzSCwgMjIpO1xuICAgICAgICBjb25zdCBzdGFyID0gdGhpcy5hZGQuaW1hZ2UoLXBvaW50c1cgLyAyICsgMjQsIDAsICdzdGFyJylcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMyKVxuICAgICAgICAgICAgLnNldFRpbnQoMHhmYmJmMjQpO1xuICAgICAgICB0aGlzLnNjb3JlVGV4dCA9IHRoaXMuYWRkLnRleHQoLXBvaW50c1cgLyAyICsgNDYsIDAsICdQT0lOVFM6IDAwJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLCAwLjUpO1xuICAgICAgICB0aGlzLmh1ZFBvaW50c1BpbGwuYWRkKFtwb2ludHNCZywgc3RhciwgdGhpcy5zY29yZVRleHRdKTtcblxuICAgICAgICB0aGlzLmh1ZFRpbWVyUGlsbCA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcbiAgICAgICAgY29uc3QgdGltZXJCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IHRpbWVyVyA9IDk2O1xuICAgICAgICBjb25zdCB0aW1lckggPSA0MDtcbiAgICAgICAgdGltZXJCZy5maWxsU3R5bGUoMHhmZmZmZmYsIDAuOTgpO1xuICAgICAgICB0aW1lckJnLmZpbGxSb3VuZGVkUmVjdCgtdGltZXJXIC8gMiwgLXRpbWVySCAvIDIsIHRpbWVyVywgdGltZXJILCAyMCk7XG4gICAgICAgIHRpbWVyQmcubGluZVN0eWxlKDIsIDB4OTRhM2I4LCAwLjQpO1xuICAgICAgICB0aW1lckJnLnN0cm9rZVJvdW5kZWRSZWN0KC10aW1lclcgLyAyLCAtdGltZXJIIC8gMiwgdGltZXJXLCB0aW1lckgsIDIwKTtcbiAgICAgICAgdGhpcy50aW1lclRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsIHRoaXMuZm9ybWF0VGltZShNYXRoLmNlaWwodGhpcy5yZW1haW5pbmdNcyAvIDEwMDApKSwge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICB0aGlzLmh1ZFRpbWVyUGlsbC5hZGQoW3RpbWVyQmcsIHRoaXMudGltZXJUZXh0XSk7XG5cbiAgICAgICAgdGhpcy51aVJvb3QuYWRkKFt0aGlzLmh1ZEJhY2tCdXR0b24sIHRoaXMuaHVkUG9pbnRzUGlsbCwgdGhpcy5odWRUaW1lclBpbGxdKTtcbiAgICAgICAgdGhpcy5sYXlvdXRIdWQoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVUcmFmZmljTGlnaHQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxheW91dEh1ZCAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCB0b3BJbnNldCA9IE1hdGgubWF4KDE2LCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuMDMpKTtcbiAgICAgICAgY29uc3Qgc2lkZUluc2V0ID0gTWF0aC5tYXgoMTQsIE1hdGgucm91bmQod2lkdGggKiAwLjA0KSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0RWRnZSA9IHdpZHRoIC0gc2lkZUluc2V0O1xuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24uc2V0UG9zaXRpb24oc2lkZUluc2V0ICsgMjIsIHRvcEluc2V0ICsgMjIpO1xuICAgICAgICB0aGlzLmh1ZFBvaW50c1BpbGwuc2V0UG9zaXRpb24od2lkdGggLyAyLCB0b3BJbnNldCArIDIyKTtcbiAgICAgICAgdGhpcy5odWRUaW1lclBpbGwuc2V0UG9zaXRpb24ocmlnaHRFZGdlIC0gNDgsIHRvcEluc2V0ICsgMjIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlVHJhZmZpY0xpZ2h0ICgpXG4gICAge1xuICAgICAgICBjb25zdCBsaWdodEhlaWdodCA9IDIzMDtcbiAgICAgICAgY29uc3Qgc291cmNlSGVpZ2h0ID0gMTQ2MztcbiAgICAgICAgY29uc3Qgc291cmNlV2lkdGggPSAzMzU7XG4gICAgICAgIGNvbnN0IGxpZ2h0V2lkdGggPSBNYXRoLnJvdW5kKGxpZ2h0SGVpZ2h0ICogKHNvdXJjZVdpZHRoIC8gc291cmNlSGVpZ2h0KSk7XG4gICAgICAgIGNvbnN0IGJhc2VYID0gODg7XG4gICAgICAgIGNvbnN0IGJhc2VZID0gODA4O1xuICAgICAgICBjb25zdCBhbmNob3JZID0gTWF0aC5yb3VuZChiYXNlWSArIGxpZ2h0SGVpZ2h0IC8gMik7XG4gICAgICAgIGNvbnN0IG1ha2VWYXJpYW50ID0gKGtleTogc3RyaW5nKSA9PiB0aGlzLmFkZC5pbWFnZShiYXNlWCwgYmFzZVksIGtleSlcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41LCAxKVxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKGxpZ2h0V2lkdGgsIGxpZ2h0SGVpZ2h0KVxuICAgICAgICAgICAgLnNldERlcHRoKDEwMDApXG4gICAgICAgICAgICAuc2V0QWxwaGEoMSk7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKGJhc2VYLCBhbmNob3JZKS5zZXREZXB0aCgxMDAwKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IHtcbiAgICAgICAgICAgIHJlZDogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICB5ZWxsb3c6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgZ3JlZW46IHsgeDogLTEsIHk6IDAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZWQgPSB0aGlzLnRleHR1cmVzLmV4aXN0cygndHJhaW4tbGlnaHQtcmVkJylcbiAgICAgICAgICAgID8gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ3RyYWluLWxpZ2h0LXJlZCcpXG4gICAgICAgICAgICA6IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCBsaWdodFdpZHRoLCBsaWdodEhlaWdodCwgMHhlZjQ0NDQsIDEpO1xuICAgICAgICBjb25zdCB5ZWxsb3cgPSB0aGlzLnRleHR1cmVzLmV4aXN0cygndHJhaW4tbGlnaHQteWVsbG93JylcbiAgICAgICAgICAgID8gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ3RyYWluLWxpZ2h0LXllbGxvdycpXG4gICAgICAgICAgICA6IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCBsaWdodFdpZHRoLCBsaWdodEhlaWdodCwgMHhmYmJmMjQsIDEpO1xuICAgICAgICBjb25zdCBncmVlbiA9IHRoaXMudGV4dHVyZXMuZXhpc3RzKCd0cmFpbi1saWdodC1ncmVlbicpXG4gICAgICAgICAgICA/IHRoaXMuYWRkLmltYWdlKDAsIDAsICd0cmFpbi1saWdodC1ncmVlbicpXG4gICAgICAgICAgICA6IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCBsaWdodFdpZHRoLCBsaWdodEhlaWdodCwgMHgyMmM1NWUsIDEpO1xuXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChvYmo6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoJ3NldE9yaWdpbicgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgKG9iaiBhcyBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2UpLnNldE9yaWdpbigwLjUsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdzZXREaXNwbGF5U2l6ZScgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgKG9iaiBhcyBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2UpLnNldERpc3BsYXlTaXplKGxpZ2h0V2lkdGgsIGxpZ2h0SGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbm9ybWFsaXplKHJlZCk7XG4gICAgICAgIG5vcm1hbGl6ZSh5ZWxsb3cpO1xuICAgICAgICBub3JtYWxpemUoZ3JlZW4pO1xuICAgICAgICByZWQuc2V0UG9zaXRpb24ob2Zmc2V0cy5yZWQueCwgb2Zmc2V0cy5yZWQueSk7XG4gICAgICAgIHllbGxvdy5zZXRQb3NpdGlvbihvZmZzZXRzLnllbGxvdy54LCBvZmZzZXRzLnllbGxvdy55KTtcbiAgICAgICAgZ3JlZW4uc2V0UG9zaXRpb24ob2Zmc2V0cy5ncmVlbi54LCBvZmZzZXRzLmdyZWVuLnkpO1xuICAgICAgICBjb250YWluZXIuYWRkKFtyZWQsIHllbGxvdywgZ3JlZW5dKTtcblxuICAgICAgICB0aGlzLnRyYWZmaWNMaWdodFZhcmlhbnRzID0ge1xuICAgICAgICAgICAgcmVkOiByZWQgYXMgUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlLFxuICAgICAgICAgICAgeWVsbG93OiB5ZWxsb3cgYXMgUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlLFxuICAgICAgICAgICAgZ3JlZW46IGdyZWVuIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRyYWZmaWNMaWdodCA9IHRoaXMudHJhZmZpY0xpZ2h0VmFyaWFudHMucmVkO1xuICAgICAgICBjb25zdCBjeWNsZTogQXJyYXk8J3JlZCcgfCAneWVsbG93JyB8ICdncmVlbic+ID0gWydyZWQnLCAneWVsbG93JywgJ2dyZWVuJ107XG4gICAgICAgIGxldCBjeWNsZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zZXRUcmFmZmljTGlnaHRDb2xvcihjeWNsZVtjeWNsZUluZGV4XSk7XG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheTogNzAwLFxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY3ljbGVJbmRleCA9IChjeWNsZUluZGV4ICsgMSkgJSBjeWNsZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUcmFmZmljTGlnaHRDb2xvcihjeWNsZVtjeWNsZUluZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0VHJhZmZpY0xpZ2h0Q29sb3IgKGNvbG9yOiAncmVkJyB8ICd5ZWxsb3cnIHwgJ2dyZWVuJylcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy50cmFmZmljTGlnaHRWYXJpYW50cykgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy50cmFmZmljTGlnaHRTdGF0ZSA9PT0gY29sb3IpIHJldHVybjtcbiAgICAgICAgdGhpcy50cmFmZmljTGlnaHRTdGF0ZSA9IGNvbG9yO1xuXG4gICAgICAgIGNvbnN0IHsgcmVkLCB5ZWxsb3csIGdyZWVuIH0gPSB0aGlzLnRyYWZmaWNMaWdodFZhcmlhbnRzO1xuICAgICAgICByZWQuc2V0VmlzaWJsZShjb2xvciA9PT0gJ3JlZCcpO1xuICAgICAgICB5ZWxsb3cuc2V0VmlzaWJsZShjb2xvciA9PT0gJ3llbGxvdycpO1xuICAgICAgICBncmVlbi5zZXRWaXNpYmxlKGNvbG9yID09PSAnZ3JlZW4nKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxheW91dFRyYWluICgpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHNjYWxlWCA9IHRoaXMuYmFja2dyb3VuZC5kaXNwbGF5V2lkdGggLyB0aGlzLmJhY2tncm91bmQud2lkdGg7XG4gICAgICAgIGNvbnN0IHNjYWxlWSA9IHRoaXMuYmFja2dyb3VuZC5kaXNwbGF5SGVpZ2h0IC8gdGhpcy5iYWNrZ3JvdW5kLmhlaWdodDtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSkgKiB0aGlzLnRyYWluQ2FyU2NhbGVGYWN0b3I7XG5cbiAgICAgICAgY29uc3QgdHJhY2tDdXJ2ZSA9IHRoaXMuY3JlYXRlVHJhY2tDdXJ2ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgdHJhY2tQb2ludHMgPSB0aGlzLnNhbXBsZVRyYWNrKHRyYWNrQ3VydmUsIHRoaXMubWF4Q2Fycyk7XG5cbiAgICAgICAgdGhpcy5jYXJTbG90cyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYXhDYXJzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhcktleSA9IGB0cmFpbi1jYXItJHtpICsgMX1gO1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0cmFja1BvaW50c1tpXSA/PyB7IHg6IHdpZHRoIC8gMiwgeTogaGVpZ2h0IC8gMiB9O1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSB0aGlzLmdldFRyYWNrQW5nbGUodHJhY2tQb2ludHMsIGkpICsgdGhpcy50cmFpblJvdGF0aW9uT2Zmc2V0O1xuICAgICAgICAgICAgY29uc3QgY2FyID0gdGhpcy5hZGQuaW1hZ2UocG9pbnQueCwgcG9pbnQueSwgY2FyS2V5KS5zZXRTY2FsZShzY2FsZSkuc2V0Um90YXRpb24oYW5nbGUpO1xuICAgICAgICAgICAgY2FyLnNldEFscGhhKDEpO1xuXG4gICAgICAgICAgICBjb25zdCBsb2NrID0gdGhpcy5jcmVhdGVMb2NrT3ZlcmxheShwb2ludC54LCBwb2ludC55LCBjYXIuZGlzcGxheVdpZHRoLCBjYXIuZGlzcGxheUhlaWdodCwgaSk7XG4gICAgICAgICAgICBsb2NrLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgbG9jay5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcblxuICAgICAgICAgICAgdGhpcy5jYXJTbG90cy5wdXNoKHsgaW5kZXg6IGksIGNhciwgbG9jayB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNhclNsb3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZUNhciA9IHRoaXMuY2FyU2xvdHNbMF0uY2FyO1xuICAgICAgICAgICAgY29uc3QgY2FyTGVuZ3RoID0gTWF0aC5tYXgocmVmZXJlbmNlQ2FyLmRpc3BsYXlXaWR0aCwgcmVmZXJlbmNlQ2FyLmRpc3BsYXlIZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy50cmFpbkdhcFB4ID0gY2FyTGVuZ3RoICogdGhpcy50cmFpbkNhckdhcEZhY3RvcjtcbiAgICAgICAgICAgIHRoaXMudHJhaW5TdGVwUHggPSB0aGlzLnRyYWluR2FwUHg7XG4gICAgICAgICAgICB0aGlzLmxlYWRDYXJCYXNlU2l6ZSA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcmVmZXJlbmNlQ2FyLmRpc3BsYXlXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHJlZmVyZW5jZUNhci5kaXNwbGF5SGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYXJTbG90c1swXT8uY2FyLnNldFRleHR1cmUoJ3RyYWluLWNhci0xJyk7XG4gICAgICAgIHRoaXMuc2V0TGVhZENhclN0YXRlKCdpZGxlJyk7XG4gICAgICAgIHRoaXMucmVmcmVzaExvY2tzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRMZWFkQ2FyVGV4dHVyZUtleSAoc3RhdGU6IExlYWRDYXJTdGF0ZSlcbiAgICB7XG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2NvcnJlY3QnOlxuICAgICAgICAgICAgICAgIHJldHVybiAndHJhaW4tZm94LWNvcnJlY3QnO1xuICAgICAgICAgICAgY2FzZSAnaW5jb3JyZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYWluLWZveC1pbmNvcnJlY3QnO1xuICAgICAgICAgICAgY2FzZSAnaWRsZSc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAndHJhaW4tZm94LWlkbGUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRMZWFkQ2FyU3RhdGUgKHN0YXRlOiBMZWFkQ2FyU3RhdGUpXG4gICAge1xuICAgICAgICB0aGlzLmxlYWRDYXJTdGF0ZSA9IHN0YXRlO1xuICAgICAgICBjb25zdCBsZWFkQ2FyID0gdGhpcy5jYXJTbG90c1swXT8uY2FyO1xuICAgICAgICBpZiAoIWxlYWRDYXIpIHJldHVybjtcbiAgICAgICAgaWYgKGxlYWRDYXIudGV4dHVyZS5rZXkgIT09ICd0cmFpbi1jYXItMScpIHtcbiAgICAgICAgICAgIGxlYWRDYXIuc2V0VGV4dHVyZSgndHJhaW4tY2FyLTEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sZWFkQ2FyQmFzZVNpemUpIHtcbiAgICAgICAgICAgIGxlYWRDYXIuc2V0RGlzcGxheVNpemUodGhpcy5sZWFkQ2FyQmFzZVNpemUud2lkdGgsIHRoaXMubGVhZENhckJhc2VTaXplLmhlaWdodCk7XG4gICAgICAgICAgICBsZWFkQ2FyLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXh0dXJlS2V5ID0gdGhpcy5nZXRMZWFkQ2FyVGV4dHVyZUtleShzdGF0ZSk7XG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlcy5leGlzdHModGV4dHVyZUtleSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlYWRDYXJCYWRnZSkgdGhpcy5sZWFkQ2FyQmFkZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubGVhZENhckJhZGdlKSB7XG4gICAgICAgICAgICB0aGlzLmxlYWRDYXJCYWRnZSA9IHRoaXMuYWRkLmltYWdlKGxlYWRDYXIueCwgbGVhZENhci55LCB0ZXh0dXJlS2V5KVxuICAgICAgICAgICAgICAgIC5zZXREZXB0aChsZWFkQ2FyLmRlcHRoICsgMSlcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGVhZENhckJhZGdlLnNldFRleHR1cmUodGV4dHVyZUtleSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxlYWRDYXJCYXNlU2l6ZSAmJiB0aGlzLmxlYWRDYXJCYWRnZSkge1xuICAgICAgICAgICAgdGhpcy5sZWFkQ2FyQmFkZ2Uuc2V0RGlzcGxheVNpemUodGhpcy5sZWFkQ2FyQmFzZVNpemUud2lkdGggKiAwLjUsIHRoaXMubGVhZENhckJhc2VTaXplLmhlaWdodCAqIDAuNSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUxvY2tPdmVybGF5ICh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGluZGV4OiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBsb2NrID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHkpO1xuICAgICAgICBsb2NrLnNldERlcHRoKDEwKTtcbiAgICAgICAgY29uc3QgcGFuZWxXID0gTWF0aC5tYXgoMTQwLCB3aWR0aCAqIDAuNik7XG4gICAgICAgIGNvbnN0IHBhbmVsSCA9IE1hdGgubWF4KDQ4LCBoZWlnaHQgKiAwLjM1KTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCBwYW5lbFcsIHBhbmVsSCwgMHgxZjI5MzcsIDAuOSk7XG4gICAgICAgIGJnLnNldFN0cm9rZVN0eWxlKDIsIDB4ZmJiZjI0LCAwLjkpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdVTkxPQ0snLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2Y4ZmFmYydcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgbG9jay5hZGQoW2JnLCB0ZXh0XSk7XG4gICAgICAgIGxvY2suc2V0U2l6ZShwYW5lbFcsIHBhbmVsSCk7XG4gICAgICAgIGNvbnN0IGhpdEFyZWEgPSBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC1wYW5lbFcgLyAyLCAtcGFuZWxIIC8gMiwgcGFuZWxXLCBwYW5lbEgpO1xuICAgICAgICBsb2NrLnNldEludGVyYWN0aXZlKGhpdEFyZWEsIFBoYXNlci5HZW9tLlJlY3RhbmdsZS5Db250YWlucyk7XG4gICAgICAgIGxvY2suc2V0RGF0YSgnaGl0QXJlYScsIGhpdEFyZWEpO1xuXG4gICAgICAgIGxvY2sub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucXVpek9wZW4gfHwgdGhpcy5nYW1lT3ZlcikgcmV0dXJuO1xuICAgICAgICAgICAgYmcuc2V0RmlsbFN0eWxlKDB4MzM0MTU1LCAwLjk1KTtcbiAgICAgICAgICAgIGxvY2suc2V0U2NhbGUoMS4wNSk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnNldERlZmF1bHRDdXJzb3IoJ3BvaW50ZXInKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9jay5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGJnLnNldEZpbGxTdHlsZSgweDFmMjkzNywgMC45KTtcbiAgICAgICAgICAgIGxvY2suc2V0U2NhbGUoMSk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnNldERlZmF1bHRDdXJzb3IoJ2RlZmF1bHQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9jay5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWl6T3BlbiB8fCB0aGlzLmdhbWVPdmVyKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHRoaXMuY3VycmVudEluZGV4KSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLm9wZW5RdWVzdGlvbihpbmRleCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBsb2NrO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVmcmVzaExvY2tzICgpXG4gICAge1xuICAgICAgICB0aGlzLmNhclNsb3RzLmZvckVhY2goKHNsb3QpID0+IHtcbiAgICAgICAgICAgIGlmICghc2xvdCB8fCAhc2xvdC5jYXIgfHwgIXNsb3QubG9jaykgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCFzbG90LmNhci5zY2VuZSB8fCAhc2xvdC5sb2NrLnNjZW5lKSByZXR1cm47XG4gICAgICAgICAgICBzbG90LmNhci5zZXRBbHBoYSgxKTtcbiAgICAgICAgICAgIHNsb3QubG9jay5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChzbG90LmxvY2suaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBzbG90LmxvY2suZGlzYWJsZUludGVyYWN0aXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IE1hdGgubWF4KDAsIHRoaXMuc2NvcmUpO1xuICAgICAgICB0aGlzLnNjb3JlVGV4dC5zZXRUZXh0KGBQT0lOVFM6ICR7cG9pbnRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVF1aXpNb2RhbCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWwgPSBuZXcgUXVpelBhbmVsKHRoaXMsIHsgb3B0aW9uQ291bnQ6IDQsIGRlcHRoOiAyMDAwLCBwYXJlbnQ6IHRoaXMudWlSb290LCBzaG93SW5kZXg6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucXVpek1vZGFsID0gdGhpcy5xdWl6UGFuZWwuY29udGFpbmVyO1xuXG4gICAgICAgIHRoaXMucXVpelBhbmVsLm9uT3B0aW9uU2VsZWN0ZWQoKGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWl6TG9ja2VkKSByZXR1cm47XG4gICAgICAgICAgICB2b2lkIHRoaXMuaGFuZGxlQW5zd2VyKGluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5sYXlvdXRRdWl6KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdGFydE1vZGFsICgpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKS5zZXREZXB0aCgyMTAwKS5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4ZmZmZmZmLCAwLjEyKS5zZXRPcmlnaW4oMCwgMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuNTYpKTtcbiAgICAgICAgY29uc3QgcGFuZWxXaWR0aCA9IE1hdGgubWluKDYyMCwgd2lkdGggLSA4MCk7XG4gICAgICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gTWF0aC5taW4oMjIwLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuMzIpKTtcblxuICAgICAgICBjb25zdCBwYW5lbFNoYWRvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxTdHlsZSgweDAwMDAwMCwgMC4xOCk7XG4gICAgICAgIHBhbmVsU2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIgKyA4LCAtcGFuZWxIZWlnaHQgLyAyICsgMTAsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAzMCk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFN0eWxlKDB4ZmZmZmZmLCAwLjg1KTtcbiAgICAgICAgcGFuZWxCZy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjgpO1xuICAgICAgICBwYW5lbEJnLmxpbmVTdHlsZSgyLCAweGZmZmZmZiwgMC42NSk7XG4gICAgICAgIHBhbmVsQmcuc3Ryb2tlUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyLCAtcGFuZWxIZWlnaHQgLyAyLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjgpO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5hZGQudGV4dCgwLCAtMzgsICdBbnN3ZXIgdGhlIHF1ZXN0aW9ucyB0byBoZWxwIHRoZVxcbnRyYWluIGdvIGFoZWFkLicsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJyxcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGxpbmVTcGFjaW5nOiA2XG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuY3JlYXRlU3RhcnRCdXR0b24oMCwgTWF0aC5yb3VuZChwYW5lbEhlaWdodCAqIDAuMjMpKTtcblxuICAgICAgICBwYW5lbC5hZGQoW3BhbmVsU2hhZG93LCBwYW5lbEJnLCB0aXRsZSwgYnV0dG9uXSk7XG4gICAgICAgIGNvbnRhaW5lci5hZGQoW292ZXJsYXksIHBhbmVsXSk7XG5cbiAgICAgICAgdGhpcy5zdGFydE1vZGFsID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxQYW5lbCA9IHBhbmVsO1xuICAgICAgICB0aGlzLnVpUm9vdC5hZGQoY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5sYXlvdXRTdGFydE1vZGFsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVUaW1lVXBNb2RhbCAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCkuc2V0RGVwdGgoMjIwMCkuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuMSkuc2V0T3JpZ2luKDAsIDApO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsID0gdGhpcy5hZGQuY29udGFpbmVyKHdpZHRoIC8gMiwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjU2KSk7XG4gICAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1pbig2MjAsIHdpZHRoIC0gODApO1xuICAgICAgICBjb25zdCBwYW5lbEhlaWdodCA9IE1hdGgubWluKDIyMCwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjMyKSk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxTaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMTgpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyICsgOCwgLXBhbmVsSGVpZ2h0IC8gMiArIDEwLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMzApO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbEJnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC44NSk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI4KTtcbiAgICAgICAgcGFuZWxCZy5saW5lU3R5bGUoMiwgMHhmZmZmZmYsIDAuNjUpO1xuICAgICAgICBwYW5lbEJnLnN0cm9rZVJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI4KTtcblxuICAgICAgICB0aGlzLnRpbWVVcFRpdGxlVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgLTE0LCAnT3V0IG9mIHRpbWUhIEZhaWxlZCEnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYScsXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5jcmVhdGVUaW1lb3V0QnV0dG9uKDAsIE1hdGgucm91bmQocGFuZWxIZWlnaHQgKiAwLjIzKSk7XG5cbiAgICAgICAgcGFuZWwuYWRkKFtwYW5lbFNoYWRvdywgcGFuZWxCZywgdGhpcy50aW1lVXBUaXRsZVRleHQsIGJ1dHRvbl0pO1xuICAgICAgICBjb250YWluZXIuYWRkKFtvdmVybGF5LCBwYW5lbF0pO1xuXG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMudGltZVVwTW9kYWxQYW5lbCA9IHBhbmVsO1xuICAgICAgICB0aGlzLnVpUm9vdC5hZGQoY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5sYXlvdXRUaW1lVXBNb2RhbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGF5b3V0U3RhcnRNb2RhbCAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0TW9kYWwgfHwgIXRoaXMuc3RhcnRNb2RhbFBhbmVsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuc3RhcnRNb2RhbC5saXN0WzBdO1xuICAgICAgICBpZiAob3ZlcmxheSAmJiAnc2V0U2l6ZScgaW4gb3ZlcmxheSkge1xuICAgICAgICAgICAgKG92ZXJsYXkgYXMgUGhhc2VyLkdhbWVPYmplY3RzLlJlY3RhbmdsZSkuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxQYW5lbC5zZXRQb3NpdGlvbih3aWR0aCAvIDIsIE1hdGgucm91bmQoaGVpZ2h0ICogMC41NikpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGF5b3V0VGltZVVwTW9kYWwgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy50aW1lVXBNb2RhbCB8fCAhdGhpcy50aW1lVXBNb2RhbFBhbmVsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMudGltZVVwTW9kYWwubGlzdFswXTtcbiAgICAgICAgaWYgKG92ZXJsYXkgJiYgJ3NldFNpemUnIGluIG92ZXJsYXkpIHtcbiAgICAgICAgICAgIChvdmVybGF5IGFzIFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGUpLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbFBhbmVsLnNldFBvc2l0aW9uKHdpZHRoIC8gMiwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjU2KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdGFydEJ1dHRvbiAoeDogbnVtYmVyLCB5OiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gNTMwO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSA3MjtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gMzA7XG5cbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgc2hhZG93LmZpbGxTdHlsZSgweDFlM2E4YSwgMC4xOCk7XG4gICAgICAgIHNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiArIDQsIC1oZWlnaHQgLyAyICsgNiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IGRyYXcgPSAoZmlsbDogbnVtYmVyLCBzdHJva2U6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgYmcuY2xlYXIoKTtcbiAgICAgICAgICAgIGJnLmZpbGxTdHlsZShmaWxsLCAxKTtcbiAgICAgICAgICAgIGJnLmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgICAgIGJnLmxpbmVTdHlsZSgyLCBzdHJva2UsIDAuNjUpO1xuICAgICAgICAgICAgYmcuc3Ryb2tlUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIH07XG4gICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcblxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAxLCAnU3RhcnQgR2FtZScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzM0cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjY2KTtcblxuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGggKyAxNiwgaGVpZ2h0ICsgMTYsIDB4ZmZmZmZmLCAwLjAwMSk7XG4gICAgICAgIGhpdC5zZXRJbnRlcmFjdGl2ZSgpO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQoW3NoYWRvdywgYmcsIHRleHQsIGhpdF0pO1xuICAgICAgICBjb250YWluZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBoaXQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5zZXREZWZhdWx0Q3Vyc29yKCdwb2ludGVyJyk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLjAyLCBkdXJhdGlvbjogMTAwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuc2V0RGVmYXVsdEN1cnNvcignZGVmYXVsdCcpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMSwgZHVyYXRpb246IDEwMCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXJ0TW9kYWxPcGVuKSByZXR1cm47XG4gICAgICAgICAgICBkcmF3KDB4MWQ0ZWQ4LCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAwLjk4LCBkdXJhdGlvbjogNzAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVGbG93KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgyNTYzZWIsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDIsIGR1cmF0aW9uOiA3MCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBjb250YWluZXIsXG4gICAgICAgICAgICBzY2FsZTogMS4wMyxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4NTAsXG4gICAgICAgICAgICB5b3lvOiB0cnVlLFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlVGltZW91dEJ1dHRvbiAoeDogbnVtYmVyLCB5OiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gNTMwO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSA3MjtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gMzA7XG5cbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgc2hhZG93LmZpbGxTdHlsZSgweDFlM2E4YSwgMC4xOCk7XG4gICAgICAgIHNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiArIDQsIC1oZWlnaHQgLyAyICsgNiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IGRyYXcgPSAoZmlsbDogbnVtYmVyLCBzdHJva2U6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgYmcuY2xlYXIoKTtcbiAgICAgICAgICAgIGJnLmZpbGxTdHlsZShmaWxsLCAxKTtcbiAgICAgICAgICAgIGJnLmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKTtcbiAgICAgICAgICAgIGJnLmxpbmVTdHlsZSgyLCBzdHJva2UsIDAuNjUpO1xuICAgICAgICAgICAgYmcuc3Ryb2tlUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIH07XG4gICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcblxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAxLCAnUGxheSBBZ2FpbicsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzM0cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjY2KTtcblxuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGggKyAxNiwgaGVpZ2h0ICsgMTYsIDB4ZmZmZmZmLCAwLjAwMSk7XG4gICAgICAgIGhpdC5zZXRJbnRlcmFjdGl2ZSgpO1xuICAgICAgICBoaXQuc2V0RGF0YSgncmVzdGFydGluZycsIGZhbHNlKTtcblxuICAgICAgICBjb250YWluZXIuYWRkKFtzaGFkb3csIGJnLCB0ZXh0LCBoaXRdKTtcbiAgICAgICAgY29udGFpbmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChoaXQuZ2V0RGF0YSgncmVzdGFydGluZycpKSByZXR1cm47XG4gICAgICAgICAgICBkcmF3KDB4MjU2M2ViLCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnNldERlZmF1bHRDdXJzb3IoJ3BvaW50ZXInKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDIsIGR1cmF0aW9uOiAxMDAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhpdC5nZXREYXRhKCdyZXN0YXJ0aW5nJykpIHJldHVybjtcbiAgICAgICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuc2V0RGVmYXVsdEN1cnNvcignZGVmYXVsdCcpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMSwgZHVyYXRpb246IDEwMCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhpdC5nZXREYXRhKCdyZXN0YXJ0aW5nJykpIHJldHVybjtcbiAgICAgICAgICAgIGhpdC5zZXREYXRhKCdyZXN0YXJ0aW5nJywgdHJ1ZSk7XG4gICAgICAgICAgICBoaXQuZGlzYWJsZUludGVyYWN0aXZlKCk7XG4gICAgICAgICAgICBkcmF3KDB4MWQ0ZWQ4LCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAwLjk4LCBkdXJhdGlvbjogNzAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDkwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN5cy5pc0FjdGl2ZSgpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN0YXJ0VHJhaW5SdW4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaGl0LmdldERhdGEoJ3Jlc3RhcnRpbmcnKSkgcmV0dXJuO1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMS4wMiwgZHVyYXRpb246IDcwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5TdGFydE1vZGFsICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRNb2RhbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oYXNTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWwuc2V0QWxwaGEoMCk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnN0YXJ0TW9kYWwsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxODBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbG9zZVN0YXJ0TW9kYWwgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydE1vZGFsKSByZXR1cm47XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbE9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhcnRHYW1lRmxvdyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzU3RhcnRlZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNsb3NlU3RhcnRNb2RhbCgpO1xuICAgICAgICB0aGlzLm9wZW5RdWVzdGlvbih0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuVGltZVVwTW9kYWwgKG1lc3NhZ2U6IHN0cmluZyA9ICdPdXQgb2YgdGltZSEgVHJ5IGFnYWluLicpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudGltZVVwTW9kYWwgfHwgIXRoaXMudGltZVVwTW9kYWxQYW5lbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnRpbWVVcFRpdGxlVGV4dC5zZXRUZXh0KG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnRpbWVVcE1vZGFsUGFuZWwuc2V0U2NhbGUoMC45Nik7XG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbC5zZXRBbHBoYSgwKTtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMudGltZVVwTW9kYWwsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnRpbWVVcE1vZGFsUGFuZWwsXG4gICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyNDAsXG4gICAgICAgICAgICBlYXNlOiAnQmFjay5lYXNlT3V0J1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN1Ym1pdFNlc3Npb25SZXN1bHQgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uR2FtZUlkKSByZXR1cm47XG4gICAgICAgIGltcG9ydCgnLi4vLi4vc2VydmljZXMvYXBpJylcbiAgICAgICAgICAgIC50aGVuKCh7IGVuZEdhbWVTZXNzaW9uIH0pID0+IGVuZEdhbWVTZXNzaW9uKHRoaXMuc2Vzc2lvbkdhbWVJZCBhcyBzdHJpbmcsIHRoaXMuc2NvcmUpKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2VuZEdhbWVTZXNzaW9uIGZhaWxlZCcsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzdGFydFRyYWluUnVuICgpXG4gICAge1xuICAgICAgICB0aGlzLmlucHV0LnNldERlZmF1bHRDdXJzb3IoJ2RlZmF1bHQnKTtcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnVHJhaW5HYW1lJywge1xuICAgICAgICAgICAgZ2FtZUNvZGU6IHRoaXMuZ2FtZUNvZGUsXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgICAgZ2FtZUlkOiB0aGlzLnNlc3Npb25HYW1lSWQsXG4gICAgICAgICAgICBxdWVzdGlvbnM6IHRoaXMuc2Vzc2lvblF1ZXN0aW9ucyxcbiAgICAgICAgICAgIHRpbWVMaW1pdDogdGhpcy5zZXNzaW9uVGltZUxpbWl0XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGF5b3V0UXVpeiAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbC5sYXlvdXQod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuUXVlc3Rpb24gKGluZGV4OiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5xdWl6T3BlbiB8fCB0aGlzLmdhbWVPdmVyKSByZXR1cm47XG4gICAgICAgIGlmICghdGhpcy5oYXNTdGFydGVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2V0TGVhZENhclN0YXRlKCdpZGxlJyk7XG5cbiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSB0aGlzLmdldFF1ZXN0aW9uRm9ySW5kZXgoaW5kZXgpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gcXVlc3Rpb24ucXVlc3Rpb24ub3B0aW9ucy5tYXAoKG9wdCkgPT4gb3B0LnRleHQpO1xuICAgICAgICB0aGlzLmN1cnJlbnRPcHRpb25JZHMgPSBxdWVzdGlvbi5xdWVzdGlvbi5vcHRpb25zLm1hcCgob3B0KSA9PiBvcHQuaWQgPz8gJycpO1xuICAgICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uUXVlc3Rpb25JZCA9IHF1ZXN0aW9uLnNlc3Npb25fcXVlc3Rpb25faWQgPz8gbnVsbDtcbiAgICAgICAgbGV0IGNvcnJlY3RJbmRleCA9IHF1ZXN0aW9uLnF1ZXN0aW9uLm9wdGlvbnMuZmluZEluZGV4KChvcHQpID0+IG9wdC5pc19jb3JyZWN0KTtcbiAgICAgICAgaWYgKGNvcnJlY3RJbmRleCA8IDApIGNvcnJlY3RJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudENvcnJlY3RJbmRleCA9IGNvcnJlY3RJbmRleDtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0RmVlZGJhY2soJ2lkbGUnKTtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0UXVlc3Rpb24oe1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4ICsgMSxcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLm1heENhcnMsXG4gICAgICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb24uY29udGVudCxcbiAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQmFycmllclBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuc2V0QmFycmllck9wZW4oZmFsc2UpO1xuICAgICAgICB0aGlzLmxheW91dFF1aXooKTtcblxuICAgICAgICB0aGlzLnF1aXpPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpek1vZGFsLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMucXVpelBhbmVsLnNldEludGVyYWN0aXZlKHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlQW5zd2VyIChzZWxlY3RlZEluZGV4OiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5xdWl6TG9ja2VkKSByZXR1cm47XG4gICAgICAgIHRoaXMucXVpekxvY2tlZCA9IHRydWU7XG5cbiAgICAgICAgbGV0IGlzQ29ycmVjdCA9IHNlbGVjdGVkSW5kZXggPT09IHRoaXMuY3VycmVudENvcnJlY3RJbmRleDtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25JZCA9IHRoaXMuY3VycmVudE9wdGlvbklkc1tzZWxlY3RlZEluZGV4XTtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbklkICYmIHRoaXMuY3VycmVudFNlc3Npb25RdWVzdGlvbklkICYmIHNlbGVjdGVkT3B0aW9uSWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdWJtaXRBbnN3ZXIgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vc2VydmljZXMvYXBpJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgc3VibWl0QW5zd2VyKHRoaXMuc2Vzc2lvbklkLCB0aGlzLmN1cnJlbnRTZXNzaW9uUXVlc3Rpb25JZCwgc2VsZWN0ZWRPcHRpb25JZCk7XG4gICAgICAgICAgICAgICAgaXNDb3JyZWN0ID0gcmVzLmRhdGEuaXNfY29ycmVjdDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc3VibWl0QW5zd2VyIGZhaWxlZCwgZmFsbGJhY2sgdG8gbG9jYWwgY2hlY2snLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNDb3JyZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnNldExlYWRDYXJTdGF0ZSgnY29ycmVjdCcpO1xuICAgICAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0RmVlZGJhY2soJ2NvcnJlY3QnKTtcbiAgICAgICAgICAgIHRoaXMucXVpelBhbmVsLnNldE9wdGlvblN0YXRlKHNlbGVjdGVkSW5kZXgsICdjb3JyZWN0Jyk7XG4gICAgICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRJbnRlcmFjdGl2ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVF1aXooKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q29ycmVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldExlYWRDYXJTdGF0ZSgnaW5jb3JyZWN0Jyk7XG4gICAgICAgICAgICB0aGlzLnF1aXpQYW5lbC5zZXRGZWVkYmFjaygnd3JvbmcnKTtcbiAgICAgICAgICAgIHRoaXMucXVpelBhbmVsLnNldE9wdGlvblN0YXRlKHNlbGVjdGVkSW5kZXgsICd3cm9uZycpO1xuICAgICAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0SW50ZXJhY3RpdmUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDY1MCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlXcm9uZygpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGVhZENhclN0YXRlKCdpZGxlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0T3B0aW9uU3RhdGUoc2VsZWN0ZWRJbmRleCwgJ25vcm1hbCcpO1xuICAgICAgICAgICAgICAgIHRoaXMucXVpelBhbmVsLnNldEZlZWRiYWNrKCdpZGxlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0SW50ZXJhY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXBwbHlDb3JyZWN0ICgpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IE1hdGgubWluKHRoaXMubWF4Q2FycywgdGhpcy5jdXJyZW50SW5kZXggKyAxKTtcbiAgICAgICAgdGhpcy5zY29yZSA9IHRoaXMuY3VycmVudEluZGV4O1xuICAgICAgICB0aGlzLnJlZnJlc2hMb2NrcygpO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLm1heENhcnMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QmFycmllck9wZW4odHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLm1vdmVUcmFpblRvRW5kKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEdhbWUoYFlvdSBjb21wbGV0ZWQgYWxsICR7dGhpcy5tYXhDYXJzfSBjYXJzIWAsICd3aW4nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb3ZlVHJhaW5Ub0luZGV4KHRoaXMuY3VycmVudEluZGV4LCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9wZW5RdWVzdGlvbih0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXBwbHlXcm9uZyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZWZyZXNoTG9ja3MoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1vdmVUcmFpblRvSW5kZXggKHRhcmdldEluZGV4OiBudW1iZXIsIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmFpbFRvdGFsTGVuZ3RoIDw9IDAgfHwgdGhpcy50cmFpblN0ZXBQeCA8PSAwKSB7XG4gICAgICAgICAgICBpZiAob25Db21wbGV0ZSkgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmlzdWFsSW5kZXggPSBQaGFzZXIuTWF0aC5DbGFtcCh0YXJnZXRJbmRleCwgMCwgdGhpcy5tYXhDYXJzKTtcbiAgICAgICAgY29uc3QgbWF4RGlzdGFuY2UgPSBNYXRoLm1heCgwLCB0aGlzLnJhaWxUb3RhbExlbmd0aCAtIDEpO1xuICAgICAgICBjb25zdCB0YXJnZXREaXN0YW5jZSA9IE1hdGgubWluKHRoaXMudHJhaW5TdGVwUHggKiB2aXN1YWxJbmRleCwgbWF4RGlzdGFuY2UpO1xuICAgICAgICBjb25zdCBkZWx0YSA9IE1hdGguYWJzKHRhcmdldERpc3RhbmNlIC0gdGhpcy50cmFpbkRpc3RhbmNlUHgpO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IFBoYXNlci5NYXRoLkNsYW1wKE1hdGgucm91bmQoNDIwICsgZGVsdGEgKiAxLjgpLCA2NTAsIDEyMDApO1xuXG4gICAgICAgIHRoaXMudHJhaW5Nb3ZpbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCB0d2VlblN0YXRlID0geyB2YWx1ZTogdGhpcy50cmFpbkRpc3RhbmNlUHggfTtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHR3ZWVuU3RhdGUsXG4gICAgICAgICAgICB2YWx1ZTogdGFyZ2V0RGlzdGFuY2UsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2U6ICdTaW5lLmVhc2VJbk91dCcsXG4gICAgICAgICAgICBvblVwZGF0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhaW5EaXN0YW5jZVB4ID0gdHdlZW5TdGF0ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYWluQ2Fycyh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFpbkRpc3RhbmNlUHggPSB0YXJnZXREaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWluTW92aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFpbkNhcnModHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9uQ29tcGxldGUpIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtb3ZlVHJhaW5Ub0VuZCAob25Db21wbGV0ZT86ICgpID0+IHZvaWQpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5yYWlsVG90YWxMZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgaWYgKG9uQ29tcGxldGUpIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1heERpc3RhbmNlID0gTWF0aC5tYXgoMCwgdGhpcy5yYWlsVG90YWxMZW5ndGggLSAxKTtcbiAgICAgICAgY29uc3QgdHJhaW5MZW5ndGggPSBNYXRoLm1heCgwLCAodGhpcy5tYXhDYXJzIC0gMSkgKiB0aGlzLnRyYWluR2FwUHgpO1xuICAgICAgICBjb25zdCB0YXJnZXREaXN0YW5jZSA9IG1heERpc3RhbmNlICsgdHJhaW5MZW5ndGg7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5hYnModGFyZ2V0RGlzdGFuY2UgLSB0aGlzLnRyYWluRGlzdGFuY2VQeCk7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gUGhhc2VyLk1hdGguQ2xhbXAoTWF0aC5yb3VuZCg1MjAgKyBkZWx0YSAqIDEuNiksIDgwMCwgMTgwMCk7XG5cbiAgICAgICAgdGhpcy50cmFpbk1vdmluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IHR3ZWVuU3RhdGUgPSB7IHZhbHVlOiB0aGlzLnRyYWluRGlzdGFuY2VQeCB9O1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdHdlZW5TdGF0ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0YXJnZXREaXN0YW5jZSxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzZTogJ1NpbmUuZWFzZUluT3V0JyxcbiAgICAgICAgICAgIG9uVXBkYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFpbkRpc3RhbmNlUHggPSB0d2VlblN0YXRlLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhaW5DYXJzKHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWluRGlzdGFuY2VQeCA9IHRhcmdldERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhaW5Nb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYWluQ2Fycyh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAob25Db21wbGV0ZSkgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsb3NlUXVpeiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5xdWl6TW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMucXVpek9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRRdWVzdGlvbkZvckluZGV4IChpbmRleDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucXVlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEZBTExCQUNLX1FVRVNUSU9OU1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5xdWVzdGlvbnNbaW5kZXggJSB0aGlzLnF1ZXN0aW9ucy5sZW5ndGhdO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlVHJhY2tDdXJ2ZSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBiYXNlV2lkdGggPSA3NTA7XG4gICAgICAgIGNvbnN0IGJhc2VIZWlnaHQgPSAxMzM0O1xuICAgICAgICBjb25zdCBzY2FsZVggPSB3aWR0aCAvIGJhc2VXaWR0aDtcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gaGVpZ2h0IC8gYmFzZUhlaWdodDtcblxuICAgICAgICBjb25zdCBwb2ludHMgPSBbXG4gICAgICAgICAgICB7IHg6IDQwNSwgeTogMTAgfSxcbiAgICAgICAgICAgIHsgeDogNDU1LCB5OiA4NSB9LFxuICAgICAgICAgICAgeyB4OiA1MTUsIHk6IDIwMCB9LFxuICAgICAgICAgICAgeyB4OiA0ODUsIHk6IDM2MCB9LFxuICAgICAgICAgICAgeyB4OiAzNzUsIHk6IDU0MCB9LFxuICAgICAgICAgICAgeyB4OiAyNTAsIHk6IDc0MCB9LFxuICAgICAgICAgICAgeyB4OiAyMjAsIHk6IDkyMCB9LFxuICAgICAgICAgICAgeyB4OiAyNzAsIHk6IDExMDAgfSxcbiAgICAgICAgICAgIHsgeDogMzI1LCB5OiAxMTg1IH0sXG4gICAgICAgICAgICB7IHg6IDUwNSwgeTogMTMyNSB9XG4gICAgICAgIF0ubWFwKChwKSA9PiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihwLnggKiBzY2FsZVgsIHAueSAqIHNjYWxlWSkpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLkN1cnZlcy5TcGxpbmUocG9pbnRzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNhbXBsZVRyYWNrIChjdXJ2ZTogUGhhc2VyLkN1cnZlcy5TcGxpbmUsIGNvdW50OiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBwb2ludHM6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVtdID0gW107XG4gICAgICAgIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgoMSwgY291bnQgLSAxKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdG90YWwgPT09IDAgPyAwIDogaSAvIHRvdGFsO1xuICAgICAgICAgICAgY29uc3QgcCA9IGN1cnZlLmdldFBvaW50QXQodCk7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh7IHg6IHAueCwgeTogcC55IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3VHJhY2tDdXJ2ZSAoY3VydmU6IFBoYXNlci5DdXJ2ZXMuU3BsaW5lKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBzdGFydFQsIGVuZFQgfSA9IHRoaXMuZ2V0VmlzaWJsZVRSYW5nZShjdXJ2ZSk7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNzID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgZ3JhcGhpY3Muc2V0RGVwdGgoMTAwMCk7XG4gICAgICAgIGdyYXBoaWNzLmxpbmVTdHlsZSgxMCwgMHhmZjAwMDAsIDEpO1xuICAgICAgICBjb25zdCBzdGVwcyA9IDEyMDtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBjdXJ2ZS5nZXRQb2ludChzdGFydFQpO1xuICAgICAgICBncmFwaGljcy5iZWdpblBhdGgoKTtcbiAgICAgICAgZ3JhcGhpY3MubW92ZVRvKGZpcnN0LngsIGZpcnN0LnkpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBzdGVwczsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gc3RhcnRUICsgKGVuZFQgLSBzdGFydFQpICogKGkgLyBzdGVwcyk7XG4gICAgICAgICAgICBjb25zdCBwID0gY3VydmUuZ2V0UG9pbnQodCk7XG4gICAgICAgICAgICBncmFwaGljcy5saW5lVG8ocC54LCBwLnkpO1xuICAgICAgICB9XG4gICAgICAgIGdyYXBoaWNzLnN0cm9rZVBhdGgoKTtcbiAgICAgICAgdGhpcy5kZWJ1Z0N1cnZlR3JhcGhpY3MgPSBncmFwaGljcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdDdXJ2ZU1hcmtlcnMgKGN1cnZlOiBQaGFzZXIuQ3VydmVzLlNwbGluZSwgY291bnQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgeyBzdGFydFQsIGVuZFQgfSA9IHRoaXMuZ2V0VmlzaWJsZVRSYW5nZShjdXJ2ZSk7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNzID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgZ3JhcGhpY3Muc2V0RGVwdGgoMTAwMSk7XG4gICAgICAgIGdyYXBoaWNzLmZpbGxTdHlsZSgweDIyYzU1ZSwgMSk7XG4gICAgICAgIGdyYXBoaWNzLmxpbmVTdHlsZSgyLCAweDIyYzU1ZSwgMSk7XG5cbiAgICAgICAgY29uc3QgdG90YWwgPSBNYXRoLm1heCgxLCBjb3VudCAtIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0b3RhbCA9PT0gMCA/IHN0YXJ0VCA6IHN0YXJ0VCArIChlbmRUIC0gc3RhcnRUKSAqIChpIC8gdG90YWwpO1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBjdXJ2ZS5nZXRQb2ludCh0KTtcbiAgICAgICAgICAgIGNvbnN0IGNsYW1wZWRYID0gUGhhc2VyLk1hdGguQ2xhbXAocG9pbnQueCwgMTYsIHdpZHRoIC0gMTYpO1xuICAgICAgICAgICAgY29uc3QgY2xhbXBlZFkgPSBQaGFzZXIuTWF0aC5DbGFtcChwb2ludC55LCAxNiwgaGVpZ2h0IC0gMTYpO1xuICAgICAgICAgICAgaWYgKGNsYW1wZWRYICE9PSBwb2ludC54IHx8IGNsYW1wZWRZICE9PSBwb2ludC55KSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhpY3Muc3Ryb2tlTGluZVNoYXBlKG5ldyBQaGFzZXIuR2VvbS5MaW5lKHBvaW50LngsIHBvaW50LnksIGNsYW1wZWRYLCBjbGFtcGVkWSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBncmFwaGljcy5maWxsQ2lyY2xlKGNsYW1wZWRYLCBjbGFtcGVkWSwgOCk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBgJHtpICsgMX0gKCR7TWF0aC5yb3VuZChwb2ludC54KX0sICR7TWF0aC5yb3VuZChwb2ludC55KX0pYDtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5hZGQudGV4dChjbGFtcGVkWCArIDEwLCBjbGFtcGVkWSAtIDEwLCBsYWJlbFRleHQsIHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjMjJjNTVlJyxcbiAgICAgICAgICAgICAgICBzdHJva2U6ICcjMGYxNzJhJyxcbiAgICAgICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGFiZWwuc2V0RGVwdGgoMTAwMik7XG4gICAgICAgICAgICB0aGlzLmRlYnVnTWFya2VyTGFiZWxzLnB1c2gobGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVidWdNYXJrZXJHcmFwaGljcyA9IGdyYXBoaWNzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmlzaWJsZVRSYW5nZSAoY3VydmU6IFBoYXNlci5DdXJ2ZXMuU3BsaW5lKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBtYXJnaW4gPSA4O1xuICAgICAgICBjb25zdCBzYW1wbGVzID0gNDAwO1xuICAgICAgICBsZXQgc3RhcnRUID0gMDtcbiAgICAgICAgbGV0IGVuZFQgPSAxO1xuICAgICAgICBsZXQgZm91bmRTdGFydCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHNhbXBsZXM7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGkgLyBzYW1wbGVzO1xuICAgICAgICAgICAgY29uc3QgcCA9IGN1cnZlLmdldFBvaW50KHQpO1xuICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gcC54ID49IG1hcmdpbiAmJiBwLnggPD0gd2lkdGggLSBtYXJnaW4gJiYgcC55ID49IG1hcmdpbiAmJiBwLnkgPD0gaGVpZ2h0IC0gbWFyZ2luO1xuICAgICAgICAgICAgaWYgKGluc2lkZSAmJiAhZm91bmRTdGFydCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0VCA9IHQ7XG4gICAgICAgICAgICAgICAgZm91bmRTdGFydCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5zaWRlKSB7XG4gICAgICAgICAgICAgICAgZW5kVCA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFydEV4dGVuZCA9IDAuMDtcbiAgICAgICAgY29uc3QgZW5kRXh0ZW5kID0gMC4wO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnRUOiBNYXRoLm1heCgwLCBzdGFydFQgLSBzdGFydEV4dGVuZCksXG4gICAgICAgICAgICBlbmRUOiBNYXRoLm1pbigxLCBlbmRUICsgZW5kRXh0ZW5kKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VHJhY2tBbmdsZSAocG9pbnRzOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1bXSwgaW5kZXg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IGN1cnIgPSBwb2ludHNbaW5kZXhdO1xuICAgICAgICBjb25zdCBuZXh0ID0gcG9pbnRzW2luZGV4ICsgMV0gPz8gcG9pbnRzW2luZGV4IC0gMV0gPz8gY3VycjtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKG5leHQueSAtIGN1cnIueSwgbmV4dC54IC0gY3Vyci54KTtcbiAgICAgICAgcmV0dXJuIGFuZ2xlO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRSYWlsUGF0aCAoc3BsaW5lOiBQaGFzZXIuQ3VydmVzLlNwbGluZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHNwbGluZS5nZXRMZW5ndGgoKTtcbiAgICAgICAgY29uc3Qgc2FtcGxlRXZlcnlQeCA9IDIwO1xuICAgICAgICBjb25zdCBzYW1wbGVzID0gTWF0aC5tYXgoNjAsIE1hdGgucm91bmQobGVuZ3RoIC8gc2FtcGxlRXZlcnlQeCkpO1xuICAgICAgICBjb25zdCBwb2ludHM6IFBoYXNlci5NYXRoLlZlY3RvcjJbXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHNhbXBsZXM7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGkgLyBzYW1wbGVzO1xuICAgICAgICAgICAgY29uc3QgcCA9IHNwbGluZS5nZXRQb2ludEF0KHQpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIocC54LCBwLnkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdGhpcy5yYWlsUGF0aFBvaW50cyA9IHBvaW50cztcbiAgICAgICAgICAgIHRoaXMucmFpbFNlZ21lbnRMZW5ndGhzID0gW107XG4gICAgICAgICAgICB0aGlzLnJhaWxUb3RhbExlbmd0aCA9IDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWdtZW50czogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgbGV0IHRvdGFsID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLSAxOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnIgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHNlZ0xlbiA9IFBoYXNlci5NYXRoLkRpc3RhbmNlLkJldHdlZW4oY3Vyci54LCBjdXJyLnksIG5leHQueCwgbmV4dC55KTtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goc2VnTGVuKTtcbiAgICAgICAgICAgIHRvdGFsICs9IHNlZ0xlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmFpbFBhdGhQb2ludHMgPSBwb2ludHM7XG4gICAgICAgIHRoaXMucmFpbFNlZ21lbnRMZW5ndGhzID0gc2VnbWVudHM7XG4gICAgICAgIHRoaXMucmFpbFRvdGFsTGVuZ3RoID0gdG90YWw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzYW1wbGVSYWlsQnlEaXN0YW5jZU5vV3JhcCAoZGlzdGFuY2VQeDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmFpbFBhdGhQb2ludHMubGVuZ3RoIDwgMiB8fCB0aGlzLnJhaWxUb3RhbExlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMigwLCAwKSxcbiAgICAgICAgICAgICAgICBhbmdsZTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5yYWlsVG90YWxMZW5ndGg7XG4gICAgICAgIGlmIChkaXN0YW5jZVB4IDw9IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5yYWlsUGF0aFBvaW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLnJhaWxQYXRoUG9pbnRzWzFdO1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKG5leHQueSAtIHN0YXJ0LnksIG5leHQueCAtIHN0YXJ0LngpO1xuICAgICAgICAgICAgY29uc3QgZGlyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoTWF0aC5jb3MoYW5nbGUpLCBNYXRoLnNpbihhbmdsZSkpO1xuICAgICAgICAgICAgY29uc3QgcG9zID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoc3RhcnQueCwgc3RhcnQueSkuYWRkKGRpci5zY2FsZShkaXN0YW5jZVB4KSk7XG4gICAgICAgICAgICByZXR1cm4geyBwb3NpdGlvbjogcG9zLCBhbmdsZSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXN0YW5jZVB4ID49IHRvdGFsKSB7XG4gICAgICAgICAgICBjb25zdCBlbmQgPSB0aGlzLnJhaWxQYXRoUG9pbnRzW3RoaXMucmFpbFBhdGhQb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gdGhpcy5yYWlsUGF0aFBvaW50c1t0aGlzLnJhaWxQYXRoUG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGVuZC55IC0gcHJldi55LCBlbmQueCAtIHByZXYueCk7XG4gICAgICAgICAgICBjb25zdCBkaXIgPSBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihNYXRoLmNvcyhhbmdsZSksIE1hdGguc2luKGFuZ2xlKSk7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihlbmQueCwgZW5kLnkpLmFkZChkaXIuc2NhbGUoZGlzdGFuY2VQeCAtIHRvdGFsKSk7XG4gICAgICAgICAgICByZXR1cm4geyBwb3NpdGlvbjogcG9zLCBhbmdsZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlbWFpbmluZyA9IGRpc3RhbmNlUHg7XG4gICAgICAgIGxldCBzZWdJbmRleCA9IDA7XG5cbiAgICAgICAgd2hpbGUgKHNlZ0luZGV4IDwgdGhpcy5yYWlsU2VnbWVudExlbmd0aHMubGVuZ3RoICYmIHJlbWFpbmluZyA+IHRoaXMucmFpbFNlZ21lbnRMZW5ndGhzW3NlZ0luZGV4XSkge1xuICAgICAgICAgICAgcmVtYWluaW5nIC09IHRoaXMucmFpbFNlZ21lbnRMZW5ndGhzW3NlZ0luZGV4XTtcbiAgICAgICAgICAgIHNlZ0luZGV4ICs9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzYWZlSW5kZXggPSBNYXRoLm1pbihzZWdJbmRleCwgdGhpcy5yYWlsUGF0aFBvaW50cy5sZW5ndGggLSAyKTtcbiAgICAgICAgY29uc3QgY3VyciA9IHRoaXMucmFpbFBhdGhQb2ludHNbc2FmZUluZGV4XTtcbiAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMucmFpbFBhdGhQb2ludHNbc2FmZUluZGV4ICsgMV07XG4gICAgICAgIGNvbnN0IHNlZ0xlbiA9IHRoaXMucmFpbFNlZ21lbnRMZW5ndGhzW3NhZmVJbmRleF0gfHwgMTtcbiAgICAgICAgY29uc3QgcmF0aW8gPSBQaGFzZXIuTWF0aC5DbGFtcChyZW1haW5pbmcgLyBzZWdMZW4sIDAsIDEpO1xuXG4gICAgICAgIGNvbnN0IHggPSBQaGFzZXIuTWF0aC5MaW5lYXIoY3Vyci54LCBuZXh0LngsIHJhdGlvKTtcbiAgICAgICAgY29uc3QgeSA9IFBoYXNlci5NYXRoLkxpbmVhcihjdXJyLnksIG5leHQueSwgcmF0aW8pO1xuICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIobmV4dC55IC0gY3Vyci55LCBuZXh0LnggLSBjdXJyLngpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoeCwgeSksXG4gICAgICAgICAgICBhbmdsZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUmFpbHdheSAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBzcGxpbmUgPSB0aGlzLmNyZWF0ZVRyYWNrQ3VydmUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMudHJhY2tTcGxpbmUgPSBzcGxpbmU7XG4gICAgICAgIHRoaXMudHJhY2tMZW5ndGggPSBzcGxpbmUuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHRoaXMuYnVpbGRSYWlsUGF0aChzcGxpbmUpO1xuXG4gICAgICAgIGNvbnN0IGJhc2VTY2FsZSA9IE1hdGgubWluKHdpZHRoIC8gNzUwLCBoZWlnaHQgLyAxMzM0KTtcbiAgICAgICAgY29uc3QgcmFpbE9mZnNldCA9IDE4ICogYmFzZVNjYWxlO1xuICAgICAgICBjb25zdCBzbGVlcGVyV2lkdGggPSByYWlsT2Zmc2V0ICogMS44O1xuICAgICAgICBjb25zdCBzbGVlcGVySGVpZ2h0ID0gNyAqIGJhc2VTY2FsZTtcblxuICAgICAgICBjb25zdCByYWlsd2F5Q29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xuICAgICAgICB0aGlzLnJhaWx3YXlDb250YWluZXIgPSByYWlsd2F5Q29udGFpbmVyO1xuXG4gICAgICAgIGNvbnN0IHJhaWxMZWZ0OiBQaGFzZXIuTWF0aC5WZWN0b3IyW10gPSBbXTtcbiAgICAgICAgY29uc3QgcmFpbFJpZ2h0OiBQaGFzZXIuTWF0aC5WZWN0b3IyW10gPSBbXTtcblxuICAgICAgICBjb25zdCBzYW1wbGVzID0gMTQwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBzYW1wbGVzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBpIC8gc2FtcGxlcztcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gc3BsaW5lLmdldFBvaW50KHQpO1xuICAgICAgICAgICAgY29uc3QgdGFuZ2VudCA9IHNwbGluZS5nZXRUYW5nZW50KHQpLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoLXRhbmdlbnQueSwgdGFuZ2VudC54KS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHJhaWxMZWZ0LnB1c2gobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoXG4gICAgICAgICAgICAgICAgcG9pbnQueCArIG5vcm1hbC54ICogcmFpbE9mZnNldCxcbiAgICAgICAgICAgICAgICBwb2ludC55ICsgbm9ybWFsLnkgKiByYWlsT2Zmc2V0XG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHJhaWxSaWdodC5wdXNoKG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKFxuICAgICAgICAgICAgICAgIHBvaW50LnggLSBub3JtYWwueCAqIHJhaWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgcG9pbnQueSAtIG5vcm1hbC55ICogcmFpbE9mZnNldFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYWlscyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHJhaWxzLmxpbmVTdHlsZSg4ICogYmFzZVNjYWxlLCAweGY4ZmFmYywgMSk7XG4gICAgICAgIHJhaWxzLmJlZ2luUGF0aCgpO1xuICAgICAgICByYWlscy5tb3ZlVG8ocmFpbExlZnRbMF0ueCwgcmFpbExlZnRbMF0ueSk7XG4gICAgICAgIHJhaWxMZWZ0LmZvckVhY2goKHApID0+IHJhaWxzLmxpbmVUbyhwLngsIHAueSkpO1xuICAgICAgICByYWlscy5zdHJva2VQYXRoKCk7XG5cbiAgICAgICAgcmFpbHMuYmVnaW5QYXRoKCk7XG4gICAgICAgIHJhaWxzLm1vdmVUbyhyYWlsUmlnaHRbMF0ueCwgcmFpbFJpZ2h0WzBdLnkpO1xuICAgICAgICByYWlsUmlnaHQuZm9yRWFjaCgocCkgPT4gcmFpbHMubGluZVRvKHAueCwgcC55KSk7XG4gICAgICAgIHJhaWxzLnN0cm9rZVBhdGgoKTtcbiAgICAgICAgcmFpbHMuc2V0RGVwdGgoNSk7XG4gICAgICAgIHJhaWx3YXlDb250YWluZXIuYWRkKHJhaWxzKTtcblxuICAgICAgICBjb25zdCBzbGVlcGVyQ291bnQgPSAyODtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2xlZXBlckNvdW50OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBpIC8gc2xlZXBlckNvdW50O1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBzcGxpbmUuZ2V0UG9pbnQodCk7XG4gICAgICAgICAgICBjb25zdCB0YW5nZW50ID0gc3BsaW5lLmdldFRhbmdlbnQodCkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIodGFuZ2VudC55LCB0YW5nZW50LngpICsgTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICBjb25zdCBzbGVlcGVyID0gdGhpcy5hZGQucmVjdGFuZ2xlKHBvaW50LngsIHBvaW50LnksIHNsZWVwZXJXaWR0aCwgc2xlZXBlckhlaWdodCwgMHhiNDUzMDksIDAuOTUpO1xuICAgICAgICAgICAgc2xlZXBlci5zZXRSb3RhdGlvbihhbmdsZSk7XG4gICAgICAgICAgICBzbGVlcGVyLnNldERlcHRoKDQpO1xuICAgICAgICAgICAgcmFpbHdheUNvbnRhaW5lci5hZGQoc2xlZXBlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kZWJ1Z1RyYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdUcmFja0N1cnZlKHNwbGluZSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdDdXJ2ZU1hcmtlcnMoc3BsaW5lLCAxMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFJhaWx3YXlWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnNldERlYnVnVHJhY2tWaXNpYmxlKHRoaXMuZGVidWdUcmFjayk7XG5cbiAgICAgICAgdGhpcy50cmFpbkRpc3RhbmNlUHggPSAwO1xuICAgICAgICBpZiAodGhpcy50cmFpblN0ZXBQeCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWluU3RlcFB4ID0gdGhpcy5yYWlsVG90YWxMZW5ndGggPiAxID8gKHRoaXMucmFpbFRvdGFsTGVuZ3RoIC0gMSkgLyB0aGlzLm1heENhcnMgOiAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmcmVzaExvY2tzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhaW5DYXJzKHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlQmFycmllckdhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlcy5leGlzdHMoJ3RyYWluLWJhcnJpZXInKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBnYXRlID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ3RyYWluLWJhcnJpZXInKTtcbiAgICAgICAgZ2F0ZS5zZXREZXB0aCg2KTtcbiAgICAgICAgZ2F0ZS5zZXRPcmlnaW4oMC4wOCwgMC41KTtcbiAgICAgICAgdGhpcy5iYXJyaWVyR2F0ZSA9IGdhdGU7XG4gICAgICAgIHRoaXMudXBkYXRlQmFycmllclBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuc2V0QmFycmllck9wZW4oZmFsc2UsIHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQmFycmllclBvc2l0aW9uICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuYmFycmllckdhdGUpIHJldHVybjtcbiAgICAgICAgY29uc3QgYmFzZVdpZHRoID0gNzUwO1xuICAgICAgICBjb25zdCBiYXNlSGVpZ2h0ID0gMTMzNDtcbiAgICAgICAgY29uc3Qgc2NhbGVYID0gdGhpcy5zY2FsZS53aWR0aCAvIGJhc2VXaWR0aDtcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gdGhpcy5zY2FsZS5oZWlnaHQgLyBiYXNlSGVpZ2h0O1xuICAgICAgICBjb25zdCBiYXNlWCA9IDM1NTtcbiAgICAgICAgY29uc3QgYmFzZVkgPSAyMzA7XG4gICAgICAgIHRoaXMuYmFycmllckdhdGUuc2V0UG9zaXRpb24oYmFzZVggKiBzY2FsZVgsIGJhc2VZICogc2NhbGVZKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSkgKiAwLjM1O1xuICAgICAgICB0aGlzLmJhcnJpZXJHYXRlLnNldFNjYWxlKHNjYWxlKTtcbiAgICAgICAgdGhpcy5iYXJyaWVyQmFzZUFuZ2xlID0gMDtcbiAgICAgICAgY29uc3QgdGFyZ2V0QW5nbGUgPSB0aGlzLmJhcnJpZXJJc09wZW4gPyB0aGlzLmJhcnJpZXJCYXNlQW5nbGUgLSBQaGFzZXIuTWF0aC5EZWdUb1JhZCg0NSkgOiB0aGlzLmJhcnJpZXJCYXNlQW5nbGU7XG4gICAgICAgIHRoaXMuYmFycmllckdhdGUuc2V0Um90YXRpb24odGFyZ2V0QW5nbGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0QmFycmllck9wZW4gKG9wZW46IGJvb2xlYW4sIGltbWVkaWF0ZTogYm9vbGVhbiA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmJhcnJpZXJHYXRlKSByZXR1cm47XG4gICAgICAgIHRoaXMuYmFycmllcklzT3BlbiA9IG9wZW47XG4gICAgICAgIGNvbnN0IHRhcmdldEFuZ2xlID0gb3BlblxuICAgICAgICAgICAgPyB0aGlzLmJhcnJpZXJCYXNlQW5nbGUgLSBQaGFzZXIuTWF0aC5EZWdUb1JhZCg0NSlcbiAgICAgICAgICAgIDogdGhpcy5iYXJyaWVyQmFzZUFuZ2xlO1xuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmJhcnJpZXJHYXRlLnNldFJvdGF0aW9uKHRhcmdldEFuZ2xlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5iYXJyaWVyR2F0ZSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0YXJnZXRBbmdsZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMjAsXG4gICAgICAgICAgICBlYXNlOiAnU2luZS5lYXNlSW5PdXQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVHJhaW5DYXJzIChmb3JjZTogYm9vbGVhbiA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3dDYXJzKSByZXR1cm47XG4gICAgICAgIGlmICghZm9yY2UgJiYgIXRoaXMudHJhaW5Nb3ZpbmcpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMucmFpbFRvdGFsTGVuZ3RoIDw9IDApIHJldHVybjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FyU2xvdHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmNhclNsb3RzW2ldO1xuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VGcm9tQm90dG9tID0gdGhpcy50cmFpbkRpc3RhbmNlUHggLSBpICogdGhpcy50cmFpbkdhcFB4O1xuICAgICAgICAgICAgY29uc3QgbWFwcGVkRGlzdGFuY2UgPSBNYXRoLm1heCgwLCB0aGlzLnJhaWxUb3RhbExlbmd0aCAtIDEpIC0gZGlzdGFuY2VGcm9tQm90dG9tO1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlID0gdGhpcy5zYW1wbGVSYWlsQnlEaXN0YW5jZU5vV3JhcChtYXBwZWREaXN0YW5jZSk7XG4gICAgICAgICAgICBzbG90LmNhci5zZXRQb3NpdGlvbihzYW1wbGUucG9zaXRpb24ueCwgc2FtcGxlLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgc2xvdC5jYXIuc2V0Um90YXRpb24oc2FtcGxlLmFuZ2xlICsgdGhpcy50cmFpblJvdGF0aW9uT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxlYWRDYXIgPSB0aGlzLmNhclNsb3RzWzBdPy5jYXI7XG4gICAgICAgIGlmIChsZWFkQ2FyICYmIHRoaXMubGVhZENhckJhZGdlKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRYID0gLWxlYWRDYXIuZGlzcGxheVdpZHRoICogMC4zNDtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSAtbGVhZENhci5kaXNwbGF5SGVpZ2h0ICogMC4wODtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uID0gbGVhZENhci5yb3RhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHdvcmxkWCA9IGxlYWRDYXIueCArIE1hdGguY29zKHJvdGF0aW9uKSAqIG9mZnNldFggLSBNYXRoLnNpbihyb3RhdGlvbikgKiBvZmZzZXRZO1xuICAgICAgICAgICAgY29uc3Qgd29ybGRZID0gbGVhZENhci55ICsgTWF0aC5zaW4ocm90YXRpb24pICogb2Zmc2V0WCArIE1hdGguY29zKHJvdGF0aW9uKSAqIG9mZnNldFk7XG4gICAgICAgICAgICB0aGlzLmxlYWRDYXJCYWRnZS5zZXRQb3NpdGlvbih3b3JsZFgsIHdvcmxkWSk7XG4gICAgICAgICAgICB0aGlzLmxlYWRDYXJCYWRnZS5zZXRSb3RhdGlvbihyb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFNob3dDYXJzICh2YWx1ZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIHRoaXMuc2hvd0NhcnMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jYXJTbG90cy5mb3JFYWNoKChzbG90KSA9PiB7XG4gICAgICAgICAgICBzbG90LmNhci5zZXRWaXNpYmxlKHZhbHVlKTtcbiAgICAgICAgICAgIHNsb3QubG9jay5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmxlYWRDYXJCYWRnZSkge1xuICAgICAgICAgICAgdGhpcy5sZWFkQ2FyQmFkZ2Uuc2V0VmlzaWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hMb2NrcygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFpbkNhcnModHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFJhaWx3YXlWaXNpYmxlICh2YWx1ZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJhaWx3YXlDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmFpbHdheUNvbnRhaW5lci5zZXRWaXNpYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1Z0N1cnZlR3JhcGhpY3MpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWdDdXJ2ZUdyYXBoaWNzLnNldFZpc2libGUodmFsdWUgJiYgdGhpcy5kZWJ1Z1RyYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1Z01hcmtlckdyYXBoaWNzKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnTWFya2VyR3JhcGhpY3Muc2V0VmlzaWJsZSh2YWx1ZSAmJiB0aGlzLmRlYnVnVHJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVidWdNYXJrZXJMYWJlbHMuZm9yRWFjaCgobGFiZWwpID0+IGxhYmVsLnNldFZpc2libGUodmFsdWUgJiYgdGhpcy5kZWJ1Z1RyYWNrKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc1JhaWx3YXlWaXNpYmxlICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5yYWlsd2F5Q29udGFpbmVyPy52aXNpYmxlID8/IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXREZWJ1Z1RyYWNrVmlzaWJsZSAodmFsdWU6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICB0aGlzLmRlYnVnVHJhY2sgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuZGVidWdDdXJ2ZUdyYXBoaWNzKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnQ3VydmVHcmFwaGljcy5zZXRWaXNpYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1Z01hcmtlckdyYXBoaWNzKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnTWFya2VyR3JhcGhpY3Muc2V0VmlzaWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWJ1Z01hcmtlckxhYmVscy5mb3JFYWNoKChsYWJlbCkgPT4gbGFiZWwuc2V0VmlzaWJsZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0VHJhaW5Nb3ZpbmcgKHZhbHVlOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgdGhpcy50cmFpbk1vdmluZyA9IHZhbHVlO1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYWluQ2Fycyh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZW5kR2FtZSAocmVhc29uOiBzdHJpbmcsIHJlc3VsdDogJ3dpbicgfCAnbG9zZScpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5nYW1lT3ZlcikgcmV0dXJuO1xuICAgICAgICB0aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5xdWl6T3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2xvc2VRdWl6KCk7XG4gICAgICAgIHRoaXMuc3VibWl0U2Vzc2lvblJlc3VsdCgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPT09ICdsb3NlJykge1xuICAgICAgICAgICAgdGhpcy5vcGVuVGltZVVwTW9kYWwoJ091dCBvZiB0aW1lISBUcnkgYWdhaW4uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuVGltZVVwTW9kYWwocmVhc29uIHx8ICdHcmVhdCBqb2IhIFlvdSB3b24hJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXRUaW1lIChzZWNvbmRzOiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBtaW5zID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBjb25zdCBzZWNzID0gc2Vjb25kcyAlIDYwO1xuICAgICAgICByZXR1cm4gYCR7bWluc31tICR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9c2A7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIlNjZW5lIiwiRXZlbnRCdXMiLCJnZXRHYW1lQ29uZmlnIiwicmVzb2x2ZUdhbWVDb2RlIiwiUXVpelBhbmVsIiwiRkFMTEJBQ0tfUVVFU1RJT05TIiwicXVlc3Rpb24iLCJjb250ZW50Iiwib3B0aW9ucyIsInRleHQiLCJpc19jb3JyZWN0IiwiVHJhaW5HYW1lIiwiaW5pdCIsImRhdGEiLCJnYW1lQ29kZSIsInJlZ2lzdHJ5IiwiZ2V0Iiwic2V0Iiwic2Vzc2lvbklkIiwic2Vzc2lvbkdhbWVJZCIsImdhbWVJZCIsInNlc3Npb25RdWVzdGlvbnMiLCJxdWVzdGlvbnMiLCJzZXNzaW9uVGltZUxpbWl0IiwidGltZUxpbWl0IiwiY3JlYXRlIiwid2lkdGgiLCJoZWlnaHQiLCJzY2FsZSIsImdhbWVDb25maWciLCJjYXJTbG90cyIsImNhbWVyYSIsImNhbWVyYXMiLCJtYWluIiwic2V0QmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZCIsImFkZCIsImltYWdlIiwic2V0RGlzcGxheVNpemUiLCJzZXRPcmlnaW4iLCJzZXR1cFF1ZXN0aW9ucyIsInNldHVwVGltZXIiLCJjcmVhdGVIdWQiLCJjdXJyZW50SW5kZXgiLCJzY29yZSIsImNyZWF0ZVJhaWx3YXkiLCJzaG93Q2FycyIsImxheW91dFRyYWluIiwidXBkYXRlVHJhaW5DYXJzIiwiY3JlYXRlQmFycmllckdhdGUiLCJjcmVhdGVRdWl6TW9kYWwiLCJjcmVhdGVTdGFydE1vZGFsIiwiY3JlYXRlVGltZVVwTW9kYWwiLCJvcGVuU3RhcnRNb2RhbCIsIm9uIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJzZXRQb3NpdGlvbiIsImxheW91dEh1ZCIsImxheW91dFF1aXoiLCJ1cGRhdGVCYXJyaWVyUG9zaXRpb24iLCJsYXlvdXRTdGFydE1vZGFsIiwibGF5b3V0VGltZVVwTW9kYWwiLCJlbWl0IiwidXBkYXRlIiwiX3RpbWUiLCJkZWx0YSIsImdhbWVPdmVyIiwiaGFzU3RhcnRlZCIsInJlbWFpbmluZ01zIiwiTWF0aCIsIm1heCIsInNlY29uZHMiLCJjZWlsIiwibGFzdFNlY29uZFNob3duIiwidGltZXJUZXh0Iiwic2V0VGV4dCIsImZvcm1hdFRpbWUiLCJlbmRHYW1lIiwic291cmNlIiwibGVuZ3RoIiwic2xpY2UiLCJ0b3RhbFRpbWVNcyIsInVpUm9vdCIsImNvbnRhaW5lciIsInNldERlcHRoIiwiaHVkQmFja0J1dHRvbiIsImJhY2tCZyIsImdyYXBoaWNzIiwiZmlsbFN0eWxlIiwiZmlsbFJvdW5kZWRSZWN0IiwibGluZVN0eWxlIiwic3Ryb2tlUm91bmRlZFJlY3QiLCJiYWNrSWNvbiIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImNvbG9yIiwic2V0U2l6ZSIsInNldEludGVyYWN0aXZlIiwiUGhhc2VyIiwiR2VvbSIsIlJlY3RhbmdsZSIsIkNvbnRhaW5zIiwicXVpek9wZW4iLCJzY2VuZSIsInN0YXJ0IiwiaHVkUG9pbnRzUGlsbCIsInBvaW50c0JnIiwicG9pbnRzVyIsInBvaW50c0giLCJzdGFyIiwic2V0U2NhbGUiLCJzZXRUaW50Iiwic2NvcmVUZXh0IiwiaHVkVGltZXJQaWxsIiwidGltZXJCZyIsInRpbWVyVyIsInRpbWVySCIsImNyZWF0ZVRyYWZmaWNMaWdodCIsInRvcEluc2V0Iiwicm91bmQiLCJzaWRlSW5zZXQiLCJyaWdodEVkZ2UiLCJsaWdodEhlaWdodCIsInNvdXJjZUhlaWdodCIsInNvdXJjZVdpZHRoIiwibGlnaHRXaWR0aCIsImJhc2VYIiwiYmFzZVkiLCJhbmNob3JZIiwibWFrZVZhcmlhbnQiLCJrZXkiLCJzZXRBbHBoYSIsIm9mZnNldHMiLCJyZWQiLCJ4IiwieSIsInllbGxvdyIsImdyZWVuIiwidGV4dHVyZXMiLCJleGlzdHMiLCJyZWN0YW5nbGUiLCJub3JtYWxpemUiLCJvYmoiLCJ0cmFmZmljTGlnaHRWYXJpYW50cyIsInRyYWZmaWNMaWdodCIsImN5Y2xlIiwiY3ljbGVJbmRleCIsInNldFRyYWZmaWNMaWdodENvbG9yIiwidGltZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJsb29wIiwiY2FsbGJhY2siLCJ0cmFmZmljTGlnaHRTdGF0ZSIsInNldFZpc2libGUiLCJzY2FsZVgiLCJkaXNwbGF5V2lkdGgiLCJzY2FsZVkiLCJkaXNwbGF5SGVpZ2h0IiwibWluIiwidHJhaW5DYXJTY2FsZUZhY3RvciIsInRyYWNrQ3VydmUiLCJjcmVhdGVUcmFja0N1cnZlIiwidHJhY2tQb2ludHMiLCJzYW1wbGVUcmFjayIsIm1heENhcnMiLCJpIiwiY2FyS2V5IiwicG9pbnQiLCJhbmdsZSIsImdldFRyYWNrQW5nbGUiLCJ0cmFpblJvdGF0aW9uT2Zmc2V0IiwiY2FyIiwic2V0Um90YXRpb24iLCJsb2NrIiwiY3JlYXRlTG9ja092ZXJsYXkiLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJwdXNoIiwiaW5kZXgiLCJyZWZlcmVuY2VDYXIiLCJjYXJMZW5ndGgiLCJ0cmFpbkdhcFB4IiwidHJhaW5DYXJHYXBGYWN0b3IiLCJ0cmFpblN0ZXBQeCIsImxlYWRDYXJCYXNlU2l6ZSIsInNldFRleHR1cmUiLCJzZXRMZWFkQ2FyU3RhdGUiLCJyZWZyZXNoTG9ja3MiLCJnZXRMZWFkQ2FyVGV4dHVyZUtleSIsInN0YXRlIiwibGVhZENhclN0YXRlIiwibGVhZENhciIsInRleHR1cmUiLCJ0ZXh0dXJlS2V5IiwibGVhZENhckJhZGdlIiwiZGVwdGgiLCJwYW5lbFciLCJwYW5lbEgiLCJiZyIsInNldFN0cm9rZVN0eWxlIiwiaGl0QXJlYSIsInNldERhdGEiLCJzZXRGaWxsU3R5bGUiLCJpbnB1dCIsInNldERlZmF1bHRDdXJzb3IiLCJvcGVuUXVlc3Rpb24iLCJmb3JFYWNoIiwic2xvdCIsInBvaW50cyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJxdWl6UGFuZWwiLCJvcHRpb25Db3VudCIsInBhcmVudCIsInNob3dJbmRleCIsInF1aXpNb2RhbCIsIm9uT3B0aW9uU2VsZWN0ZWQiLCJxdWl6TG9ja2VkIiwiaGFuZGxlQW5zd2VyIiwib3ZlcmxheSIsInBhbmVsIiwicGFuZWxXaWR0aCIsInBhbmVsSGVpZ2h0IiwicGFuZWxTaGFkb3ciLCJwYW5lbEJnIiwidGl0bGUiLCJhbGlnbiIsImxpbmVTcGFjaW5nIiwiYnV0dG9uIiwiY3JlYXRlU3RhcnRCdXR0b24iLCJzdGFydE1vZGFsIiwic3RhcnRNb2RhbFBhbmVsIiwidGltZVVwVGl0bGVUZXh0IiwiY3JlYXRlVGltZW91dEJ1dHRvbiIsInRpbWVVcE1vZGFsIiwidGltZVVwTW9kYWxQYW5lbCIsImxpc3QiLCJyYWRpdXMiLCJzaGFkb3ciLCJkcmF3IiwiZmlsbCIsInN0cm9rZSIsImNsZWFyIiwiaGl0IiwidHdlZW5zIiwidGFyZ2V0cyIsImR1cmF0aW9uIiwiZWFzZSIsInN0YXJ0TW9kYWxPcGVuIiwic3RhcnRHYW1lRmxvdyIsInlveW8iLCJyZXBlYXQiLCJnZXREYXRhIiwiZGVsYXllZENhbGwiLCJzeXMiLCJpc0FjdGl2ZSIsInJlc3RhcnRUcmFpblJ1biIsImFscGhhIiwiY2xvc2VTdGFydE1vZGFsIiwib3BlblRpbWVVcE1vZGFsIiwibWVzc2FnZSIsInN1Ym1pdFNlc3Npb25SZXN1bHQiLCJ0aGVuIiwiZW5kR2FtZVNlc3Npb24iLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxheW91dCIsImdldFF1ZXN0aW9uRm9ySW5kZXgiLCJtYXAiLCJvcHQiLCJjdXJyZW50T3B0aW9uSWRzIiwiaWQiLCJjdXJyZW50U2Vzc2lvblF1ZXN0aW9uSWQiLCJzZXNzaW9uX3F1ZXN0aW9uX2lkIiwiY29ycmVjdEluZGV4IiwiZmluZEluZGV4IiwiY3VycmVudENvcnJlY3RJbmRleCIsInNldEZlZWRiYWNrIiwic2V0UXVlc3Rpb24iLCJ0b3RhbCIsInNldEJhcnJpZXJPcGVuIiwic2VsZWN0ZWRJbmRleCIsImlzQ29ycmVjdCIsInNlbGVjdGVkT3B0aW9uSWQiLCJzdWJtaXRBbnN3ZXIiLCJyZXMiLCJzZXRPcHRpb25TdGF0ZSIsImNsb3NlUXVpeiIsImFwcGx5Q29ycmVjdCIsImFwcGx5V3JvbmciLCJtb3ZlVHJhaW5Ub0VuZCIsIm1vdmVUcmFpblRvSW5kZXgiLCJ0YXJnZXRJbmRleCIsIm9uQ29tcGxldGUiLCJyYWlsVG90YWxMZW5ndGgiLCJ2aXN1YWxJbmRleCIsIkNsYW1wIiwibWF4RGlzdGFuY2UiLCJ0YXJnZXREaXN0YW5jZSIsImFicyIsInRyYWluRGlzdGFuY2VQeCIsInRyYWluTW92aW5nIiwidHdlZW5TdGF0ZSIsInZhbHVlIiwib25VcGRhdGUiLCJ0cmFpbkxlbmd0aCIsImJhc2VXaWR0aCIsImJhc2VIZWlnaHQiLCJwIiwiVmVjdG9yMiIsIkN1cnZlcyIsIlNwbGluZSIsImN1cnZlIiwiY291bnQiLCJ0IiwiZ2V0UG9pbnRBdCIsImRyYXdUcmFja0N1cnZlIiwic3RhcnRUIiwiZW5kVCIsImdldFZpc2libGVUUmFuZ2UiLCJzdGVwcyIsImZpcnN0IiwiZ2V0UG9pbnQiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2VQYXRoIiwiZGVidWdDdXJ2ZUdyYXBoaWNzIiwiZHJhd0N1cnZlTWFya2VycyIsImNsYW1wZWRYIiwiY2xhbXBlZFkiLCJzdHJva2VMaW5lU2hhcGUiLCJMaW5lIiwiZmlsbENpcmNsZSIsImxhYmVsVGV4dCIsImxhYmVsIiwic3Ryb2tlVGhpY2tuZXNzIiwiZGVidWdNYXJrZXJMYWJlbHMiLCJkZWJ1Z01hcmtlckdyYXBoaWNzIiwibWFyZ2luIiwic2FtcGxlcyIsImZvdW5kU3RhcnQiLCJpbnNpZGUiLCJzdGFydEV4dGVuZCIsImVuZEV4dGVuZCIsImN1cnIiLCJuZXh0IiwiYXRhbjIiLCJidWlsZFJhaWxQYXRoIiwic3BsaW5lIiwiZ2V0TGVuZ3RoIiwic2FtcGxlRXZlcnlQeCIsInJhaWxQYXRoUG9pbnRzIiwicmFpbFNlZ21lbnRMZW5ndGhzIiwic2VnbWVudHMiLCJzZWdMZW4iLCJEaXN0YW5jZSIsIkJldHdlZW4iLCJzYW1wbGVSYWlsQnlEaXN0YW5jZU5vV3JhcCIsImRpc3RhbmNlUHgiLCJwb3NpdGlvbiIsImRpciIsImNvcyIsInNpbiIsInBvcyIsImVuZCIsInByZXYiLCJyZW1haW5pbmciLCJzZWdJbmRleCIsInNhZmVJbmRleCIsInJhdGlvIiwiTGluZWFyIiwidHJhY2tTcGxpbmUiLCJ0cmFja0xlbmd0aCIsImJhc2VTY2FsZSIsInJhaWxPZmZzZXQiLCJzbGVlcGVyV2lkdGgiLCJzbGVlcGVySGVpZ2h0IiwicmFpbHdheUNvbnRhaW5lciIsInJhaWxMZWZ0IiwicmFpbFJpZ2h0IiwidGFuZ2VudCIsImdldFRhbmdlbnQiLCJub3JtYWwiLCJyYWlscyIsInNsZWVwZXJDb3VudCIsIlBJIiwic2xlZXBlciIsImRlYnVnVHJhY2siLCJzZXRSYWlsd2F5VmlzaWJsZSIsInNldERlYnVnVHJhY2tWaXNpYmxlIiwiZ2F0ZSIsImJhcnJpZXJHYXRlIiwiYmFycmllckJhc2VBbmdsZSIsInRhcmdldEFuZ2xlIiwiYmFycmllcklzT3BlbiIsIkRlZ1RvUmFkIiwib3BlbiIsImltbWVkaWF0ZSIsInJvdGF0aW9uIiwiZm9yY2UiLCJkaXN0YW5jZUZyb21Cb3R0b20iLCJtYXBwZWREaXN0YW5jZSIsInNhbXBsZSIsIm9mZnNldFgiLCJvZmZzZXRZIiwid29ybGRYIiwid29ybGRZIiwic2V0U2hvd0NhcnMiLCJpc1JhaWx3YXlWaXNpYmxlIiwidmlzaWJsZSIsInNldFRyYWluTW92aW5nIiwicmVhc29uIiwicmVzdWx0IiwibWlucyIsImZsb29yIiwic2VjcyIsImNvbnN0cnVjdG9yIiwidHJhaW5TcGVlZFB4UGVyU2VjIiwic2hvd0hvdmVyQ29vcmRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/game/scenes/TrainGame.ts\n"));

/***/ })

});