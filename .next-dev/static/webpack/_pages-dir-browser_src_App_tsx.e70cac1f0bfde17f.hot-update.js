"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_src_App_tsx",{

/***/ "(pages-dir-browser)/./src/game/scenes/Game.ts":
/*!*********************************!*\
  !*** ./src/game/scenes/Game.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Game: () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventBus */ \"(pages-dir-browser)/./src/game/EventBus.ts\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! phaser */ \"(pages-dir-browser)/./node_modules/phaser/dist/phaser.js\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _objects_EmoteCharacter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../objects/EmoteCharacter */ \"(pages-dir-browser)/./src/game/objects/EmoteCharacter.ts\");\n/* harmony import */ var _gameConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gameConfig */ \"(pages-dir-browser)/./src/game/gameConfig.ts\");\n/* harmony import */ var _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/QuizPanel */ \"(pages-dir-browser)/./src/game/ui/QuizPanel.ts\");\n\n\n\n\n\nclass Game extends phaser__WEBPACK_IMPORTED_MODULE_1__.Scene {\n    init(data) {\n        var _data_gameCode;\n        this.gameCode = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.resolveGameCode)((_data_gameCode = data === null || data === void 0 ? void 0 : data.gameCode) !== null && _data_gameCode !== void 0 ? _data_gameCode : this.registry.get('gameCode'));\n        this.registry.set('gameCode', this.gameCode);\n        this.gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.getGameConfig)(this.gameCode);\n        var _data_sessionId;\n        this.sessionId = (_data_sessionId = data === null || data === void 0 ? void 0 : data.sessionId) !== null && _data_sessionId !== void 0 ? _data_sessionId : null;\n        var _data_gameId;\n        this.sessionGameId = (_data_gameId = data === null || data === void 0 ? void 0 : data.gameId) !== null && _data_gameId !== void 0 ? _data_gameId : null;\n        var _data_questions;\n        this.sessionQuestions = (_data_questions = data === null || data === void 0 ? void 0 : data.questions) !== null && _data_questions !== void 0 ? _data_questions : null;\n        var _data_timeLimit;\n        this.sessionTimeLimit = (_data_timeLimit = data === null || data === void 0 ? void 0 : data.timeLimit) !== null && _data_timeLimit !== void 0 ? _data_timeLimit : null;\n    }\n    create() {\n        const { width, height } = this.scale;\n        this.camera = this.cameras.main;\n        // Parallax background\n        this.createParallaxBackground();\n        // Track (Leaves) - Use bg-main as the scrolling map\n        this.trackImage = this.add.image(width / 2, height, this.gameConfig.mapKey).setOrigin(0.5, 1);\n        const trackScale = width / this.trackImage.width;\n        this.trackImage.setScale(trackScale);\n        const mapTop = this.trackImage.y - this.trackImage.displayHeight;\n        this.camera.setBounds(0, mapTop, width, this.trackImage.displayHeight);\n        // Build leaf path based on the map texture\n        this.leafPath = this.gameConfig.useTexturePath ? this.buildLeafPath(this.gameConfig.mapKey) : [];\n        // Player Setup - Using EmoteCharacter (idle/correct/incorrect states)\n        const startPos = this.getLeafPosition(0);\n        this.player = new _objects_EmoteCharacter__WEBPACK_IMPORTED_MODULE_2__.EmoteCharacter(this, startPos.x, startPos.y);\n        this.currentLeafIndex = 0;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > startPos.x);\n        // Start idle animation\n        this.player.playIdle();\n        // Initial Camera Position\n        this.camera.scrollY = startPos.y - 900;\n        // UI camera (fixed screen-space)\n        this.uiCamera = this.cameras.add(0, 0, width, height);\n        this.uiCamera.setScroll(0, 0);\n        this.uiCamera.ignore(this.children.list);\n        // UI\n        this.createUI();\n        if (this.sessionTimeLimit && this.sessionTimeLimit > 0) {\n            this.totalTimeMs = this.sessionTimeLimit * 1000;\n        }\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit('current-scene-ready', this);\n    }\n    createParallaxBackground() {\n        this.cameras.main.setBackgroundColor(this.gameConfig.backgroundColor);\n        this.parallaxLayers = [];\n    }\n    update() {\n        var _this_parallaxLayers;\n        if (!((_this_parallaxLayers = this.parallaxLayers) === null || _this_parallaxLayers === void 0 ? void 0 : _this_parallaxLayers.length)) return;\n        const scrollY = this.camera.scrollY;\n        this.parallaxLayers.forEach((layer)=>{\n            const factor = layer.getData('scrollFactor');\n            const baseY = layer.getData('baseY');\n            layer.y = baseY + scrollY * factor;\n        });\n    }\n    createUI() {\n        const { width, height } = this.scale;\n        // Fixed UI Container\n        this.uiRoot = this.add.container(0, 0).setScrollFactor(0).setDepth(100);\n        // Timer + Score HUD\n        this.timerOverlay = this.add.container(0, 0).setScrollFactor(0).setDepth(2000);\n        // Back button\n        this.hudBackButton = this.add.container(0, 0);\n        const backBg = this.add.graphics();\n        backBg.fillStyle(0xffffff, 0.95);\n        backBg.fillRoundedRect(-24, -24, 48, 48, 14);\n        backBg.lineStyle(2, 0x0ea5e9, 0.2);\n        backBg.strokeRoundedRect(-24, -24, 48, 48, 14);\n        const backIcon = this.add.text(0, 1, '<', {\n            fontFamily: 'Arial Black',\n            fontSize: '28px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const backHit = this.add.zone(0, 0, 48, 48).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        });\n        backHit.on('pointerup', ()=>this.handleBackToGameList());\n        this.hudBackButton.add([\n            backBg,\n            backIcon\n        ]);\n        this.hudBackButton.setSize(48, 48);\n        this.hudBackButton.add(backHit);\n        // Points pill\n        this.hudPointsPill = this.add.container(0, 0);\n        const pointsBg = this.add.graphics();\n        const pointsW = 170;\n        const pointsH = 44;\n        pointsBg.fillStyle(0xe0f2fe, 0.98);\n        pointsBg.fillRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        pointsBg.lineStyle(2, 0x93c5fd, 0.7);\n        pointsBg.strokeRoundedRect(-pointsW / 2, -pointsH / 2, pointsW, pointsH, 22);\n        const star = this.add.image(-pointsW / 2 + 24, 0, 'star').setScale(0.32).setTint(0xfbbf24);\n        this.scoreText = this.add.text(-pointsW / 2 + 46, 0, 'POINTS: 00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0, 0.5);\n        this.hudPointsPill.add([\n            pointsBg,\n            star,\n            this.scoreText\n        ]);\n        // Timer pill\n        this.hudTimerPill = this.add.container(0, 0);\n        const timerBg = this.add.graphics();\n        const timerW = 100;\n        const timerH = 40;\n        timerBg.fillStyle(0xdbeafe, 0.98);\n        timerBg.fillRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        timerBg.lineStyle(2, 0x60a5fa, 0.6);\n        timerBg.strokeRoundedRect(-timerW / 2, -timerH / 2, timerW, timerH, 20);\n        this.timerText = this.add.text(0, 0, '03:00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.hudTimerPill.add([\n            timerBg,\n            this.timerText\n        ]);\n        // Hearts pill\n        this.hudHeartsPill = this.add.container(0, 0);\n        const heartsBg = this.add.graphics();\n        const heartsW = 92;\n        const heartsH = 36;\n        heartsBg.fillStyle(0xffffff, 0.98);\n        heartsBg.fillRoundedRect(-heartsW / 2, -heartsH / 2, heartsW, heartsH, 18);\n        heartsBg.lineStyle(2, 0x93c5fd, 0.35);\n        heartsBg.strokeRoundedRect(-heartsW / 2, -heartsH / 2, heartsW, heartsH, 18);\n        const heartsText = this.add.text(0, 0, '❤ ❤ ❤', {\n            fontFamily: 'Arial Black',\n            fontSize: '16px',\n            color: '#ef4444'\n        }).setOrigin(0.5);\n        this.hudHeartsPill.add([\n            heartsBg,\n            heartsText\n        ]);\n        this.timerOverlay.add([\n            this.hudBackButton,\n            this.hudPointsPill,\n            this.hudTimerPill,\n            this.hudHeartsPill\n        ]);\n        this.uiRoot.add(this.timerOverlay);\n        this.layoutHud();\n        // Jump Button\n        this.jumpButton = this.createJumpButton(width / 2, height - 150);\n        this.jumpButton.setScrollFactor(0);\n        this.uiRoot.add(this.jumpButton);\n        this.jumpButton.setVisible(false);\n        this.jumpButton.setActive(false);\n        this.setupJumpInput();\n        // Quiz Modal (UI overlay)\n        this.createQuizModal();\n        this.scale.on('resize', ()=>{\n            if (this.quizModal) this.layoutQuiz();\n            this.layoutHud();\n        });\n        // Start Modal (first screen)\n        this.createStartModal();\n        this.openStartModal();\n        // Ensure only UI camera renders UI\n        this.cameras.main.ignore([\n            this.uiRoot,\n            this.timerOverlay\n        ]);\n        // End Modal\n        this.createEndModal();\n        // Time Up Modal\n        this.createTimeUpModal();\n    }\n    layoutHud() {\n        if (!this.hudBackButton || !this.hudPointsPill || !this.hudTimerPill || !this.hudHeartsPill) return;\n        const { width, height } = this.scale;\n        const topInset = Math.max(20, Math.round(height * 0.03));\n        const sideInset = Math.max(16, Math.round(width * 0.045));\n        const gap = 10;\n        const heartsW = 92;\n        const timerW = 100;\n        this.hudBackButton.setPosition(sideInset + 24, topInset + 24);\n        this.hudPointsPill.setPosition(width / 2, topInset + 24);\n        const rightEdge = width - sideInset;\n        this.hudHeartsPill.setPosition(rightEdge - heartsW / 2, topInset + 24);\n        this.hudTimerPill.setPosition(rightEdge - heartsW - gap - timerW / 2, topInset + 24);\n    }\n    handleBackToGameList() {\n        window.location.href = '/';\n    }\n    createJumpButton(x, y) {\n        const container = this.add.container(x, y);\n        const width = 300;\n        const height = 100;\n        const bg = this.add.rectangle(0, 0, width, height, 0xfbbf24).setStrokeStyle(4, 0xffffff).setFillStyle(0x22c55e);\n        const text = this.add.text(0, 0, 'NEXT JUMP!', {\n            fontFamily: 'Arial Black',\n            fontSize: '32px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        container.add([\n            bg,\n            text\n        ]);\n        container.setSize(width, height);\n        this.jumpButtonBg = bg;\n        const onPress = ()=>{\n            if (this.quizOpen || this.startModalOpen) return;\n            bg.setFillStyle(0x16a34a);\n            this.openQuizModal();\n        };\n        const onRelease = ()=>{\n            bg.setFillStyle(0x22c55e);\n        };\n        container.setInteractive(new Phaser.Geom.Rectangle(-width / 2, -height / 2, width, height), Phaser.Geom.Rectangle.Contains);\n        container.on('pointerdown', onPress);\n        container.on('pointerup', onRelease);\n        container.on('pointerout', onRelease);\n        // Add simple pulse tween\n        this.tweens.add({\n            targets: container,\n            scale: 1.05,\n            duration: 800,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    setupJumpInput() {\n        this.input.enabled = true;\n        if (this.input.mouse) this.input.mouse.enabled = true;\n        this.input.on('pointerdown', (pointer)=>{\n            if (this.quizOpen || this.startModalOpen) return;\n            const bounds = this.jumpButton.getBounds();\n            if (bounds.contains(pointer.x, pointer.y)) {\n                this.jumpButtonBg.setFillStyle(0x16a34a);\n                this.openQuizModal();\n            }\n        });\n        this.input.on('pointerup', ()=>{\n            this.jumpButtonBg.setFillStyle(0x22c55e);\n        });\n    }\n    createQuizModal() {\n        this.quizPanel = new _ui_QuizPanel__WEBPACK_IMPORTED_MODULE_4__.QuizPanel(this, {\n            optionCount: 4,\n            depth: 200,\n            parent: this.uiRoot,\n            showIndex: true\n        });\n        this.quizModal = this.quizPanel.container;\n        this.quizPanelContainer = this.quizPanel.panelContainer;\n        this.quizPanelShadow = this.quizPanel.panelShadow;\n        this.quizPanelBg = this.quizPanel.panelBg;\n        this.quizPanelGlow = this.quizPanel.panelGlow;\n        this.quizIndexText = this.quizPanel.indexText;\n        this.quizFeedbackTitleText = this.quizPanel.feedbackTitleText;\n        this.quizFeedbackSubtitleText = this.quizPanel.feedbackSubtitleText;\n        this.quizQuestionText = this.quizPanel.questionText;\n        this.quizOptionButtons = this.quizPanel.optionButtons;\n        this.quizPanel.onOptionSelected((index)=>{\n            if (!this.quizOpen || this.quizLocked) return;\n            this.handleQuizAnswer(index);\n        });\n        this.layoutQuiz();\n    }\n    createStartModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(220);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.12).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 160;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.58)).setScrollFactor(0);\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -26, 'Help the robot cross the river.', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a',\n            align: 'center',\n            wordWrap: {\n                width: panelWidth - 60,\n                useAdvancedWrap: true\n            }\n        }).setOrigin(0.5);\n        const button = this.createStartButton(0, 42);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            button\n        ]);\n        container.add([\n            overlay,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.startModal = container;\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createEndModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(230);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.6).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 220;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.56)).setScrollFactor(0);\n        overlay.setDepth(0);\n        panelContainer.setDepth(1);\n        const blocker = this.add.zone(0, 0, width, height).setOrigin(0, 0);\n        blocker.setInteractive(new Phaser.Geom.Rectangle(0, 0, width, height), (shape, x, y)=>{\n            const panelBounds = panelContainer.getBounds();\n            if (Phaser.Geom.Rectangle.Contains(panelBounds, x, y)) return false;\n            return Phaser.Geom.Rectangle.Contains(shape, x, y);\n        });\n        blocker.on('pointerdown', ()=>{});\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -64, 'Congratulations!', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const subtitle = this.add.text(0, -36, 'You completed the run.', {\n            fontFamily: 'Arial',\n            fontSize: '18px',\n            color: '#0f172a',\n            align: 'center',\n            wordWrap: {\n                width: panelWidth - 60,\n                useAdvancedWrap: true\n            }\n        }).setOrigin(0.5);\n        const statsGap = 16;\n        const cardWidth = Math.min(200, Math.floor((panelWidth - 120) / 2));\n        const cardHeight = 46;\n        const statsY = 62;\n        const scoreCard = this.add.graphics();\n        scoreCard.fillStyle(0x93c5fd, 0.18);\n        scoreCard.fillRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        scoreCard.lineStyle(2, 0x93c5fd, 0.45);\n        scoreCard.strokeRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        const timeCard = this.add.graphics();\n        timeCard.fillStyle(0x93c5fd, 0.18);\n        timeCard.fillRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        timeCard.lineStyle(2, 0x93c5fd, 0.45);\n        timeCard.strokeRoundedRect(-cardWidth / 2, -cardHeight / 2, cardWidth, cardHeight, 16);\n        const scoreCardContainer = this.add.container(-cardWidth / 2 - statsGap / 2, statsY, [\n            scoreCard\n        ]);\n        const timeCardContainer = this.add.container(cardWidth / 2 + statsGap / 2, statsY, [\n            timeCard\n        ]);\n        const scoreLabel = this.add.text(scoreCardContainer.x, statsY - 16, 'SCORE', {\n            fontFamily: 'Arial Black',\n            fontSize: '12px',\n            color: '#1e3a8a'\n        }).setOrigin(0.5);\n        const timeLabel = this.add.text(timeCardContainer.x, statsY - 16, 'TIME', {\n            fontFamily: 'Arial Black',\n            fontSize: '12px',\n            color: '#1e3a8a'\n        }).setOrigin(0.5);\n        this.endModalScoreText = this.add.text(scoreCardContainer.x, statsY + 6, '0', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        this.endModalTimeText = this.add.text(timeCardContainer.x, statsY + 6, '00:00', {\n            fontFamily: 'Arial Black',\n            fontSize: '18px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const restartButton = this.createEndRestartButton(0, panelHeight / 2 + 56);\n        restartButton.setDepth(2);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            subtitle,\n            scoreCardContainer,\n            timeCardContainer,\n            scoreLabel,\n            timeLabel,\n            this.endModalScoreText,\n            this.endModalTimeText\n        ]);\n        panelContainer.add(restartButton);\n        container.add([\n            overlay,\n            blocker,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.endModal = container;\n        this.endModal.setData('panel', panelContainer);\n        this.endModal.setData('overlay', overlay);\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createEndRestartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Play Again', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hit = this.add.rectangle(0, 0, width, height, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n            this.restartRun();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    createTimeUpModal() {\n        const { width, height } = this.scale;\n        const container = this.add.container(0, 0).setScrollFactor(0).setDepth(240);\n        const overlay = this.add.rectangle(0, 0, width, height, 0x000000, 0.12).setOrigin(0, 0);\n        const panelWidth = Math.min(520, width - 80);\n        const panelHeight = 160;\n        const panelContainer = this.add.container(width / 2, Math.round(height * 0.56)).setScrollFactor(0);\n        const panelShadow = this.add.graphics();\n        panelShadow.fillStyle(0x000000, 0.15);\n        panelShadow.fillRoundedRect(-panelWidth / 2 + 6, -panelHeight / 2 + 10, panelWidth, panelHeight, 26);\n        const panelBg = this.add.graphics();\n        panelBg.fillStyle(0xffffff, 0.85);\n        panelBg.fillRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        panelBg.lineStyle(2, 0x93c5fd, 0.45);\n        panelBg.strokeRoundedRect(-panelWidth / 2, -panelHeight / 2, panelWidth, panelHeight, 24);\n        const title = this.add.text(0, -26, 'Out of time! Failed', {\n            fontFamily: 'Arial Black',\n            fontSize: '22px',\n            color: '#0f172a'\n        }).setOrigin(0.5);\n        const restartButton = this.createRestartButton(0, 42);\n        panelContainer.add([\n            panelShadow,\n            panelBg,\n            title,\n            restartButton\n        ]);\n        container.add([\n            overlay,\n            panelContainer\n        ]);\n        container.setVisible(false);\n        this.timeUpModal = container;\n        this.timeUpModal.setData('panel', panelContainer);\n        if (this.uiRoot) this.uiRoot.add(container);\n    }\n    createRestartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Continue', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hit = this.add.rectangle(0, 0, width, height, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        hit.on('pointerover', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerout', ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n            this.tweens.add({\n                targets: container,\n                scale: 1,\n                duration: 120,\n                ease: 'Sine.easeOut'\n            });\n        });\n        hit.on('pointerdown', ()=>{\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 0.98,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n            this.restartRun();\n        });\n        hit.on('pointerup', ()=>{\n            draw(0x2563eb, 0xbfdbfe);\n            this.tweens.add({\n                targets: container,\n                scale: 1.02,\n                duration: 80,\n                ease: 'Sine.easeOut'\n            });\n        });\n        return container;\n    }\n    createStartButton(x, y) {\n        const container = this.add.container(x, y).setScrollFactor(0);\n        const width = 260;\n        const height = 52;\n        const radius = 20;\n        const shadow = this.add.graphics();\n        shadow.fillStyle(0x000000, 0.2);\n        shadow.fillRoundedRect(-width / 2 + 4, -height / 2 + 6, width, height, radius);\n        const bg = this.add.graphics();\n        const draw = (fill, stroke)=>{\n            bg.clear();\n            bg.fillStyle(fill, 1);\n            bg.fillRoundedRect(-width / 2, -height / 2, width, height, radius);\n            bg.lineStyle(2, stroke, 0.8);\n            bg.strokeRoundedRect(-width / 2, -height / 2, width, height, radius);\n        };\n        draw(0x3b82f6, 0x93c5fd);\n        const text = this.add.text(0, 0, 'Start Game', {\n            fontFamily: 'Arial Black',\n            fontSize: '20px',\n            color: '#ffffff'\n        }).setOrigin(0.5);\n        const hitPad = 16;\n        const hitW = width + hitPad * 2;\n        const hitH = height + hitPad * 2;\n        const hit = this.add.rectangle(0, 0, hitW, hitH, 0xffffff, 0.001);\n        hit.setInteractive();\n        container.add([\n            shadow,\n            bg,\n            text,\n            hit\n        ]);\n        container.setSize(width, height);\n        const onPress = ()=>{\n            if (!this.startModalOpen) return;\n            draw(0x1d4ed8, 0xbfdbfe);\n            this.closeStartModal();\n            this.openQuizModal();\n        };\n        const onRelease = ()=>{\n            draw(0x3b82f6, 0x93c5fd);\n        };\n        hit.on('pointerdown', onPress);\n        hit.on('pointerup', onRelease);\n        hit.on('pointerout', onRelease);\n        this.tweens.add({\n            targets: container,\n            scale: 1.05,\n            duration: 800,\n            yoyo: true,\n            repeat: -1\n        });\n        return container;\n    }\n    openStartModal() {\n        this.startModalOpen = true;\n        this.jumpButton.setAlpha(0.4);\n        this.stopTimer();\n        this.startModal.setVisible(true);\n        this.startModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.startModal,\n            alpha: 1,\n            duration: 180\n        });\n    }\n    closeStartModal() {\n        this.startModalOpen = false;\n        this.jumpButton.setAlpha(1);\n        this.startTimer();\n        this.startModal.setVisible(false);\n    }\n    setQuestion(data) {\n        this.quizPanel.setFeedback('idle');\n        this.quizPanel.setQuestion(data);\n        this.layoutQuiz();\n    }\n    layoutQuiz() {\n        if (!this.quizPanel) return;\n        const { width, height } = this.scale;\n        const result = this.quizPanel.layout(width, height);\n        this.uiScale = result.uiScale;\n        this.quizPanelHeight = result.panelHeight;\n        this.quizPanelWidth = result.panelWidth;\n    }\n    openQuizModal() {\n        if (this.gameOver) return;\n        if (this.gameCompleted) return;\n        if (this.player.isJumping()) return;\n        this.quizOpen = true;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(0.6);\n        const questionPool = this.getQuestionPool();\n        const question = questionPool[this.quizCurrentIndex % questionPool.length];\n        this.setQuestion({\n            index: this.quizCurrentIndex + 1,\n            total: questionPool.length,\n            question: question.question,\n            options: question.options\n        });\n        this.quizModal.setVisible(true);\n        this.quizModal.setAlpha(0);\n        const panel = this.quizPanel.panelContainer;\n        panel.setScale(0.96);\n        panel.y += 18;\n        this.tweens.add({\n            targets: this.quizModal,\n            alpha: 1,\n            duration: 180\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            y: panel.y - 18,\n            duration: 220,\n            ease: 'Back.easeOut'\n        });\n    }\n    closeQuizModal() {\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(1);\n        this.quizModal.setVisible(false);\n    }\n    async handleQuizAnswer(index) {\n        const questionPool = this.getQuestionPool();\n        const question = questionPool[this.quizCurrentIndex % questionPool.length];\n        let isCorrect = index === question.correctIndex;\n        const selectedOptionId = question.optionIds[index];\n        if (this.sessionId && question.sessionQuestionId && selectedOptionId) {\n            try {\n                const { submitAnswer } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\"));\n                const res = await submitAnswer(this.sessionId, question.sessionQuestionId, selectedOptionId, {\n                    forceReal: this.gameCode === 'vocab_race'\n                });\n                isCorrect = res.data.is_correct;\n            } catch (error) {\n                console.error('submitAnswer failed, fallback to local check', error);\n            }\n        }\n        const btn = this.quizOptionButtons[index];\n        const redraw = btn.getData('redraw');\n        if (isCorrect) {\n            this.quizLocked = true;\n            redraw('correct');\n            this.setQuizFeedback('correct');\n            this.updateScore(1);\n            this.speedUpJump();\n            await this.delay(400);\n            this.closeQuizModal();\n            await this.handleJump();\n            this.quizCurrentIndex += 1;\n            this.time.delayedCall(250, ()=>{\n                this.openQuizModal();\n            });\n        } else {\n            this.quizLocked = true;\n            redraw('wrong');\n            this.setQuizFeedback('wrong');\n            this.updateScore(-1);\n            this.showPlayerState('incorrect');\n            const panel = this.quizPanel.panelContainer;\n            const startX = panel.x;\n            this.tweens.add({\n                targets: panel,\n                x: startX + 10,\n                duration: 60,\n                yoyo: true,\n                repeat: 3,\n                ease: 'Sine.easeInOut',\n                onComplete: ()=>{\n                    panel.x = startX;\n                    this.quizLocked = false;\n                    redraw('normal');\n                }\n            });\n        }\n    }\n    getQuestionPool() {\n        const apiQuestions = this.sessionQuestions;\n        if (apiQuestions === null || apiQuestions === void 0 ? void 0 : apiQuestions.length) {\n            if (!this.questionSourceLogged) {\n                var _apiQuestions__question, _apiQuestions_;\n                this.questionSourceLogged = true;\n                var _apiQuestions__question_content;\n                console.log('[GAME][TOWN] Using session questions', {\n                    gameCode: this.gameCode,\n                    count: apiQuestions.length,\n                    sample: (_apiQuestions__question_content = (_apiQuestions_ = apiQuestions[0]) === null || _apiQuestions_ === void 0 ? void 0 : (_apiQuestions__question = _apiQuestions_.question) === null || _apiQuestions__question === void 0 ? void 0 : _apiQuestions__question.content) !== null && _apiQuestions__question_content !== void 0 ? _apiQuestions__question_content : null\n                });\n            }\n            return apiQuestions.map((item)=>{\n                const options = item.question.options.map((opt)=>opt.text);\n                const optionIds = item.question.options.map((opt)=>{\n                    var _opt_id;\n                    return (_opt_id = opt.id) !== null && _opt_id !== void 0 ? _opt_id : '';\n                });\n                let correctIndex = item.question.options.findIndex((opt)=>opt.is_correct);\n                if (correctIndex < 0) correctIndex = 0;\n                var _item_session_question_id;\n                return {\n                    sessionQuestionId: (_item_session_question_id = item.session_question_id) !== null && _item_session_question_id !== void 0 ? _item_session_question_id : null,\n                    question: item.question.content,\n                    options,\n                    optionIds,\n                    correctIndex\n                };\n            });\n        }\n        if (!this.questionSourceLogged) {\n            this.questionSourceLogged = true;\n            console.warn('[GAME][TOWN] Using fallback local questions', {\n                gameCode: this.gameCode\n            });\n        }\n        return [\n            {\n                sessionQuestionId: null,\n                question: 'What is the capital of Vietnam?',\n                options: [\n                    'Hanoi',\n                    'Da Nang',\n                    'Hai Phong',\n                    'Can Tho'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            },\n            {\n                sessionQuestionId: null,\n                question: 'Which language does Phaser use?',\n                options: [\n                    'TypeScript/JavaScript',\n                    'C#',\n                    'Python',\n                    'Go'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            },\n            {\n                sessionQuestionId: null,\n                question: 'What color are the leaves in the game?',\n                options: [\n                    'Green',\n                    'Red',\n                    'Purple',\n                    'Yellow'\n                ],\n                optionIds: [\n                    '',\n                    '',\n                    '',\n                    ''\n                ],\n                correctIndex: 0\n            }\n        ];\n    }\n    async handleJump() {\n        if (this.player.isJumping()) return;\n        if (this.gameOver) return;\n        const nextIndex = this.currentLeafIndex + 1;\n        const maxIndex = this.leafPath.length > 0 ? this.leafPath.length - 1 : Number.POSITIVE_INFINITY;\n        if (this.leafPath.length > 0 && nextIndex > maxIndex) {\n            return;\n        }\n        const targetPos = this.getLeafPosition(nextIndex);\n        // Stop idle animation during jump\n        this.player.stopIdle();\n        // Scroll Camera\n        this.tweens.add({\n            targets: this.camera,\n            scrollY: targetPos.y - 800,\n            duration: 600,\n            ease: 'Sine.easeInOut'\n        });\n        // Perform jump using EmoteCharacter\n        await this.player.jumpTo(targetPos.x, targetPos.y, this.jumpDurationMs);\n        // Update state after jump completes\n        this.currentLeafIndex = nextIndex;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > targetPos.x);\n        // Show correct state on new leaf, then resume idle\n        this.player.showCorrect(800);\n        this.time.delayedCall(800, ()=>{\n            this.player.playIdle();\n        });\n        if (this.leafPath.length > 0 && this.currentLeafIndex >= maxIndex) {\n            this.gameCompleted = true;\n            this.jumpButton.setAlpha(0.4);\n            this.quizOpen = false;\n            this.quizLocked = false;\n            this.stopTimer();\n            this.timerOverlay.setVisible(false);\n            if (this.totalTimeMs > 0) {\n                this.updateScore(3);\n            }\n            this.updateEndTimeText();\n            this.time.delayedCall(400, ()=>{\n                this.openEndModal();\n            });\n        }\n    }\n    startTimer() {\n        if (this.timerEvent) {\n            this.timerEvent.remove(false);\n        }\n        this.totalTimeMs = this.sessionTimeLimit && this.sessionTimeLimit > 0 ? this.sessionTimeLimit * 1000 : 180000;\n        this.updateTimerText(this.totalTimeMs);\n        this.timerEvent = this.time.addEvent({\n            delay: 1000,\n            loop: true,\n            callback: ()=>{\n                if (this.gameCompleted || this.gameOver) return;\n                this.totalTimeMs -= 1000;\n                this.updateTimerText(this.totalTimeMs);\n                if (this.totalTimeMs <= 0) {\n                    this.totalTimeMs = 0;\n                    this.updateTimerText(this.totalTimeMs);\n                    this.handleTimeUp();\n                }\n            }\n        });\n    }\n    stopTimer() {\n        if (this.timerEvent) {\n            this.timerEvent.remove(false);\n        }\n    }\n    updateTimerText(ms) {\n        const totalSeconds = Math.max(0, Math.floor(ms / 1000));\n        const minutes = Math.floor(totalSeconds / 60);\n        const seconds = totalSeconds % 60;\n        const pad = (n)=>n < 10 ? \"0\".concat(n) : \"\".concat(n);\n        const text = \"\".concat(minutes, \"m \").concat(pad(seconds), \"s\");\n        this.timerText.setText(text);\n    }\n    handleTimeUp() {\n        if (this.gameOver || this.gameCompleted) return;\n        this.gameOver = true;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.jumpButton.setAlpha(0.4);\n        this.closeQuizModal();\n        this.openTimeUpModal();\n    }\n    openEndModal() {\n        if (!this.endModal) return;\n        const panel = this.endModal.getData('panel');\n        const overlay = this.endModal.getData('overlay');\n        panel.setScale(0.9);\n        if (overlay) overlay.setAlpha(0);\n        this.endModal.setVisible(true);\n        this.endModal.setAlpha(1);\n        this.launchConfetti();\n        this.submitSessionResult();\n        this.tweens.add({\n            targets: overlay,\n            alpha: 0.6,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            duration: 260,\n            ease: 'Back.easeOut'\n        });\n    }\n    launchConfetti() {\n        if (this.confettiEmitter) {\n            this.confettiEmitter.destroy();\n        }\n        if (this.confettiBurstEvent) {\n            this.confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        }\n        const { width, height } = this.scale;\n        this.confettiEmitter = this.add.particles(0, 0, 'tile-flower', {\n            speed: {\n                min: 90,\n                max: 170\n            },\n            angle: {\n                min: 0,\n                max: 360\n            },\n            rotate: {\n                min: -220,\n                max: 220\n            },\n            scale: {\n                start: 0.32,\n                end: 0.1\n            },\n            lifespan: {\n                min: 1400,\n                max: 2200\n            },\n            quantity: 0,\n            frequency: -1,\n            gravityY: 160\n        });\n        this.confettiEmitter.setScrollFactor(0);\n        this.confettiEmitter.setDepth(2100);\n        this.uiRoot.add(this.confettiEmitter);\n        this.confettiBurstEvent = this.time.addEvent({\n            delay: 900,\n            repeat: 0,\n            callback: ()=>{\n                if (!this.confettiEmitter) return;\n                this.confettiEmitter.explode(18, width / 2, height / 2);\n            }\n        });\n        this.time.delayedCall(3500, ()=>{\n            var _this_confettiEmitter, _this_confettiBurstEvent;\n            (_this_confettiEmitter = this.confettiEmitter) === null || _this_confettiEmitter === void 0 ? void 0 : _this_confettiEmitter.destroy();\n            this.confettiEmitter = undefined;\n            (_this_confettiBurstEvent = this.confettiBurstEvent) === null || _this_confettiBurstEvent === void 0 ? void 0 : _this_confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        });\n    }\n    openTimeUpModal() {\n        if (!this.timeUpModal) return;\n        const panel = this.timeUpModal.getData('panel');\n        panel.setScale(0.96);\n        this.timeUpModal.setVisible(true);\n        this.timeUpModal.setAlpha(0);\n        this.tweens.add({\n            targets: this.timeUpModal,\n            alpha: 1,\n            duration: 200\n        });\n        this.tweens.add({\n            targets: panel,\n            scale: 1,\n            duration: 240,\n            ease: 'Back.easeOut'\n        });\n    }\n    closeTimeUpModal() {\n        if (!this.timeUpModal) return;\n        this.timeUpModal.setVisible(false);\n    }\n    closeEndModal() {\n        if (!this.endModal) return;\n        this.endModal.setVisible(false);\n        this.endModal.setAlpha(0);\n        const overlay = this.endModal.getData('overlay');\n        if (overlay) overlay.setAlpha(0);\n        if (this.confettiEmitter) {\n            this.confettiEmitter.destroy();\n            this.confettiEmitter = undefined;\n        }\n        if (this.confettiBurstEvent) {\n            this.confettiBurstEvent.remove(false);\n            this.confettiBurstEvent = undefined;\n        }\n    }\n    submitSessionResult() {\n        if (!this.sessionGameId) return;\n        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../services/api */ \"(pages-dir-browser)/./src/services/api.ts\")).then((param)=>{\n            let { endGameSession } = param;\n            return endGameSession(this.sessionGameId, this.score, {\n                forceReal: this.gameCode === 'vocab_race'\n            });\n        }).catch((err)=>{\n            console.error('endGameSession failed', err);\n        });\n    }\n    restartRun() {\n        this.gameOver = false;\n        this.gameCompleted = false;\n        this.quizOpen = false;\n        this.quizLocked = false;\n        this.quizCurrentIndex = 0;\n        this.startModalOpen = false;\n        this.score = 0;\n        this.scoreText.setText('POINTS: 00');\n        this.jumpDurationMs = 900;\n        this.closeTimeUpModal();\n        this.closeQuizModal();\n        this.closeEndModal();\n        if (this.startModal) this.startModal.setVisible(false);\n        const startPos = this.getLeafPosition(0);\n        this.player.setPosition(startPos.x, startPos.y);\n        this.player.playIdle();\n        this.currentLeafIndex = 0;\n        const nextPos = this.getLeafPosition(this.currentLeafIndex + 1);\n        this.player.flip(nextPos.x > startPos.x);\n        this.camera.scrollY = startPos.y - 900;\n        this.stopTimer();\n        this.timerOverlay.setVisible(true);\n        this.jumpButton.setAlpha(1);\n        this.startTimer();\n        this.openQuizModal();\n    }\n    updateScore(delta) {\n        this.score += delta;\n        const points = Math.max(0, this.score);\n        this.scoreText.setText(\"POINTS: \".concat(points.toString().padStart(2, '0')));\n        if (this.endModalScoreText) {\n            this.endModalScoreText.setText(\"Score: \".concat(this.score));\n        }\n    }\n    updateEndTimeText() {\n        if (!this.endModalTimeText) return;\n        const baseMs = this.sessionTimeLimit && this.sessionTimeLimit > 0 ? this.sessionTimeLimit * 1000 : 180000;\n        const elapsedMs = baseMs - this.totalTimeMs;\n        const totalSeconds = Math.max(0, Math.floor(elapsedMs / 1000));\n        const minutes = Math.floor(totalSeconds / 60);\n        const seconds = totalSeconds % 60;\n        const pad = (n)=>n < 10 ? \"0\".concat(n) : \"\".concat(n);\n        this.endModalTimeText.setText(\"Time: \".concat(pad(minutes), \":\").concat(pad(seconds)));\n    }\n    speedUpJump() {\n        this.jumpDurationMs = Math.max(450, this.jumpDurationMs - 40);\n    }\n    getLeafPosition(index) {\n        if (this.leafPath.length > 0 && this.trackImage) {\n            const pathLength = this.leafPath.length;\n            const pathIndex = Math.min(index, pathLength - 1);\n            const leaf = this.leafPath[pathIndex];\n            const scale = this.trackImage.scaleX;\n            const mapLeft = this.trackImage.x - this.trackImage.displayWidth / 2;\n            const mapTop = this.trackImage.y - this.trackImage.displayHeight;\n            const x = mapLeft + leaf.x * scale;\n            const y = mapTop + leaf.y * scale;\n            return {\n                x,\n                y\n            };\n        }\n        const centerX = this.scale.width / 2;\n        const isLeft = index % 2 === 0;\n        // Adjacent leaf = alternate left/right with a small upward step\n        const y = this.leafStartY - index * this.leafStepY;\n        const x = isLeft ? centerX - this.leafSideOffset : centerX + this.leafSideOffset;\n        return {\n            x,\n            y\n        };\n    }\n    buildLeafPath(textureKey) {\n        const texture = this.textures.get(textureKey);\n        const source = texture === null || texture === void 0 ? void 0 : texture.getSourceImage();\n        if (!source || !source.width || !source.height) {\n            return [];\n        }\n        const canvas = this.sys.game.canvas.ownerDocument.createElement('canvas');\n        canvas.width = source.width;\n        canvas.height = source.height;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) return [];\n        ctx.drawImage(source, 0, 0);\n        const imageData = ctx.getImageData(0, 0, source.width, source.height);\n        const data = imageData.data;\n        const width = source.width;\n        const height = source.height;\n        const visited = new Uint8Array(width * height);\n        const centers = [];\n        const isLeafPixel = (idx)=>{\n            const r = data[idx] / 255;\n            const g = data[idx + 1] / 255;\n            const b = data[idx + 2] / 255;\n            const max = Math.max(r, g, b);\n            const min = Math.min(r, g, b);\n            const delta = max - min;\n            if (delta === 0) return false;\n            let hue = 0;\n            if (max === r) {\n                hue = (g - b) / delta % 6;\n            } else if (max === g) {\n                hue = (b - r) / delta + 2;\n            } else {\n                hue = (r - g) / delta + 4;\n            }\n            hue = Math.round(hue * 60);\n            if (hue < 0) hue += 360;\n            const saturation = max === 0 ? 0 : delta / max;\n            const isGreenHue = hue >= 70 && hue <= 150;\n            const isSaturated = saturation >= 0.35;\n            return isGreenHue && isSaturated;\n        };\n        const minBlobSize = 4500;\n        const stack = [];\n        for(let y = 0; y < height; y++){\n            for(let x = 0; x < width; x++){\n                const index = y * width + x;\n                if (visited[index]) continue;\n                const dataIndex = index * 4;\n                if (!isLeafPixel(dataIndex)) {\n                    visited[index] = 1;\n                    continue;\n                }\n                let sumX = 0;\n                let sumY = 0;\n                let count = 0;\n                let minX = x;\n                let maxX = x;\n                let minY = y;\n                let maxY = y;\n                stack.push(index);\n                visited[index] = 1;\n                while(stack.length){\n                    const current = stack.pop();\n                    const cy = Math.floor(current / width);\n                    const cx = current - cy * width;\n                    const currentDataIndex = current * 4;\n                    if (!isLeafPixel(currentDataIndex)) {\n                        continue;\n                    }\n                    sumX += cx;\n                    sumY += cy;\n                    count += 1;\n                    if (cx < minX) minX = cx;\n                    if (cx > maxX) maxX = cx;\n                    if (cy < minY) minY = cy;\n                    if (cy > maxY) maxY = cy;\n                    if (cx > 0) {\n                        const left = current - 1;\n                        if (!visited[left]) {\n                            const leftIndex = left * 4;\n                            if (isLeafPixel(leftIndex)) {\n                                visited[left] = 1;\n                                stack.push(left);\n                            } else {\n                                visited[left] = 1;\n                            }\n                        }\n                    }\n                    if (cx < width - 1) {\n                        const right = current + 1;\n                        if (!visited[right]) {\n                            const rightIndex = right * 4;\n                            if (isLeafPixel(rightIndex)) {\n                                visited[right] = 1;\n                                stack.push(right);\n                            } else {\n                                visited[right] = 1;\n                            }\n                        }\n                    }\n                    if (cy > 0) {\n                        const up = current - width;\n                        if (!visited[up]) {\n                            const upIndex = up * 4;\n                            if (isLeafPixel(upIndex)) {\n                                visited[up] = 1;\n                                stack.push(up);\n                            } else {\n                                visited[up] = 1;\n                            }\n                        }\n                    }\n                    if (cy < height - 1) {\n                        const down = current + width;\n                        if (!visited[down]) {\n                            const downIndex = down * 4;\n                            if (isLeafPixel(downIndex)) {\n                                visited[down] = 1;\n                                stack.push(down);\n                            } else {\n                                visited[down] = 1;\n                            }\n                        }\n                    }\n                }\n                if (count >= minBlobSize) {\n                    const blobWidth = maxX - minX;\n                    const blobHeight = maxY - minY;\n                    const aspect = blobWidth / (blobHeight || 1);\n                    if (blobWidth >= 90 && blobHeight >= 90 && aspect > 0.6 && aspect < 1.7) {\n                        centers.push(new Phaser.Math.Vector2(sumX / count, sumY / count));\n                    }\n                }\n            }\n        }\n        centers.sort((a, b)=>{\n            const dy = b.y - a.y;\n            if (Math.abs(dy) > 2) return dy;\n            return a.x - b.x;\n        });\n        return centers;\n    }\n    /**\n     * Show player state - correct or incorrect\n     */ showPlayerState(state) {\n        if (state === 'correct') {\n            this.player.showCorrect(800);\n        } else {\n            this.player.showIncorrect(800);\n        }\n    }\n    setQuizFeedback(state) {\n        if (!this.quizPanel) return;\n        this.quizPanel.setFeedback(state);\n        this.quizFeedbackState = state;\n    }\n    delay(ms) {\n        return new Promise((resolve)=>{\n            this.time.delayedCall(ms, ()=>resolve());\n        });\n    }\n    constructor(){\n        super('Game'), this.quizPanelWidth = 0, this.quizPanelHeight = 0, this.uiScale = 1, this.safeInsetBottom = 16, this.quizFeedbackState = 'idle', this.quizOptionButtons = [], this.quizOpen = false, this.quizLocked = false, this.quizCurrentIndex = 0, this.startModalOpen = false, this.gameCompleted = false, this.gameOver = false, this.totalTimeMs = 180000, this.jumpDurationMs = 900, // Game State\n        this.score = 0, this.currentLeafIndex = 0, this.sessionId = null, this.sessionGameId = null, this.sessionQuestions = null, this.sessionTimeLimit = null, this.questionSourceLogged = false, this.gameCode = 'vocab_race', this.gameConfig = (0,_gameConfig__WEBPACK_IMPORTED_MODULE_3__.getGameConfig)('vocab_race'), // Leaf path (detected from track texture)\n        this.leafPath = [], // Fallback zig-zag config\n        this.leafStartY = 940, this.leafStepY = 140, this.leafSideOffset = 180;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9nYW1lL3NjZW5lcy9HYW1lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBdUM7QUFDUjtBQUM0QjtBQUVJO0FBQ25CO0FBRXJDLE1BQU1NLGFBQWFMLHlDQUFLQTtJQTZFM0JNLEtBQU1DLElBQW1KLEVBQ3pKO1lBQ29DQTtRQUFoQyxJQUFJLENBQUNDLFFBQVEsR0FBR0wsNERBQWVBLENBQUNJLENBQUFBLGlCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1DLFFBQVEsY0FBZEQsNEJBQUFBLGlCQUFtQixJQUFJLENBQUNFLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDO1FBQ3JFLElBQUksQ0FBQ0QsUUFBUSxDQUFDRSxHQUFHLENBQUMsWUFBWSxJQUFJLENBQUNILFFBQVE7UUFDM0MsSUFBSSxDQUFDSSxVQUFVLEdBQUdWLDBEQUFhQSxDQUFDLElBQUksQ0FBQ00sUUFBUTtZQUM1QkQ7UUFBakIsSUFBSSxDQUFDTSxTQUFTLEdBQUdOLENBQUFBLGtCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1NLFNBQVMsY0FBZk4sNkJBQUFBLGtCQUFtQjtZQUNmQTtRQUFyQixJQUFJLENBQUNPLGFBQWEsR0FBR1AsQ0FBQUEsZUFBQUEsaUJBQUFBLDJCQUFBQSxLQUFNUSxNQUFNLGNBQVpSLDBCQUFBQSxlQUFnQjtZQUNiQTtRQUF4QixJQUFJLENBQUNTLGdCQUFnQixHQUFHVCxDQUFBQSxrQkFBQUEsaUJBQUFBLDJCQUFBQSxLQUFNVSxTQUFTLGNBQWZWLDZCQUFBQSxrQkFBbUI7WUFDbkJBO1FBQXhCLElBQUksQ0FBQ1csZ0JBQWdCLEdBQUdYLENBQUFBLGtCQUFBQSxpQkFBQUEsMkJBQUFBLEtBQU1ZLFNBQVMsY0FBZlosNkJBQUFBLGtCQUFtQjtJQUMvQztJQUVBYSxTQUNBO1FBQ0ksTUFBTSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQ0MsS0FBSztRQUNwQyxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJ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RyxpQkFBMEIsWUFNMUJ5RyxnQkFBeUIsWUFFekJELFdBQW9CLFlBR3BCNUwsY0FBc0IsYUFDdEJrUCxpQkFBeUIsS0FFekIsYUFBYTthQUNid0MsUUFBZ0IsUUFDaEJyUyxtQkFBMkIsUUFDM0JqQyxZQUEyQixXQUMzQkMsZ0JBQStCLFdBQy9CRSxtQkFBMEMsV0FDMUNFLG1CQUFrQyxXQUNsQ3NRLHVCQUFnQyxZQUNoQ2hSLFdBQW1CLG1CQUNuQkksYUFBYVYsMERBQWFBLENBQUMsZUFFM0IsMENBQTBDO2FBQ2xDcUMsV0FBa0MsRUFBRSxFQUU1QywwQkFBMEI7YUFDVDZULGFBQWEsVUFDYkMsWUFBWSxVQUNaQyxpQkFBaUI7SUFNbEM7QUE2MENKIiwic291cmNlcyI6WyIvVXNlcnMvbmIyMzA2MDEvRG9jdW1lbnRzL3BoYXNlci1nYW1lZGV2L3NyYy9nYW1lL3NjZW5lcy9HYW1lLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnLi4vRXZlbnRCdXMnO1xuaW1wb3J0IHsgU2NlbmUgfSBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgRW1vdGVDaGFyYWN0ZXIgfSBmcm9tICcuLi9vYmplY3RzL0Vtb3RlQ2hhcmFjdGVyJztcbmltcG9ydCB0eXBlIHsgR2FtZVF1ZXN0aW9uIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYXBpJztcbmltcG9ydCB7IGdldEdhbWVDb25maWcsIHJlc29sdmVHYW1lQ29kZSB9IGZyb20gJy4uL2dhbWVDb25maWcnO1xuaW1wb3J0IHsgUXVpelBhbmVsIH0gZnJvbSAnLi4vdWkvUXVpelBhbmVsJztcblxuZXhwb3J0IGNsYXNzIEdhbWUgZXh0ZW5kcyBTY2VuZVxue1xuICAgIGNhbWVyYTogUGhhc2VyLkNhbWVyYXMuU2NlbmUyRC5DYW1lcmE7XG4gICAgdHJhY2tJbWFnZSE6IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICBwbGF5ZXIhOiBFbW90ZUNoYXJhY3RlcjtcbiAgICBwYXJhbGxheExheWVyczogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlW107XG4gICAgdWlSb290ITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICB1aUNhbWVyYSE6IFBoYXNlci5DYW1lcmFzLlNjZW5lMkQuQ2FtZXJhO1xuICAgIHRpbWVyT3ZlcmxheSE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgaHVkQmFja0J1dHRvbiE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgaHVkUG9pbnRzUGlsbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgaHVkVGltZXJQaWxsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBodWRIZWFydHNQaWxsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcblxuICAgIC8vIFVJXG4gICAganVtcEJ1dHRvbjogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBqdW1wQnV0dG9uQmchOiBQaGFzZXIuR2FtZU9iamVjdHMuUmVjdGFuZ2xlO1xuICAgIHNjb3JlVGV4dDogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgcXVpek1vZGFsITogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICBxdWl6UGFuZWxDb250YWluZXIhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIHF1aXpQYW5lbFNoYWRvdyE6IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljcztcbiAgICBxdWl6UGFuZWxCZyE6IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljcztcbiAgICBxdWl6UGFuZWxHbG93ITogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xuICAgIHF1aXpQYW5lbFdpZHRoOiBudW1iZXIgPSAwO1xuICAgIHF1aXpQYW5lbEhlaWdodDogbnVtYmVyID0gMDtcbiAgICB1aVNjYWxlOiBudW1iZXIgPSAxO1xuICAgIHNhZmVJbnNldEJvdHRvbTogbnVtYmVyID0gMTY7XG4gICAgcXVpekZlZWRiYWNrVGl0bGVUZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgcXVpekZlZWRiYWNrU3VidGl0bGVUZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgcXVpekZlZWRiYWNrU3RhdGU6ICdpZGxlJyB8ICdjb3JyZWN0JyB8ICd3cm9uZycgPSAnaWRsZSc7XG4gICAgcXVpelF1ZXN0aW9uVGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICAgIHF1aXpJbmRleFRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBxdWl6T3B0aW9uQnV0dG9uczogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcltdID0gW107XG4gICAgcXVpek9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBxdWl6TG9ja2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgcXVpekN1cnJlbnRJbmRleDogbnVtYmVyID0gMDtcbiAgICBxdWl6UGFuZWwhOiBRdWl6UGFuZWw7XG4gICAgc3RhcnRNb2RhbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgc3RhcnRNb2RhbE9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBlbmRNb2RhbCE6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG4gICAgZW5kTW9kYWxTY29yZVRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbiAgICBlbmRNb2RhbFRpbWVUZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgY29uZmV0dGlFbWl0dGVyPzogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXI7XG4gICAgY29uZmV0dGlCdXJzdEV2ZW50PzogUGhhc2VyLlRpbWUuVGltZXJFdmVudDtcbiAgICBnYW1lQ29tcGxldGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgdGltZVVwTW9kYWwhOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICAgIGdhbWVPdmVyOiBib29sZWFuID0gZmFsc2U7XG4gICAgdGltZXJUZXh0ITogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gICAgdGltZXJFdmVudCE6IFBoYXNlci5UaW1lLlRpbWVyRXZlbnQ7XG4gICAgdG90YWxUaW1lTXM6IG51bWJlciA9IDE4MDAwMDtcbiAgICBqdW1wRHVyYXRpb25NczogbnVtYmVyID0gOTAwO1xuXG4gICAgLy8gR2FtZSBTdGF0ZVxuICAgIHNjb3JlOiBudW1iZXIgPSAwO1xuICAgIGN1cnJlbnRMZWFmSW5kZXg6IG51bWJlciA9IDA7XG4gICAgc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBzZXNzaW9uR2FtZUlkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBzZXNzaW9uUXVlc3Rpb25zOiBHYW1lUXVlc3Rpb25bXSB8IG51bGwgPSBudWxsO1xuICAgIHNlc3Npb25UaW1lTGltaXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIHF1ZXN0aW9uU291cmNlTG9nZ2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgZ2FtZUNvZGU6IHN0cmluZyA9ICd2b2NhYl9yYWNlJztcbiAgICBnYW1lQ29uZmlnID0gZ2V0R2FtZUNvbmZpZygndm9jYWJfcmFjZScpO1xuXG4gICAgLy8gTGVhZiBwYXRoIChkZXRlY3RlZCBmcm9tIHRyYWNrIHRleHR1cmUpXG4gICAgcHJpdmF0ZSBsZWFmUGF0aDogUGhhc2VyLk1hdGguVmVjdG9yMltdID0gW107XG5cbiAgICAvLyBGYWxsYmFjayB6aWctemFnIGNvbmZpZ1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGVhZlN0YXJ0WSA9IDk0MDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxlYWZTdGVwWSA9IDE0MDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxlYWZTaWRlT2Zmc2V0ID0gMTgwO1xuXG4gICAgXG4gICAgY29uc3RydWN0b3IgKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCdHYW1lJyk7XG4gICAgfVxuXG4gICAgaW5pdCAoZGF0YTogeyBnYW1lQ29kZT86IHN0cmluZyB8IG51bGw7IHNlc3Npb25JZD86IHN0cmluZyB8IG51bGw7IGdhbWVJZD86IHN0cmluZyB8IG51bGw7IHF1ZXN0aW9ucz86IEdhbWVRdWVzdGlvbltdIHwgbnVsbDsgdGltZUxpbWl0PzogbnVtYmVyIHwgbnVsbCB9KVxuICAgIHtcbiAgICAgICAgdGhpcy5nYW1lQ29kZSA9IHJlc29sdmVHYW1lQ29kZShkYXRhPy5nYW1lQ29kZSA/PyAodGhpcy5yZWdpc3RyeS5nZXQoJ2dhbWVDb2RlJykgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSk7XG4gICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdnYW1lQ29kZScsIHRoaXMuZ2FtZUNvZGUpO1xuICAgICAgICB0aGlzLmdhbWVDb25maWcgPSBnZXRHYW1lQ29uZmlnKHRoaXMuZ2FtZUNvZGUpO1xuICAgICAgICB0aGlzLnNlc3Npb25JZCA9IGRhdGE/LnNlc3Npb25JZCA/PyBudWxsO1xuICAgICAgICB0aGlzLnNlc3Npb25HYW1lSWQgPSBkYXRhPy5nYW1lSWQgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5zZXNzaW9uUXVlc3Rpb25zID0gZGF0YT8ucXVlc3Rpb25zID8/IG51bGw7XG4gICAgICAgIHRoaXMuc2Vzc2lvblRpbWVMaW1pdCA9IGRhdGE/LnRpbWVMaW1pdCA/PyBudWxsO1xuICAgIH1cblxuICAgIGNyZWF0ZSAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuY2FtZXJhcy5tYWluO1xuXG4gICAgICAgIC8vIFBhcmFsbGF4IGJhY2tncm91bmRcbiAgICAgICAgdGhpcy5jcmVhdGVQYXJhbGxheEJhY2tncm91bmQoKTtcblxuICAgICAgICAvLyBUcmFjayAoTGVhdmVzKSAtIFVzZSBiZy1tYWluIGFzIHRoZSBzY3JvbGxpbmcgbWFwXG4gICAgICAgIHRoaXMudHJhY2tJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgaGVpZ2h0LCB0aGlzLmdhbWVDb25maWcubWFwS2V5KS5zZXRPcmlnaW4oMC41LCAxKTtcbiAgICAgICAgY29uc3QgdHJhY2tTY2FsZSA9IHdpZHRoIC8gdGhpcy50cmFja0ltYWdlLndpZHRoO1xuICAgICAgICB0aGlzLnRyYWNrSW1hZ2Uuc2V0U2NhbGUodHJhY2tTY2FsZSk7XG5cbiAgICAgICAgY29uc3QgbWFwVG9wID0gdGhpcy50cmFja0ltYWdlLnkgLSB0aGlzLnRyYWNrSW1hZ2UuZGlzcGxheUhlaWdodDtcbiAgICAgICAgdGhpcy5jYW1lcmEuc2V0Qm91bmRzKDAsIG1hcFRvcCwgd2lkdGgsIHRoaXMudHJhY2tJbWFnZS5kaXNwbGF5SGVpZ2h0KTtcblxuICAgICAgICAvLyBCdWlsZCBsZWFmIHBhdGggYmFzZWQgb24gdGhlIG1hcCB0ZXh0dXJlXG4gICAgICAgIHRoaXMubGVhZlBhdGggPSB0aGlzLmdhbWVDb25maWcudXNlVGV4dHVyZVBhdGggPyB0aGlzLmJ1aWxkTGVhZlBhdGgodGhpcy5nYW1lQ29uZmlnLm1hcEtleSkgOiBbXTtcblxuICAgICAgICAvLyBQbGF5ZXIgU2V0dXAgLSBVc2luZyBFbW90ZUNoYXJhY3RlciAoaWRsZS9jb3JyZWN0L2luY29ycmVjdCBzdGF0ZXMpXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zID0gdGhpcy5nZXRMZWFmUG9zaXRpb24oMCk7XG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IEVtb3RlQ2hhcmFjdGVyKHRoaXMsIHN0YXJ0UG9zLngsIHN0YXJ0UG9zLnkpO1xuICAgICAgICB0aGlzLmN1cnJlbnRMZWFmSW5kZXggPSAwO1xuXG4gICAgICAgIGNvbnN0IG5leHRQb3MgPSB0aGlzLmdldExlYWZQb3NpdGlvbih0aGlzLmN1cnJlbnRMZWFmSW5kZXggKyAxKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuZmxpcChuZXh0UG9zLnggPiBzdGFydFBvcy54KTtcblxuICAgICAgICAvLyBTdGFydCBpZGxlIGFuaW1hdGlvblxuICAgICAgICB0aGlzLnBsYXllci5wbGF5SWRsZSgpO1xuXG4gICAgICAgIC8vIEluaXRpYWwgQ2FtZXJhIFBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2FtZXJhLnNjcm9sbFkgPSBzdGFydFBvcy55IC0gOTAwO1xuXG4gICAgICAgIC8vIFVJIGNhbWVyYSAoZml4ZWQgc2NyZWVuLXNwYWNlKVxuICAgICAgICB0aGlzLnVpQ2FtZXJhID0gdGhpcy5jYW1lcmFzLmFkZCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy51aUNhbWVyYS5zZXRTY3JvbGwoMCwgMCk7XG4gICAgICAgIHRoaXMudWlDYW1lcmEuaWdub3JlKHRoaXMuY2hpbGRyZW4ubGlzdCk7XG5cbiAgICAgICAgLy8gVUlcbiAgICAgICAgdGhpcy5jcmVhdGVVSSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb25UaW1lTGltaXQgJiYgdGhpcy5zZXNzaW9uVGltZUxpbWl0ID4gMCkge1xuICAgICAgICAgICAgdGhpcy50b3RhbFRpbWVNcyA9IHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAqIDEwMDA7XG4gICAgICAgIH1cblxuICAgICAgICBFdmVudEJ1cy5lbWl0KCdjdXJyZW50LXNjZW5lLXJlYWR5JywgdGhpcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlUGFyYWxsYXhCYWNrZ3JvdW5kKCkge1xuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5nYW1lQ29uZmlnLmJhY2tncm91bmRDb2xvcik7XG4gICAgICAgIHRoaXMucGFyYWxsYXhMYXllcnMgPSBbXTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJhbGxheExheWVycz8ubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjcm9sbFkgPSB0aGlzLmNhbWVyYS5zY3JvbGxZO1xuXG4gICAgICAgIHRoaXMucGFyYWxsYXhMYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9IGxheWVyLmdldERhdGEoJ3Njcm9sbEZhY3RvcicpIGFzIG51bWJlcjtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VZID0gbGF5ZXIuZ2V0RGF0YSgnYmFzZVknKSBhcyBudW1iZXI7XG4gICAgICAgICAgICBsYXllci55ID0gYmFzZVkgKyBzY3JvbGxZICogZmFjdG9yO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVVSSgpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBcbiAgICAgICAgLy8gRml4ZWQgVUkgQ29udGFpbmVyXG4gICAgICAgIHRoaXMudWlSb290ID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgxMDApO1xuXG4gICAgICAgIC8vIFRpbWVyICsgU2NvcmUgSFVEXG4gICAgICAgIHRoaXMudGltZXJPdmVybGF5ID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMDAwKTtcblxuICAgICAgICAvLyBCYWNrIGJ1dHRvblxuICAgICAgICB0aGlzLmh1ZEJhY2tCdXR0b24gPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XG4gICAgICAgIGNvbnN0IGJhY2tCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGJhY2tCZy5maWxsU3R5bGUoMHhmZmZmZmYsIDAuOTUpO1xuICAgICAgICBiYWNrQmcuZmlsbFJvdW5kZWRSZWN0KC0yNCwgLTI0LCA0OCwgNDgsIDE0KTtcbiAgICAgICAgYmFja0JnLmxpbmVTdHlsZSgyLCAweDBlYTVlOSwgMC4yKTtcbiAgICAgICAgYmFja0JnLnN0cm9rZVJvdW5kZWRSZWN0KC0yNCwgLTI0LCA0OCwgNDgsIDE0KTtcbiAgICAgICAgY29uc3QgYmFja0ljb24gPSB0aGlzLmFkZC50ZXh0KDAsIDEsICc8Jywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBjb25zdCBiYWNrSGl0ID0gdGhpcy5hZGQuem9uZSgwLCAwLCA0OCwgNDgpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG4gICAgICAgIGJhY2tIaXQub24oJ3BvaW50ZXJ1cCcsICgpID0+IHRoaXMuaGFuZGxlQmFja1RvR2FtZUxpc3QoKSk7XG4gICAgICAgIHRoaXMuaHVkQmFja0J1dHRvbi5hZGQoW2JhY2tCZywgYmFja0ljb25dKTtcbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLnNldFNpemUoNDgsIDQ4KTtcbiAgICAgICAgdGhpcy5odWRCYWNrQnV0dG9uLmFkZChiYWNrSGl0KTtcblxuICAgICAgICAvLyBQb2ludHMgcGlsbFxuICAgICAgICB0aGlzLmh1ZFBvaW50c1BpbGwgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XG4gICAgICAgIGNvbnN0IHBvaW50c0JnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgcG9pbnRzVyA9IDE3MDtcbiAgICAgICAgY29uc3QgcG9pbnRzSCA9IDQ0O1xuICAgICAgICBwb2ludHNCZy5maWxsU3R5bGUoMHhlMGYyZmUsIDAuOTgpO1xuICAgICAgICBwb2ludHNCZy5maWxsUm91bmRlZFJlY3QoLXBvaW50c1cgLyAyLCAtcG9pbnRzSCAvIDIsIHBvaW50c1csIHBvaW50c0gsIDIyKTtcbiAgICAgICAgcG9pbnRzQmcubGluZVN0eWxlKDIsIDB4OTNjNWZkLCAwLjcpO1xuICAgICAgICBwb2ludHNCZy5zdHJva2VSb3VuZGVkUmVjdCgtcG9pbnRzVyAvIDIsIC1wb2ludHNIIC8gMiwgcG9pbnRzVywgcG9pbnRzSCwgMjIpO1xuICAgICAgICBjb25zdCBzdGFyID0gdGhpcy5hZGQuaW1hZ2UoLXBvaW50c1cgLyAyICsgMjQsIDAsICdzdGFyJykuc2V0U2NhbGUoMC4zMikuc2V0VGludCgweGZiYmYyNCk7XG4gICAgICAgIHRoaXMuc2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dCgtcG9pbnRzVyAvIDIgKyA0NiwgMCwgJ1BPSU5UUzogMDAnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAsIDAuNSk7XG4gICAgICAgIHRoaXMuaHVkUG9pbnRzUGlsbC5hZGQoW3BvaW50c0JnLCBzdGFyLCB0aGlzLnNjb3JlVGV4dF0pO1xuXG4gICAgICAgIC8vIFRpbWVyIHBpbGxcbiAgICAgICAgdGhpcy5odWRUaW1lclBpbGwgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XG4gICAgICAgIGNvbnN0IHRpbWVyQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBjb25zdCB0aW1lclcgPSAxMDA7XG4gICAgICAgIGNvbnN0IHRpbWVySCA9IDQwO1xuICAgICAgICB0aW1lckJnLmZpbGxTdHlsZSgweGRiZWFmZSwgMC45OCk7XG4gICAgICAgIHRpbWVyQmcuZmlsbFJvdW5kZWRSZWN0KC10aW1lclcgLyAyLCAtdGltZXJIIC8gMiwgdGltZXJXLCB0aW1lckgsIDIwKTtcbiAgICAgICAgdGltZXJCZy5saW5lU3R5bGUoMiwgMHg2MGE1ZmEsIDAuNik7XG4gICAgICAgIHRpbWVyQmcuc3Ryb2tlUm91bmRlZFJlY3QoLXRpbWVyVyAvIDIsIC10aW1lckggLyAyLCB0aW1lclcsIHRpbWVySCwgMjApO1xuICAgICAgICB0aGlzLnRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJzAzOjAwJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICB0aGlzLmh1ZFRpbWVyUGlsbC5hZGQoW3RpbWVyQmcsIHRoaXMudGltZXJUZXh0XSk7XG5cbiAgICAgICAgLy8gSGVhcnRzIHBpbGxcbiAgICAgICAgdGhpcy5odWRIZWFydHNQaWxsID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xuICAgICAgICBjb25zdCBoZWFydHNCZyA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIGNvbnN0IGhlYXJ0c1cgPSA5MjtcbiAgICAgICAgY29uc3QgaGVhcnRzSCA9IDM2O1xuICAgICAgICBoZWFydHNCZy5maWxsU3R5bGUoMHhmZmZmZmYsIDAuOTgpO1xuICAgICAgICBoZWFydHNCZy5maWxsUm91bmRlZFJlY3QoLWhlYXJ0c1cgLyAyLCAtaGVhcnRzSCAvIDIsIGhlYXJ0c1csIGhlYXJ0c0gsIDE4KTtcbiAgICAgICAgaGVhcnRzQmcubGluZVN0eWxlKDIsIDB4OTNjNWZkLCAwLjM1KTtcbiAgICAgICAgaGVhcnRzQmcuc3Ryb2tlUm91bmRlZFJlY3QoLWhlYXJ0c1cgLyAyLCAtaGVhcnRzSCAvIDIsIGhlYXJ0c1csIGhlYXJ0c0gsIDE4KTtcbiAgICAgICAgY29uc3QgaGVhcnRzVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ+KdpCDinaQg4p2kJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNlZjQ0NDQnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICB0aGlzLmh1ZEhlYXJ0c1BpbGwuYWRkKFtoZWFydHNCZywgaGVhcnRzVGV4dF0pO1xuXG4gICAgICAgIHRoaXMudGltZXJPdmVybGF5LmFkZChbdGhpcy5odWRCYWNrQnV0dG9uLCB0aGlzLmh1ZFBvaW50c1BpbGwsIHRoaXMuaHVkVGltZXJQaWxsLCB0aGlzLmh1ZEhlYXJ0c1BpbGxdKTtcbiAgICAgICAgdGhpcy51aVJvb3QuYWRkKHRoaXMudGltZXJPdmVybGF5KTtcbiAgICAgICAgdGhpcy5sYXlvdXRIdWQoKTtcblxuICAgICAgICAvLyBKdW1wIEJ1dHRvblxuICAgICAgICB0aGlzLmp1bXBCdXR0b24gPSB0aGlzLmNyZWF0ZUp1bXBCdXR0b24od2lkdGggLyAyLCBoZWlnaHQgLSAxNTApO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgICAgICB0aGlzLnVpUm9vdC5hZGQodGhpcy5qdW1wQnV0dG9uKTtcbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0QWN0aXZlKGZhbHNlKTtcblxuICAgICAgICB0aGlzLnNldHVwSnVtcElucHV0KCk7XG5cbiAgICAgICAgLy8gUXVpeiBNb2RhbCAoVUkgb3ZlcmxheSlcbiAgICAgICAgdGhpcy5jcmVhdGVRdWl6TW9kYWwoKTtcbiAgICAgICAgdGhpcy5zY2FsZS5vbigncmVzaXplJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucXVpek1vZGFsKSB0aGlzLmxheW91dFF1aXooKTtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0SHVkKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFN0YXJ0IE1vZGFsIChmaXJzdCBzY3JlZW4pXG4gICAgICAgIHRoaXMuY3JlYXRlU3RhcnRNb2RhbCgpO1xuICAgICAgICB0aGlzLm9wZW5TdGFydE1vZGFsKCk7XG5cbiAgICAgICAgLy8gRW5zdXJlIG9ubHkgVUkgY2FtZXJhIHJlbmRlcnMgVUlcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uaWdub3JlKFt0aGlzLnVpUm9vdCwgdGhpcy50aW1lck92ZXJsYXldKTtcblxuICAgICAgICAvLyBFbmQgTW9kYWxcbiAgICAgICAgdGhpcy5jcmVhdGVFbmRNb2RhbCgpO1xuXG4gICAgICAgIC8vIFRpbWUgVXAgTW9kYWxcbiAgICAgICAgdGhpcy5jcmVhdGVUaW1lVXBNb2RhbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGF5b3V0SHVkKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaHVkQmFja0J1dHRvbiB8fCAhdGhpcy5odWRQb2ludHNQaWxsIHx8ICF0aGlzLmh1ZFRpbWVyUGlsbCB8fCAhdGhpcy5odWRIZWFydHNQaWxsKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgdG9wSW5zZXQgPSBNYXRoLm1heCgyMCwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjAzKSk7XG4gICAgICAgIGNvbnN0IHNpZGVJbnNldCA9IE1hdGgubWF4KDE2LCBNYXRoLnJvdW5kKHdpZHRoICogMC4wNDUpKTtcbiAgICAgICAgY29uc3QgZ2FwID0gMTA7XG4gICAgICAgIGNvbnN0IGhlYXJ0c1cgPSA5MjtcbiAgICAgICAgY29uc3QgdGltZXJXID0gMTAwO1xuXG4gICAgICAgIHRoaXMuaHVkQmFja0J1dHRvbi5zZXRQb3NpdGlvbihzaWRlSW5zZXQgKyAyNCwgdG9wSW5zZXQgKyAyNCk7XG4gICAgICAgIHRoaXMuaHVkUG9pbnRzUGlsbC5zZXRQb3NpdGlvbih3aWR0aCAvIDIsIHRvcEluc2V0ICsgMjQpO1xuXG4gICAgICAgIGNvbnN0IHJpZ2h0RWRnZSA9IHdpZHRoIC0gc2lkZUluc2V0O1xuICAgICAgICB0aGlzLmh1ZEhlYXJ0c1BpbGwuc2V0UG9zaXRpb24ocmlnaHRFZGdlIC0gaGVhcnRzVyAvIDIsIHRvcEluc2V0ICsgMjQpO1xuICAgICAgICB0aGlzLmh1ZFRpbWVyUGlsbC5zZXRQb3NpdGlvbihyaWdodEVkZ2UgLSBoZWFydHNXIC0gZ2FwIC0gdGltZXJXIC8gMiwgdG9wSW5zZXQgKyAyNCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVCYWNrVG9HYW1lTGlzdCgpOiB2b2lkIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLyc7XG4gICAgfVxuXG4gICAgY3JlYXRlSnVtcEJ1dHRvbih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gMzAwO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSAxMDA7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweGZiYmYyNClcbiAgICAgICAgICAgIC5zZXRTdHJva2VTdHlsZSg0LCAweGZmZmZmZilcbiAgICAgICAgICAgIC5zZXRGaWxsU3R5bGUoMHgyMmM1NWUpO1xuICAgICAgICAgICAgXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdORVhUIEpVTVAhJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJywgZm9udFNpemU6ICczMnB4JywgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb250YWluZXIuYWRkKFtiZywgdGV4dF0pO1xuICAgICAgICBjb250YWluZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLmp1bXBCdXR0b25CZyA9IGJnO1xuXG4gICAgICAgIGNvbnN0IG9uUHJlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdWl6T3BlbiB8fCB0aGlzLnN0YXJ0TW9kYWxPcGVuKSByZXR1cm47XG4gICAgICAgICAgICBiZy5zZXRGaWxsU3R5bGUoMHgxNmEzNGEpO1xuICAgICAgICAgICAgdGhpcy5vcGVuUXVpek1vZGFsKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgb25SZWxlYXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgYmcuc2V0RmlsbFN0eWxlKDB4MjJjNTVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb250YWluZXIuc2V0SW50ZXJhY3RpdmUobmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZSgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCksIFBoYXNlci5HZW9tLlJlY3RhbmdsZS5Db250YWlucyk7XG5cbiAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVyZG93bicsIG9uUHJlc3MpO1xuXG4gICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcnVwJywgb25SZWxlYXNlKTtcblxuICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJvdXQnLCBvblJlbGVhc2UpO1xuXG4gICAgICAgIC8vIEFkZCBzaW1wbGUgcHVsc2UgdHdlZW5cbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHNjYWxlOiAxLjA1LFxuICAgICAgICAgICAgZHVyYXRpb246IDgwMCxcbiAgICAgICAgICAgIHlveW86IHRydWUsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXR1cEp1bXBJbnB1dCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbnB1dC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaW5wdXQubW91c2UpIHRoaXMuaW5wdXQubW91c2UuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5pbnB1dC5vbigncG9pbnRlcmRvd24nLCAocG9pbnRlcjogUGhhc2VyLklucHV0LlBvaW50ZXIpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnF1aXpPcGVuIHx8IHRoaXMuc3RhcnRNb2RhbE9wZW4pIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuanVtcEJ1dHRvbi5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgIGlmIChib3VuZHMuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qdW1wQnV0dG9uQmcuc2V0RmlsbFN0eWxlKDB4MTZhMzRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5RdWl6TW9kYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5pbnB1dC5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5qdW1wQnV0dG9uQmcuc2V0RmlsbFN0eWxlKDB4MjJjNTVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVRdWl6TW9kYWwoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucXVpelBhbmVsID0gbmV3IFF1aXpQYW5lbCh0aGlzLCB7IG9wdGlvbkNvdW50OiA0LCBkZXB0aDogMjAwLCBwYXJlbnQ6IHRoaXMudWlSb290LCBzaG93SW5kZXg6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucXVpek1vZGFsID0gdGhpcy5xdWl6UGFuZWwuY29udGFpbmVyO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbENvbnRhaW5lciA9IHRoaXMucXVpelBhbmVsLnBhbmVsQ29udGFpbmVyO1xuICAgICAgICB0aGlzLnF1aXpQYW5lbFNoYWRvdyA9IHRoaXMucXVpelBhbmVsLnBhbmVsU2hhZG93O1xuICAgICAgICB0aGlzLnF1aXpQYW5lbEJnID0gdGhpcy5xdWl6UGFuZWwucGFuZWxCZztcbiAgICAgICAgdGhpcy5xdWl6UGFuZWxHbG93ID0gdGhpcy5xdWl6UGFuZWwucGFuZWxHbG93O1xuICAgICAgICB0aGlzLnF1aXpJbmRleFRleHQgPSB0aGlzLnF1aXpQYW5lbC5pbmRleFRleHQ7XG4gICAgICAgIHRoaXMucXVpekZlZWRiYWNrVGl0bGVUZXh0ID0gdGhpcy5xdWl6UGFuZWwuZmVlZGJhY2tUaXRsZVRleHQ7XG4gICAgICAgIHRoaXMucXVpekZlZWRiYWNrU3VidGl0bGVUZXh0ID0gdGhpcy5xdWl6UGFuZWwuZmVlZGJhY2tTdWJ0aXRsZVRleHQ7XG4gICAgICAgIHRoaXMucXVpelF1ZXN0aW9uVGV4dCA9IHRoaXMucXVpelBhbmVsLnF1ZXN0aW9uVGV4dDtcbiAgICAgICAgdGhpcy5xdWl6T3B0aW9uQnV0dG9ucyA9IHRoaXMucXVpelBhbmVsLm9wdGlvbkJ1dHRvbnM7XG5cbiAgICAgICAgdGhpcy5xdWl6UGFuZWwub25PcHRpb25TZWxlY3RlZCgoaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5xdWl6T3BlbiB8fCB0aGlzLnF1aXpMb2NrZWQpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUXVpekFuc3dlcihpbmRleCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubGF5b3V0UXVpeigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlU3RhcnRNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKS5zZXRTY3JvbGxGYWN0b3IoMCkuc2V0RGVwdGgoMjIwKTtcblxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4MDAwMDAwLCAwLjEyKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLCAwKTtcblxuICAgICAgICBjb25zdCBwYW5lbFdpZHRoID0gTWF0aC5taW4oNTIwLCB3aWR0aCAtIDgwKTtcbiAgICAgICAgY29uc3QgcGFuZWxIZWlnaHQgPSAxNjA7XG4gICAgICAgIGNvbnN0IHBhbmVsQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHdpZHRoIC8gMiwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjU4KSkuc2V0U2Nyb2xsRmFjdG9yKDApO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsU2hhZG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgcGFuZWxTaGFkb3cuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjE1KTtcbiAgICAgICAgcGFuZWxTaGFkb3cuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiArIDYsIC1wYW5lbEhlaWdodCAvIDIgKyAxMCwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI2KTtcblxuICAgICAgICBjb25zdCBwYW5lbEJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgcGFuZWxCZy5maWxsU3R5bGUoMHhmZmZmZmYsIDAuODUpO1xuICAgICAgICBwYW5lbEJnLmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIsIC1wYW5lbEhlaWdodCAvIDIsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNCk7XG4gICAgICAgIHBhbmVsQmcubGluZVN0eWxlKDIsIDB4OTNjNWZkLCAwLjQ1KTtcbiAgICAgICAgcGFuZWxCZy5zdHJva2VSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIsIC1wYW5lbEhlaWdodCAvIDIsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNCk7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLmFkZC50ZXh0KDAsIC0yNiwgJ0hlbHAgdGhlIHJvYm90IGNyb3NzIHRoZSByaXZlci4nLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYScsXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogcGFuZWxXaWR0aCAtIDYwLCB1c2VBZHZhbmNlZFdyYXA6IHRydWUgfVxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLmNyZWF0ZVN0YXJ0QnV0dG9uKDAsIDQyKTtcblxuICAgICAgICBwYW5lbENvbnRhaW5lci5hZGQoW3BhbmVsU2hhZG93LCBwYW5lbEJnLCB0aXRsZSwgYnV0dG9uXSk7XG4gICAgICAgIGNvbnRhaW5lci5hZGQoW292ZXJsYXksIHBhbmVsQ29udGFpbmVyXSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICB0aGlzLnN0YXJ0TW9kYWwgPSBjb250YWluZXI7XG4gICAgICAgIGlmICh0aGlzLnVpUm9vdCkgdGhpcy51aVJvb3QuYWRkKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVFbmRNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKS5zZXRTY3JvbGxGYWN0b3IoMCkuc2V0RGVwdGgoMjMwKTtcblxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4MDAwMDAwLCAwLjYpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAsIDApO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1pbig1MjAsIHdpZHRoIC0gODApO1xuICAgICAgICBjb25zdCBwYW5lbEhlaWdodCA9IDIyMDtcbiAgICAgICAgY29uc3QgcGFuZWxDb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyLCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuNTYpKS5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgICAgIG92ZXJsYXkuc2V0RGVwdGgoMCk7XG4gICAgICAgIHBhbmVsQ29udGFpbmVyLnNldERlcHRoKDEpO1xuXG4gICAgICAgIGNvbnN0IGJsb2NrZXIgPSB0aGlzLmFkZC56b25lKDAsIDAsIHdpZHRoLCBoZWlnaHQpLnNldE9yaWdpbigwLCAwKTtcbiAgICAgICAgYmxvY2tlci5zZXRJbnRlcmFjdGl2ZShuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQpLCAoc2hhcGUsIHgsIHkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVsQm91bmRzID0gcGFuZWxDb250YWluZXIuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICBpZiAoUGhhc2VyLkdlb20uUmVjdGFuZ2xlLkNvbnRhaW5zKHBhbmVsQm91bmRzLCB4LCB5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIFBoYXNlci5HZW9tLlJlY3RhbmdsZS5Db250YWlucyhzaGFwZSBhcyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUsIHgsIHkpO1xuICAgICAgICB9KTtcbiAgICAgICAgYmxvY2tlci5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7fSk7XG5cbiAgICAgICAgY29uc3QgcGFuZWxTaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMTUpO1xuICAgICAgICBwYW5lbFNoYWRvdy5maWxsUm91bmRlZFJlY3QoLXBhbmVsV2lkdGggLyAyICsgNiwgLXBhbmVsSGVpZ2h0IC8gMiArIDEwLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCwgMjYpO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsQmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBwYW5lbEJnLmZpbGxTdHlsZSgweGZmZmZmZiwgMC44NSk7XG4gICAgICAgIHBhbmVsQmcuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcbiAgICAgICAgcGFuZWxCZy5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNDUpO1xuICAgICAgICBwYW5lbEJnLnN0cm9rZVJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiwgLXBhbmVsSGVpZ2h0IC8gMiwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI0KTtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuYWRkLnRleHQoMCwgLTY0LCAnQ29uZ3JhdHVsYXRpb25zIScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBzdWJ0aXRsZSA9IHRoaXMuYWRkLnRleHQoMCwgLTM2LCAnWW91IGNvbXBsZXRlZCB0aGUgcnVuLicsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMGYxNzJhJyxcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiBwYW5lbFdpZHRoIC0gNjAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IHN0YXRzR2FwID0gMTY7XG4gICAgICAgIGNvbnN0IGNhcmRXaWR0aCA9IE1hdGgubWluKDIwMCwgTWF0aC5mbG9vcigocGFuZWxXaWR0aCAtIDEyMCkgLyAyKSk7XG4gICAgICAgIGNvbnN0IGNhcmRIZWlnaHQgPSA0NjtcbiAgICAgICAgY29uc3Qgc3RhdHNZID0gNjI7XG5cbiAgICAgICAgY29uc3Qgc2NvcmVDYXJkID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgc2NvcmVDYXJkLmZpbGxTdHlsZSgweDkzYzVmZCwgMC4xOCk7XG4gICAgICAgIHNjb3JlQ2FyZC5maWxsUm91bmRlZFJlY3QoLWNhcmRXaWR0aCAvIDIsIC1jYXJkSGVpZ2h0IC8gMiwgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0LCAxNik7XG4gICAgICAgIHNjb3JlQ2FyZC5saW5lU3R5bGUoMiwgMHg5M2M1ZmQsIDAuNDUpO1xuICAgICAgICBzY29yZUNhcmQuc3Ryb2tlUm91bmRlZFJlY3QoLWNhcmRXaWR0aCAvIDIsIC1jYXJkSGVpZ2h0IC8gMiwgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0LCAxNik7XG5cbiAgICAgICAgY29uc3QgdGltZUNhcmQgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICB0aW1lQ2FyZC5maWxsU3R5bGUoMHg5M2M1ZmQsIDAuMTgpO1xuICAgICAgICB0aW1lQ2FyZC5maWxsUm91bmRlZFJlY3QoLWNhcmRXaWR0aCAvIDIsIC1jYXJkSGVpZ2h0IC8gMiwgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0LCAxNik7XG4gICAgICAgIHRpbWVDYXJkLmxpbmVTdHlsZSgyLCAweDkzYzVmZCwgMC40NSk7XG4gICAgICAgIHRpbWVDYXJkLnN0cm9rZVJvdW5kZWRSZWN0KC1jYXJkV2lkdGggLyAyLCAtY2FyZEhlaWdodCAvIDIsIGNhcmRXaWR0aCwgY2FyZEhlaWdodCwgMTYpO1xuXG4gICAgICAgIGNvbnN0IHNjb3JlQ2FyZENvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcigtY2FyZFdpZHRoIC8gMiAtIHN0YXRzR2FwIC8gMiwgc3RhdHNZLCBbc2NvcmVDYXJkXSk7XG4gICAgICAgIGNvbnN0IHRpbWVDYXJkQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKGNhcmRXaWR0aCAvIDIgKyBzdGF0c0dhcCAvIDIsIHN0YXRzWSwgW3RpbWVDYXJkXSk7XG5cbiAgICAgICAgY29uc3Qgc2NvcmVMYWJlbCA9IHRoaXMuYWRkLnRleHQoc2NvcmVDYXJkQ29udGFpbmVyLngsIHN0YXRzWSAtIDE2LCAnU0NPUkUnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzFlM2E4YSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgdGltZUxhYmVsID0gdGhpcy5hZGQudGV4dCh0aW1lQ2FyZENvbnRhaW5lci54LCBzdGF0c1kgLSAxNiwgJ1RJTUUnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzFlM2E4YSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgdGhpcy5lbmRNb2RhbFNjb3JlVGV4dCA9IHRoaXMuYWRkLnRleHQoc2NvcmVDYXJkQ29udGFpbmVyLngsIHN0YXRzWSArIDYsICcwJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIHRoaXMuZW5kTW9kYWxUaW1lVGV4dCA9IHRoaXMuYWRkLnRleHQodGltZUNhcmRDb250YWluZXIueCwgc3RhdHNZICsgNiwgJzAwOjAwJywge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsIEJsYWNrJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwZjE3MmEnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IHJlc3RhcnRCdXR0b24gPSB0aGlzLmNyZWF0ZUVuZFJlc3RhcnRCdXR0b24oMCwgcGFuZWxIZWlnaHQgLyAyICsgNTYpO1xuICAgICAgICByZXN0YXJ0QnV0dG9uLnNldERlcHRoKDIpO1xuXG4gICAgICAgIHBhbmVsQ29udGFpbmVyLmFkZChbXG4gICAgICAgICAgICBwYW5lbFNoYWRvdyxcbiAgICAgICAgICAgIHBhbmVsQmcsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIHN1YnRpdGxlLFxuICAgICAgICAgICAgc2NvcmVDYXJkQ29udGFpbmVyLFxuICAgICAgICAgICAgdGltZUNhcmRDb250YWluZXIsXG4gICAgICAgICAgICBzY29yZUxhYmVsLFxuICAgICAgICAgICAgdGltZUxhYmVsLFxuICAgICAgICAgICAgdGhpcy5lbmRNb2RhbFNjb3JlVGV4dCxcbiAgICAgICAgICAgIHRoaXMuZW5kTW9kYWxUaW1lVGV4dFxuICAgICAgICBdKTtcbiAgICAgICAgcGFuZWxDb250YWluZXIuYWRkKHJlc3RhcnRCdXR0b24pO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQoW292ZXJsYXksIGJsb2NrZXIsIHBhbmVsQ29udGFpbmVyXSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICB0aGlzLmVuZE1vZGFsID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmVuZE1vZGFsLnNldERhdGEoJ3BhbmVsJywgcGFuZWxDb250YWluZXIpO1xuICAgICAgICB0aGlzLmVuZE1vZGFsLnNldERhdGEoJ292ZXJsYXknLCBvdmVybGF5KTtcbiAgICAgICAgaWYgKHRoaXMudWlSb290KSB0aGlzLnVpUm9vdC5hZGQoY29udGFpbmVyKTtcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBjcmVhdGVFbmRSZXN0YXJ0QnV0dG9uKHg6IG51bWJlciwgeTogbnVtYmVyKTogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lciB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcih4LCB5KS5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gMjYwO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSA1MjtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gMjA7XG5cbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgc2hhZG93LmZpbGxTdHlsZSgweDAwMDAwMCwgMC4yKTtcbiAgICAgICAgc2hhZG93LmZpbGxSb3VuZGVkUmVjdCgtd2lkdGggLyAyICsgNCwgLWhlaWdodCAvIDIgKyA2LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgY29uc3QgZHJhdyA9IChmaWxsOiBudW1iZXIsIHN0cm9rZTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBiZy5jbGVhcigpO1xuICAgICAgICAgICAgYmcuZmlsbFN0eWxlKGZpbGwsIDEpO1xuICAgICAgICAgICAgYmcuZmlsbFJvdW5kZWRSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICAgICAgYmcubGluZVN0eWxlKDIsIHN0cm9rZSwgMC44KTtcbiAgICAgICAgICAgIGJnLnN0cm9rZVJvdW5kZWRSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpO1xuICAgICAgICB9O1xuICAgICAgICBkcmF3KDB4M2I4MmY2LCAweDkzYzVmZCk7XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ1BsYXkgQWdhaW4nLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgaGl0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4ZmZmZmZmLCAwLjAwMSk7XG4gICAgICAgIGhpdC5zZXRJbnRlcmFjdGl2ZSgpO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQoW3NoYWRvdywgYmcsIHRleHQsIGhpdF0pO1xuICAgICAgICBjb250YWluZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBoaXQub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDI1NjNlYiwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMS4wMiwgZHVyYXRpb246IDEyMCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4M2I4MmY2LCAweDkzYzVmZCk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLCBkdXJhdGlvbjogMTIwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4MWQ0ZWQ4LCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAwLjk4LCBkdXJhdGlvbjogODAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0UnVuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgyNTYzZWIsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDIsIGR1cmF0aW9uOiA4MCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVUaW1lVXBNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKS5zZXRTY3JvbGxGYWN0b3IoMCkuc2V0RGVwdGgoMjQwKTtcblxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4MDAwMDAwLCAwLjEyKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLCAwKTtcblxuICAgICAgICBjb25zdCBwYW5lbFdpZHRoID0gTWF0aC5taW4oNTIwLCB3aWR0aCAtIDgwKTtcbiAgICAgICAgY29uc3QgcGFuZWxIZWlnaHQgPSAxNjA7XG4gICAgICAgIGNvbnN0IHBhbmVsQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHdpZHRoIC8gMiwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjU2KSkuc2V0U2Nyb2xsRmFjdG9yKDApO1xuXG4gICAgICAgIGNvbnN0IHBhbmVsU2hhZG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgcGFuZWxTaGFkb3cuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjE1KTtcbiAgICAgICAgcGFuZWxTaGFkb3cuZmlsbFJvdW5kZWRSZWN0KC1wYW5lbFdpZHRoIC8gMiArIDYsIC1wYW5lbEhlaWdodCAvIDIgKyAxMCwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQsIDI2KTtcblxuICAgICAgICBjb25zdCBwYW5lbEJnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgcGFuZWxCZy5maWxsU3R5bGUoMHhmZmZmZmYsIDAuODUpO1xuICAgICAgICBwYW5lbEJnLmZpbGxSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIsIC1wYW5lbEhlaWdodCAvIDIsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNCk7XG4gICAgICAgIHBhbmVsQmcubGluZVN0eWxlKDIsIDB4OTNjNWZkLCAwLjQ1KTtcbiAgICAgICAgcGFuZWxCZy5zdHJva2VSb3VuZGVkUmVjdCgtcGFuZWxXaWR0aCAvIDIsIC1wYW5lbEhlaWdodCAvIDIsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0LCAyNCk7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLmFkZC50ZXh0KDAsIC0yNiwgJ091dCBvZiB0aW1lISBGYWlsZWQnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzBmMTcyYSdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgcmVzdGFydEJ1dHRvbiA9IHRoaXMuY3JlYXRlUmVzdGFydEJ1dHRvbigwLCA0Mik7XG5cbiAgICAgICAgcGFuZWxDb250YWluZXIuYWRkKFtwYW5lbFNoYWRvdywgcGFuZWxCZywgdGl0bGUsIHJlc3RhcnRCdXR0b25dKTtcblxuICAgICAgICBjb250YWluZXIuYWRkKFtvdmVybGF5LCBwYW5lbENvbnRhaW5lcl0pO1xuICAgICAgICBjb250YWluZXIuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbCA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbC5zZXREYXRhKCdwYW5lbCcsIHBhbmVsQ29udGFpbmVyKTtcbiAgICAgICAgaWYgKHRoaXMudWlSb290KSB0aGlzLnVpUm9vdC5hZGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVJlc3RhcnRCdXR0b24oeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHkpLnNldFNjcm9sbEZhY3RvcigwKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAyNjA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDUyO1xuICAgICAgICBjb25zdCByYWRpdXMgPSAyMDtcblxuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBzaGFkb3cuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjIpO1xuICAgICAgICBzaGFkb3cuZmlsbFJvdW5kZWRSZWN0KC13aWR0aCAvIDIgKyA0LCAtaGVpZ2h0IC8gMiArIDYsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG5cbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBjb25zdCBkcmF3ID0gKGZpbGw6IG51bWJlciwgc3Ryb2tlOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGJnLmNsZWFyKCk7XG4gICAgICAgICAgICBiZy5maWxsU3R5bGUoZmlsbCwgMSk7XG4gICAgICAgICAgICBiZy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgICAgICBiZy5saW5lU3R5bGUoMiwgc3Ryb2tlLCAwLjgpO1xuICAgICAgICAgICAgYmcuc3Ryb2tlUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIH07XG4gICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcblxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnQ29udGludWUnLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwgQmxhY2snLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgaGl0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4ZmZmZmZmLCAwLjAwMSk7XG4gICAgICAgIGhpdC5zZXRJbnRlcmFjdGl2ZSgpO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQoW3NoYWRvdywgYmcsIHRleHQsIGhpdF0pO1xuICAgICAgICBjb250YWluZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGRyYXcoMHgyNTYzZWIsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7IHRhcmdldHM6IGNvbnRhaW5lciwgc2NhbGU6IDEuMDIsIGR1cmF0aW9uOiAxMjAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDNiODJmNiwgMHg5M2M1ZmQpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMSwgZHVyYXRpb246IDEyMCwgZWFzZTogJ1NpbmUuZWFzZU91dCcgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgZHJhdygweDFkNGVkOCwgMHhiZmRiZmUpO1xuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY29udGFpbmVyLCBzY2FsZTogMC45OCwgZHVyYXRpb246IDgwLCBlYXNlOiAnU2luZS5lYXNlT3V0JyB9KTtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydFJ1bigpO1xuICAgICAgICB9KTtcbiAgICAgICAgaGl0Lm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4MjU2M2ViLCAweGJmZGJmZSk7XG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBjb250YWluZXIsIHNjYWxlOiAxLjAyLCBkdXJhdGlvbjogODAsIGVhc2U6ICdTaW5lLmVhc2VPdXQnIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlU3RhcnRCdXR0b24oeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKHgsIHkpLnNldFNjcm9sbEZhY3RvcigwKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAyNjA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDUyO1xuICAgICAgICBjb25zdCByYWRpdXMgPSAyMDtcblxuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBzaGFkb3cuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjIpO1xuICAgICAgICBzaGFkb3cuZmlsbFJvdW5kZWRSZWN0KC13aWR0aCAvIDIgKyA0LCAtaGVpZ2h0IC8gMiArIDYsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG5cbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICBjb25zdCBkcmF3ID0gKGZpbGw6IG51bWJlciwgc3Ryb2tlOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGJnLmNsZWFyKCk7XG4gICAgICAgICAgICBiZy5maWxsU3R5bGUoZmlsbCwgMSk7XG4gICAgICAgICAgICBiZy5maWxsUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgICAgICBiZy5saW5lU3R5bGUoMiwgc3Ryb2tlLCAwLjgpO1xuICAgICAgICAgICAgYmcuc3Ryb2tlUm91bmRlZFJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG4gICAgICAgIH07XG4gICAgICAgIGRyYXcoMHgzYjgyZjYsIDB4OTNjNWZkKTtcbiAgICAgICAgICAgIFxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnU3RhcnQgR2FtZScsIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCBCbGFjaycsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3QgaGl0UGFkID0gMTY7XG4gICAgICAgIGNvbnN0IGhpdFcgPSB3aWR0aCArIGhpdFBhZCAqIDI7XG4gICAgICAgIGNvbnN0IGhpdEggPSBoZWlnaHQgKyBoaXRQYWQgKiAyO1xuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgaGl0VywgaGl0SCwgMHhmZmZmZmYsIDAuMDAxKTtcbiAgICAgICAgaGl0LnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZChbc2hhZG93LCBiZywgdGV4dCwgaGl0XSk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGNvbnN0IG9uUHJlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhcnRNb2RhbE9wZW4pIHJldHVybjtcbiAgICAgICAgICAgIGRyYXcoMHgxZDRlZDgsIDB4YmZkYmZlKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VTdGFydE1vZGFsKCk7XG4gICAgICAgICAgICB0aGlzLm9wZW5RdWl6TW9kYWwoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvblJlbGVhc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3KDB4M2I4MmY2LCAweDkzYzVmZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaGl0Lm9uKCdwb2ludGVyZG93bicsIG9uUHJlc3MpO1xuICAgICAgICBoaXQub24oJ3BvaW50ZXJ1cCcsIG9uUmVsZWFzZSk7XG4gICAgICAgIGhpdC5vbigncG9pbnRlcm91dCcsIG9uUmVsZWFzZSk7XG5cbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHNjYWxlOiAxLjA1LFxuICAgICAgICAgICAgZHVyYXRpb246IDgwMCxcbiAgICAgICAgICAgIHlveW86IHRydWUsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuU3RhcnRNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsT3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgwLjQpO1xuICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xuXG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWwuc2V0QWxwaGEoMCk7XG5cbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc3RhcnRNb2RhbCxcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IDE4MFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsb3NlU3RhcnRNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0QWxwaGEoMSk7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRRdWVzdGlvbihkYXRhOiB7IGluZGV4OiBudW1iZXI7IHRvdGFsOiBudW1iZXI7IHF1ZXN0aW9uOiBzdHJpbmc7IG9wdGlvbnM6IHN0cmluZ1tdIH0pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0RmVlZGJhY2soJ2lkbGUnKTtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0UXVlc3Rpb24oZGF0YSk7XG4gICAgICAgIHRoaXMubGF5b3V0UXVpeigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGF5b3V0UXVpeigpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnF1aXpQYW5lbCkgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucXVpelBhbmVsLmxheW91dCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy51aVNjYWxlID0gcmVzdWx0LnVpU2NhbGU7XG4gICAgICAgIHRoaXMucXVpelBhbmVsSGVpZ2h0ID0gcmVzdWx0LnBhbmVsSGVpZ2h0O1xuICAgICAgICB0aGlzLnF1aXpQYW5lbFdpZHRoID0gcmVzdWx0LnBhbmVsV2lkdGg7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuUXVpek1vZGFsKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5nYW1lT3ZlcikgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5nYW1lQ29tcGxldGVkKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5pc0p1bXBpbmcoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnF1aXpPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgwLjYpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uUG9vbCA9IHRoaXMuZ2V0UXVlc3Rpb25Qb29sKCk7XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uID0gcXVlc3Rpb25Qb29sW3RoaXMucXVpekN1cnJlbnRJbmRleCAlIHF1ZXN0aW9uUG9vbC5sZW5ndGhdO1xuICAgICAgICB0aGlzLnNldFF1ZXN0aW9uKHtcbiAgICAgICAgICAgIGluZGV4OiB0aGlzLnF1aXpDdXJyZW50SW5kZXggKyAxLFxuICAgICAgICAgICAgdG90YWw6IHF1ZXN0aW9uUG9vbC5sZW5ndGgsXG4gICAgICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb24sXG4gICAgICAgICAgICBvcHRpb25zOiBxdWVzdGlvbi5vcHRpb25zXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucXVpek1vZGFsLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMucXVpek1vZGFsLnNldEFscGhhKDApO1xuICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMucXVpelBhbmVsLnBhbmVsQ29udGFpbmVyO1xuICAgICAgICBwYW5lbC5zZXRTY2FsZSgwLjk2KTtcbiAgICAgICAgcGFuZWwueSArPSAxODtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMucXVpek1vZGFsLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTgwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgdGFyZ2V0czogcGFuZWwsXG4gICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgIHk6IHBhbmVsLnkgLSAxOCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMjAsXG4gICAgICAgICAgICBlYXNlOiAnQmFjay5lYXNlT3V0J1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsb3NlUXVpek1vZGFsKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnF1aXpPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0QWxwaGEoMSk7XG4gICAgICAgIHRoaXMucXVpek1vZGFsLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlUXVpekFuc3dlcihpbmRleDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uUG9vbCA9IHRoaXMuZ2V0UXVlc3Rpb25Qb29sKCk7XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uID0gcXVlc3Rpb25Qb29sW3RoaXMucXVpekN1cnJlbnRJbmRleCAlIHF1ZXN0aW9uUG9vbC5sZW5ndGhdO1xuICAgICAgICBsZXQgaXNDb3JyZWN0ID0gaW5kZXggPT09IHF1ZXN0aW9uLmNvcnJlY3RJbmRleDtcblxuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbklkID0gcXVlc3Rpb24ub3B0aW9uSWRzW2luZGV4XTtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbklkICYmIHF1ZXN0aW9uLnNlc3Npb25RdWVzdGlvbklkICYmIHNlbGVjdGVkT3B0aW9uSWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdWJtaXRBbnN3ZXIgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vc2VydmljZXMvYXBpJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgc3VibWl0QW5zd2VyKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb24uc2Vzc2lvblF1ZXN0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHsgZm9yY2VSZWFsOiB0aGlzLmdhbWVDb2RlID09PSAndm9jYWJfcmFjZScgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaXNDb3JyZWN0ID0gcmVzLmRhdGEuaXNfY29ycmVjdDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc3VibWl0QW5zd2VyIGZhaWxlZCwgZmFsbGJhY2sgdG8gbG9jYWwgY2hlY2snLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidG4gPSB0aGlzLnF1aXpPcHRpb25CdXR0b25zW2luZGV4XTtcbiAgICAgICAgY29uc3QgcmVkcmF3ID0gYnRuLmdldERhdGEoJ3JlZHJhdycpIGFzIChzdGF0ZTogJ25vcm1hbCcgfCAnY29ycmVjdCcgfCAnd3JvbmcnKSA9PiB2b2lkO1xuXG4gICAgICAgIGlmIChpc0NvcnJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMucXVpekxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICByZWRyYXcoJ2NvcnJlY3QnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UXVpekZlZWRiYWNrKCdjb3JyZWN0Jyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKDEpO1xuICAgICAgICAgICAgdGhpcy5zcGVlZFVwSnVtcCgpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5kZWxheSg0MDApO1xuICAgICAgICAgICAgdGhpcy5jbG9zZVF1aXpNb2RhbCgpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVKdW1wKCk7XG4gICAgICAgICAgICB0aGlzLnF1aXpDdXJyZW50SW5kZXggKz0gMTtcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyNTAsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5RdWl6TW9kYWwoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlZHJhdygnd3JvbmcnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UXVpekZlZWRiYWNrKCd3cm9uZycpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTY29yZSgtMSk7XG4gICAgICAgICAgICB0aGlzLnNob3dQbGF5ZXJTdGF0ZSgnaW5jb3JyZWN0Jyk7XG4gICAgICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMucXVpelBhbmVsLnBhbmVsQ29udGFpbmVyO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRYID0gcGFuZWwueDtcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0czogcGFuZWwsXG4gICAgICAgICAgICAgICAgeDogc3RhcnRYICsgMTAsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDYwLFxuICAgICAgICAgICAgICAgIHlveW86IHRydWUsXG4gICAgICAgICAgICAgICAgcmVwZWF0OiAzLFxuICAgICAgICAgICAgICAgIGVhc2U6ICdTaW5lLmVhc2VJbk91dCcsXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwYW5lbC54ID0gc3RhcnRYO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1aXpMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmVkcmF3KCdub3JtYWwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UXVlc3Rpb25Qb29sKCkge1xuICAgICAgICBjb25zdCBhcGlRdWVzdGlvbnMgPSB0aGlzLnNlc3Npb25RdWVzdGlvbnM7XG4gICAgICAgIGlmIChhcGlRdWVzdGlvbnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnF1ZXN0aW9uU291cmNlTG9nZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWVzdGlvblNvdXJjZUxvZ2dlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tHQU1FXVtUT1dOXSBVc2luZyBzZXNzaW9uIHF1ZXN0aW9ucycsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2FtZUNvZGU6IHRoaXMuZ2FtZUNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBhcGlRdWVzdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBzYW1wbGU6IGFwaVF1ZXN0aW9uc1swXT8ucXVlc3Rpb24/LmNvbnRlbnQgPz8gbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFwaVF1ZXN0aW9ucy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gaXRlbS5xdWVzdGlvbi5vcHRpb25zLm1hcCgob3B0KSA9PiBvcHQudGV4dCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uSWRzID0gaXRlbS5xdWVzdGlvbi5vcHRpb25zLm1hcCgob3B0KSA9PiBvcHQuaWQgPz8gJycpO1xuICAgICAgICAgICAgICAgIGxldCBjb3JyZWN0SW5kZXggPSBpdGVtLnF1ZXN0aW9uLm9wdGlvbnMuZmluZEluZGV4KChvcHQpID0+IG9wdC5pc19jb3JyZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29ycmVjdEluZGV4IDwgMCkgY29ycmVjdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uUXVlc3Rpb25JZDogaXRlbS5zZXNzaW9uX3F1ZXN0aW9uX2lkID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uOiBpdGVtLnF1ZXN0aW9uLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbklkcyxcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdEluZGV4XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnF1ZXN0aW9uU291cmNlTG9nZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXN0aW9uU291cmNlTG9nZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0dBTUVdW1RPV05dIFVzaW5nIGZhbGxiYWNrIGxvY2FsIHF1ZXN0aW9ucycsIHtcbiAgICAgICAgICAgICAgICBnYW1lQ29kZTogdGhpcy5nYW1lQ29kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uUXVlc3Rpb25JZDogbnVsbCxcbiAgICAgICAgICAgICAgICBxdWVzdGlvbjogJ1doYXQgaXMgdGhlIGNhcGl0YWwgb2YgVmlldG5hbT8nLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFsnSGFub2knLCAnRGEgTmFuZycsICdIYWkgUGhvbmcnLCAnQ2FuIFRobyddLFxuICAgICAgICAgICAgICAgIG9wdGlvbklkczogWycnLCAnJywgJycsICcnXSxcbiAgICAgICAgICAgICAgICBjb3JyZWN0SW5kZXg6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblF1ZXN0aW9uSWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgcXVlc3Rpb246ICdXaGljaCBsYW5ndWFnZSBkb2VzIFBoYXNlciB1c2U/JyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbJ1R5cGVTY3JpcHQvSmF2YVNjcmlwdCcsICdDIycsICdQeXRob24nLCAnR28nXSxcbiAgICAgICAgICAgICAgICBvcHRpb25JZHM6IFsnJywgJycsICcnLCAnJ10sXG4gICAgICAgICAgICAgICAgY29ycmVjdEluZGV4OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlc3Npb25RdWVzdGlvbklkOiBudWxsLFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uOiAnV2hhdCBjb2xvciBhcmUgdGhlIGxlYXZlcyBpbiB0aGUgZ2FtZT8nLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFsnR3JlZW4nLCAnUmVkJywgJ1B1cnBsZScsICdZZWxsb3cnXSxcbiAgICAgICAgICAgICAgICBvcHRpb25JZHM6IFsnJywgJycsICcnLCAnJ10sXG4gICAgICAgICAgICAgICAgY29ycmVjdEluZGV4OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlSnVtcCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmlzSnVtcGluZygpKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmdhbWVPdmVyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gdGhpcy5jdXJyZW50TGVhZkluZGV4ICsgMTtcbiAgICAgICAgY29uc3QgbWF4SW5kZXggPSB0aGlzLmxlYWZQYXRoLmxlbmd0aCA+IDAgPyB0aGlzLmxlYWZQYXRoLmxlbmd0aCAtIDEgOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgaWYgKHRoaXMubGVhZlBhdGgubGVuZ3RoID4gMCAmJiBuZXh0SW5kZXggPiBtYXhJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldFBvcyA9IHRoaXMuZ2V0TGVhZlBvc2l0aW9uKG5leHRJbmRleCk7XG5cbiAgICAgICAgLy8gU3RvcCBpZGxlIGFuaW1hdGlvbiBkdXJpbmcganVtcFxuICAgICAgICB0aGlzLnBsYXllci5zdG9wSWRsZSgpO1xuXG4gICAgICAgIC8vIFNjcm9sbCBDYW1lcmFcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhLFxuICAgICAgICAgICAgc2Nyb2xsWTogdGFyZ2V0UG9zLnkgLSA4MDAsXG4gICAgICAgICAgICBkdXJhdGlvbjogNjAwLFxuICAgICAgICAgICAgZWFzZTogJ1NpbmUuZWFzZUluT3V0J1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQZXJmb3JtIGp1bXAgdXNpbmcgRW1vdGVDaGFyYWN0ZXJcbiAgICAgICAgYXdhaXQgdGhpcy5wbGF5ZXIuanVtcFRvKHRhcmdldFBvcy54LCB0YXJnZXRQb3MueSwgdGhpcy5qdW1wRHVyYXRpb25Ncyk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGFmdGVyIGp1bXAgY29tcGxldGVzXG4gICAgICAgIHRoaXMuY3VycmVudExlYWZJbmRleCA9IG5leHRJbmRleDtcblxuICAgICAgICBjb25zdCBuZXh0UG9zID0gdGhpcy5nZXRMZWFmUG9zaXRpb24odGhpcy5jdXJyZW50TGVhZkluZGV4ICsgMSk7XG4gICAgICAgIHRoaXMucGxheWVyLmZsaXAobmV4dFBvcy54ID4gdGFyZ2V0UG9zLngpO1xuXG4gICAgICAgIC8vIFNob3cgY29ycmVjdCBzdGF0ZSBvbiBuZXcgbGVhZiwgdGhlbiByZXN1bWUgaWRsZVxuICAgICAgICB0aGlzLnBsYXllci5zaG93Q29ycmVjdCg4MDApO1xuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoODAwLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5wbGF5SWRsZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5sZWFmUGF0aC5sZW5ndGggPiAwICYmIHRoaXMuY3VycmVudExlYWZJbmRleCA+PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgdGhpcy5nYW1lQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuanVtcEJ1dHRvbi5zZXRBbHBoYSgwLjQpO1xuICAgICAgICAgICAgdGhpcy5xdWl6T3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5xdWl6TG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xuICAgICAgICAgICAgdGhpcy50aW1lck92ZXJsYXkuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICBpZiAodGhpcy50b3RhbFRpbWVNcyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVFbmRUaW1lVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbkVuZE1vZGFsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhcnRUaW1lcigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudGltZXJFdmVudCkge1xuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnJlbW92ZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRvdGFsVGltZU1zID0gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICYmIHRoaXMuc2Vzc2lvblRpbWVMaW1pdCA+IDBcbiAgICAgICAgICAgID8gdGhpcy5zZXNzaW9uVGltZUxpbWl0ICogMTAwMFxuICAgICAgICAgICAgOiAxODAwMDA7XG4gICAgICAgIHRoaXMudXBkYXRlVGltZXJUZXh0KHRoaXMudG90YWxUaW1lTXMpO1xuXG4gICAgICAgIHRoaXMudGltZXJFdmVudCA9IHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheTogMTAwMCxcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVDb21wbGV0ZWQgfHwgdGhpcy5nYW1lT3ZlcikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMudG90YWxUaW1lTXMgLT0gMTAwMDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyVGV4dCh0aGlzLnRvdGFsVGltZU1zKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b3RhbFRpbWVNcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxUaW1lTXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyVGV4dCh0aGlzLnRvdGFsVGltZU1zKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVUaW1lVXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RvcFRpbWVyKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy50aW1lckV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucmVtb3ZlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVGltZXJUZXh0KG1zOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdG90YWxTZWNvbmRzID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihtcyAvIDEwMDApKTtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApO1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjA7XG4gICAgICAgIGNvbnN0IHBhZCA9IChuOiBudW1iZXIpID0+IChuIDwgMTAgPyBgMCR7bn1gIDogYCR7bn1gKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGAke21pbnV0ZXN9bSAke3BhZChzZWNvbmRzKX1zYDtcbiAgICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dCh0ZXh0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVRpbWVVcCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU92ZXIgfHwgdGhpcy5nYW1lQ29tcGxldGVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnF1aXpPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmp1bXBCdXR0b24uc2V0QWxwaGEoMC40KTtcbiAgICAgICAgdGhpcy5jbG9zZVF1aXpNb2RhbCgpO1xuICAgICAgICB0aGlzLm9wZW5UaW1lVXBNb2RhbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlbkVuZE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW5kTW9kYWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLmVuZE1vZGFsLmdldERhdGEoJ3BhbmVsJykgYXMgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuZW5kTW9kYWwuZ2V0RGF0YSgnb3ZlcmxheScpIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIHBhbmVsLnNldFNjYWxlKDAuOSk7XG4gICAgICAgIGlmIChvdmVybGF5KSBvdmVybGF5LnNldEFscGhhKDApO1xuICAgICAgICB0aGlzLmVuZE1vZGFsLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuZW5kTW9kYWwuc2V0QWxwaGEoMSk7XG4gICAgICAgIHRoaXMubGF1bmNoQ29uZmV0dGkoKTtcbiAgICAgICAgdGhpcy5zdWJtaXRTZXNzaW9uUmVzdWx0KCk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBvdmVybGF5LFxuICAgICAgICAgICAgYWxwaGE6IDAuNixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBwYW5lbCxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IDI2MCxcbiAgICAgICAgICAgIGVhc2U6ICdCYWNrLmVhc2VPdXQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGF1bmNoQ29uZmV0dGkoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZldHRpRW1pdHRlcikge1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZldHRpQnVyc3RFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQucmVtb3ZlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlciA9IHRoaXMuYWRkLnBhcnRpY2xlcygwLCAwLCAndGlsZS1mbG93ZXInLCB7XG4gICAgICAgICAgICBzcGVlZDogeyBtaW46IDkwLCBtYXg6IDE3MCB9LFxuICAgICAgICAgICAgYW5nbGU6IHsgbWluOiAwLCBtYXg6IDM2MCB9LFxuICAgICAgICAgICAgcm90YXRlOiB7IG1pbjogLTIyMCwgbWF4OiAyMjAgfSxcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiAwLjMyLCBlbmQ6IDAuMSB9LFxuICAgICAgICAgICAgbGlmZXNwYW46IHsgbWluOiAxNDAwLCBtYXg6IDIyMDAgfSxcbiAgICAgICAgICAgIHF1YW50aXR5OiAwLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiAtMSxcbiAgICAgICAgICAgIGdyYXZpdHlZOiAxNjBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIuc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlci5zZXREZXB0aCgyMTAwKTtcbiAgICAgICAgdGhpcy51aVJvb3QuYWRkKHRoaXMuY29uZmV0dGlFbWl0dGVyKTtcblxuICAgICAgICB0aGlzLmNvbmZldHRpQnVyc3RFdmVudCA9IHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheTogOTAwLFxuICAgICAgICAgICAgcmVwZWF0OiAwLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29uZmV0dGlFbWl0dGVyKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5jb25mZXR0aUVtaXR0ZXIuZXhwbG9kZSgxOCwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDM1MDAsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyPy5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZldHRpRW1pdHRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50Py5yZW1vdmUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlblRpbWVVcE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMudGltZVVwTW9kYWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLnRpbWVVcE1vZGFsLmdldERhdGEoJ3BhbmVsJykgYXMgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgICAgICAgcGFuZWwuc2V0U2NhbGUoMC45Nik7XG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy50aW1lVXBNb2RhbC5zZXRBbHBoYSgwKTtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMudGltZVVwTW9kYWwsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBwYW5lbCxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IDI0MCxcbiAgICAgICAgICAgIGVhc2U6ICdCYWNrLmVhc2VPdXQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xvc2VUaW1lVXBNb2RhbCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnRpbWVVcE1vZGFsKSByZXR1cm47XG4gICAgICAgIHRoaXMudGltZVVwTW9kYWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbG9zZUVuZE1vZGFsKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW5kTW9kYWwpIHJldHVybjtcbiAgICAgICAgdGhpcy5lbmRNb2RhbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5lbmRNb2RhbC5zZXRBbHBoYSgwKTtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuZW5kTW9kYWwuZ2V0RGF0YSgnb3ZlcmxheScpIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChvdmVybGF5KSBvdmVybGF5LnNldEFscGhhKDApO1xuICAgICAgICBpZiAodGhpcy5jb25mZXR0aUVtaXR0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlFbWl0dGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZldHRpQnVyc3RFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5jb25mZXR0aUJ1cnN0RXZlbnQucmVtb3ZlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmV0dGlCdXJzdEV2ZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdWJtaXRTZXNzaW9uUmVzdWx0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbkdhbWVJZCkgcmV0dXJuO1xuICAgICAgICBpbXBvcnQoJy4uLy4uL3NlcnZpY2VzL2FwaScpXG4gICAgICAgICAgICAudGhlbigoeyBlbmRHYW1lU2Vzc2lvbiB9KSA9PlxuICAgICAgICAgICAgICAgIGVuZEdhbWVTZXNzaW9uKHRoaXMuc2Vzc2lvbkdhbWVJZCBhcyBzdHJpbmcsIHRoaXMuc2NvcmUsIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VSZWFsOiB0aGlzLmdhbWVDb2RlID09PSAndm9jYWJfcmFjZSdcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdlbmRHYW1lU2Vzc2lvbiBmYWlsZWQnLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXN0YXJ0UnVuKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmdhbWVPdmVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2FtZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1aXpPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVpekxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnF1aXpDdXJyZW50SW5kZXggPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxPcGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgICAgICB0aGlzLnNjb3JlVGV4dC5zZXRUZXh0KCdQT0lOVFM6IDAwJyk7XG4gICAgICAgIHRoaXMuanVtcER1cmF0aW9uTXMgPSA5MDA7XG5cbiAgICAgICAgdGhpcy5jbG9zZVRpbWVVcE1vZGFsKCk7XG4gICAgICAgIHRoaXMuY2xvc2VRdWl6TW9kYWwoKTtcbiAgICAgICAgdGhpcy5jbG9zZUVuZE1vZGFsKCk7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0TW9kYWwpIHRoaXMuc3RhcnRNb2RhbC5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICBjb25zdCBzdGFydFBvcyA9IHRoaXMuZ2V0TGVhZlBvc2l0aW9uKDApO1xuICAgICAgICB0aGlzLnBsYXllci5zZXRQb3NpdGlvbihzdGFydFBvcy54LCBzdGFydFBvcy55KTtcbiAgICAgICAgdGhpcy5wbGF5ZXIucGxheUlkbGUoKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRMZWFmSW5kZXggPSAwO1xuICAgICAgICBjb25zdCBuZXh0UG9zID0gdGhpcy5nZXRMZWFmUG9zaXRpb24odGhpcy5jdXJyZW50TGVhZkluZGV4ICsgMSk7XG4gICAgICAgIHRoaXMucGxheWVyLmZsaXAobmV4dFBvcy54ID4gc3RhcnRQb3MueCk7XG5cbiAgICAgICAgdGhpcy5jYW1lcmEuc2Nyb2xsWSA9IHN0YXJ0UG9zLnkgLSA5MDA7XG5cbiAgICAgICAgdGhpcy5zdG9wVGltZXIoKTtcbiAgICAgICAgdGhpcy50aW1lck92ZXJsYXkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy5qdW1wQnV0dG9uLnNldEFscGhhKDEpO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcbiAgICAgICAgdGhpcy5vcGVuUXVpek1vZGFsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVTY29yZShkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2NvcmUgKz0gZGVsdGE7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IE1hdGgubWF4KDAsIHRoaXMuc2NvcmUpO1xuICAgICAgICB0aGlzLnNjb3JlVGV4dC5zZXRUZXh0KGBQT0lOVFM6ICR7cG9pbnRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gKTtcbiAgICAgICAgaWYgKHRoaXMuZW5kTW9kYWxTY29yZVRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kTW9kYWxTY29yZVRleHQuc2V0VGV4dChgU2NvcmU6ICR7dGhpcy5zY29yZX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlRW5kVGltZVRleHQoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5lbmRNb2RhbFRpbWVUZXh0KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJhc2VNcyA9IHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAmJiB0aGlzLnNlc3Npb25UaW1lTGltaXQgPiAwXG4gICAgICAgICAgICA/IHRoaXMuc2Vzc2lvblRpbWVMaW1pdCAqIDEwMDBcbiAgICAgICAgICAgIDogMTgwMDAwO1xuICAgICAgICBjb25zdCBlbGFwc2VkTXMgPSBiYXNlTXMgLSB0aGlzLnRvdGFsVGltZU1zO1xuICAgICAgICBjb25zdCB0b3RhbFNlY29uZHMgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKGVsYXBzZWRNcyAvIDEwMDApKTtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApO1xuICAgICAgICBjb25zdCBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjA7XG4gICAgICAgIGNvbnN0IHBhZCA9IChuOiBudW1iZXIpID0+IChuIDwgMTAgPyBgMCR7bn1gIDogYCR7bn1gKTtcbiAgICAgICAgdGhpcy5lbmRNb2RhbFRpbWVUZXh0LnNldFRleHQoYFRpbWU6ICR7cGFkKG1pbnV0ZXMpfToke3BhZChzZWNvbmRzKX1gKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNwZWVkVXBKdW1wKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmp1bXBEdXJhdGlvbk1zID0gTWF0aC5tYXgoNDUwLCB0aGlzLmp1bXBEdXJhdGlvbk1zIC0gNDApO1xuICAgIH1cblxuICAgIGdldExlYWZQb3NpdGlvbihpbmRleDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmxlYWZQYXRoLmxlbmd0aCA+IDAgJiYgdGhpcy50cmFja0ltYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoTGVuZ3RoID0gdGhpcy5sZWFmUGF0aC5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBwYXRoSW5kZXggPSBNYXRoLm1pbihpbmRleCwgcGF0aExlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgICBjb25zdCBsZWFmID0gdGhpcy5sZWFmUGF0aFtwYXRoSW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnRyYWNrSW1hZ2Uuc2NhbGVYO1xuICAgICAgICAgICAgY29uc3QgbWFwTGVmdCA9IHRoaXMudHJhY2tJbWFnZS54IC0gdGhpcy50cmFja0ltYWdlLmRpc3BsYXlXaWR0aCAvIDI7XG4gICAgICAgICAgICBjb25zdCBtYXBUb3AgPSB0aGlzLnRyYWNrSW1hZ2UueSAtIHRoaXMudHJhY2tJbWFnZS5kaXNwbGF5SGVpZ2h0O1xuXG4gICAgICAgICAgICBjb25zdCB4ID0gbWFwTGVmdCArIChsZWFmLnggKiBzY2FsZSk7XG4gICAgICAgICAgICBjb25zdCB5ID0gbWFwVG9wICsgKGxlYWYueSAqIHNjYWxlKTtcblxuICAgICAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHRoaXMuc2NhbGUud2lkdGggLyAyO1xuICAgICAgICBjb25zdCBpc0xlZnQgPSBpbmRleCAlIDIgPT09IDA7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGphY2VudCBsZWFmID0gYWx0ZXJuYXRlIGxlZnQvcmlnaHQgd2l0aCBhIHNtYWxsIHVwd2FyZCBzdGVwXG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLmxlYWZTdGFydFkgLSAoaW5kZXggKiB0aGlzLmxlYWZTdGVwWSk7XG4gICAgICAgIGNvbnN0IHggPSBpc0xlZnQgPyBjZW50ZXJYIC0gdGhpcy5sZWFmU2lkZU9mZnNldCA6IGNlbnRlclggKyB0aGlzLmxlYWZTaWRlT2Zmc2V0O1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRMZWFmUGF0aCh0ZXh0dXJlS2V5OiBzdHJpbmcpOiBQaGFzZXIuTWF0aC5WZWN0b3IyW10ge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlcy5nZXQodGV4dHVyZUtleSk7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRleHR1cmU/LmdldFNvdXJjZUltYWdlKCkgYXMgSFRNTEltYWdlRWxlbWVudCB8IEhUTUxDYW52YXNFbGVtZW50IHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICghc291cmNlIHx8ICFzb3VyY2Uud2lkdGggfHwgIXNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuc3lzLmdhbWUuY2FudmFzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHNvdXJjZS53aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHNvdXJjZS5oZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmICghY3R4KSByZXR1cm4gW107XG5cbiAgICAgICAgY3R4LmRyYXdJbWFnZShzb3VyY2UsIDAsIDApO1xuICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IHNvdXJjZS53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gc291cmNlLmhlaWdodDtcbiAgICAgICAgY29uc3QgdmlzaXRlZCA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgY2VudGVyczogUGhhc2VyLk1hdGguVmVjdG9yMltdID0gW107XG5cbiAgICAgICAgY29uc3QgaXNMZWFmUGl4ZWwgPSAoaWR4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBkYXRhW2lkeF0gLyAyNTU7XG4gICAgICAgICAgICBjb25zdCBnID0gZGF0YVtpZHggKyAxXSAvIDI1NTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBkYXRhW2lkeCArIDJdIC8gMjU1O1xuXG4gICAgICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBtYXggLSBtaW47XG5cbiAgICAgICAgICAgIGlmIChkZWx0YSA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBsZXQgaHVlID0gMDtcbiAgICAgICAgICAgIGlmIChtYXggPT09IHIpIHtcbiAgICAgICAgICAgICAgICBodWUgPSAoKGcgLSBiKSAvIGRlbHRhKSAlIDY7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1heCA9PT0gZykge1xuICAgICAgICAgICAgICAgIGh1ZSA9IChiIC0gcikgLyBkZWx0YSArIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGh1ZSA9IChyIC0gZykgLyBkZWx0YSArIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodWUgPSBNYXRoLnJvdW5kKGh1ZSAqIDYwKTtcbiAgICAgICAgICAgIGlmIChodWUgPCAwKSBodWUgKz0gMzYwO1xuXG4gICAgICAgICAgICBjb25zdCBzYXR1cmF0aW9uID0gbWF4ID09PSAwID8gMCA6IGRlbHRhIC8gbWF4O1xuXG4gICAgICAgICAgICBjb25zdCBpc0dyZWVuSHVlID0gaHVlID49IDcwICYmIGh1ZSA8PSAxNTA7XG4gICAgICAgICAgICBjb25zdCBpc1NhdHVyYXRlZCA9IHNhdHVyYXRpb24gPj0gMC4zNTtcblxuICAgICAgICAgICAgcmV0dXJuIGlzR3JlZW5IdWUgJiYgaXNTYXR1cmF0ZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbWluQmxvYlNpemUgPSA0NTAwO1xuICAgICAgICBjb25zdCBzdGFjazogbnVtYmVyW10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHkgKiB3aWR0aCArIHg7XG4gICAgICAgICAgICAgICAgaWYgKHZpc2l0ZWRbaW5kZXhdKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFJbmRleCA9IGluZGV4ICogNDtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTGVhZlBpeGVsKGRhdGFJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtpbmRleF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgc3VtWCA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHN1bVkgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IG1pblggPSB4O1xuICAgICAgICAgICAgICAgIGxldCBtYXhYID0geDtcbiAgICAgICAgICAgICAgICBsZXQgbWluWSA9IHk7XG4gICAgICAgICAgICAgICAgbGV0IG1heFkgPSB5O1xuXG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgdmlzaXRlZFtpbmRleF0gPSAxO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gc3RhY2sucG9wKCkgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjeSA9IE1hdGguZmxvb3IoY3VycmVudCAvIHdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3ggPSBjdXJyZW50IC0gKGN5ICogd2lkdGgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRhSW5kZXggPSBjdXJyZW50ICogNDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0xlYWZQaXhlbChjdXJyZW50RGF0YUluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzdW1YICs9IGN4O1xuICAgICAgICAgICAgICAgICAgICBzdW1ZICs9IGN5O1xuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3ggPCBtaW5YKSBtaW5YID0gY3g7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCA+IG1heFgpIG1heFggPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN5IDwgbWluWSkgbWluWSA9IGN5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3kgPiBtYXhZKSBtYXhZID0gY3k7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdCA9IGN1cnJlbnQgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpdGVkW2xlZnRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVmdEluZGV4ID0gbGVmdCAqIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGVhZlBpeGVsKGxlZnRJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtsZWZ0XSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobGVmdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtsZWZ0XSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN4IDwgd2lkdGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByaWdodCA9IGN1cnJlbnQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpdGVkW3JpZ2h0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0SW5kZXggPSByaWdodCAqIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGVhZlBpeGVsKHJpZ2h0SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbcmlnaHRdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChyaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFtyaWdodF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjeSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwID0gY3VycmVudCAtIHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpdGVkW3VwXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwSW5kZXggPSB1cCAqIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGVhZlBpeGVsKHVwSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWRbdXBdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh1cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZFt1cF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjeSA8IGhlaWdodCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvd24gPSBjdXJyZW50ICsgd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2l0ZWRbZG93bl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb3duSW5kZXggPSBkb3duICogNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNMZWFmUGl4ZWwoZG93bkluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW2Rvd25dID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkW2Rvd25dID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPj0gbWluQmxvYlNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYldpZHRoID0gbWF4WCAtIG1pblg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2JIZWlnaHQgPSBtYXhZIC0gbWluWTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXNwZWN0ID0gYmxvYldpZHRoIC8gKGJsb2JIZWlnaHQgfHwgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2JXaWR0aCA+PSA5MCAmJiBibG9iSGVpZ2h0ID49IDkwICYmIGFzcGVjdCA+IDAuNiAmJiBhc3BlY3QgPCAxLjcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcnMucHVzaChuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihzdW1YIC8gY291bnQsIHN1bVkgLyBjb3VudCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2VudGVycy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkeSA9IGIueSAtIGEueTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkeSkgPiAyKSByZXR1cm4gZHk7XG4gICAgICAgICAgICByZXR1cm4gYS54IC0gYi54O1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY2VudGVycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHBsYXllciBzdGF0ZSAtIGNvcnJlY3Qgb3IgaW5jb3JyZWN0XG4gICAgICovXG4gICAgc2hvd1BsYXllclN0YXRlKHN0YXRlOiAnY29ycmVjdCcgfCAnaW5jb3JyZWN0Jykge1xuICAgICAgICBpZiAoc3RhdGUgPT09ICdjb3JyZWN0Jykge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2hvd0NvcnJlY3QoODAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNob3dJbmNvcnJlY3QoODAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0UXVpekZlZWRiYWNrKHN0YXRlOiAnaWRsZScgfCAnY29ycmVjdCcgfCAnd3JvbmcnKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5xdWl6UGFuZWwpIHJldHVybjtcbiAgICAgICAgdGhpcy5xdWl6UGFuZWwuc2V0RmVlZGJhY2soc3RhdGUpO1xuICAgICAgICB0aGlzLnF1aXpGZWVkYmFja1N0YXRlID0gc3RhdGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZWxheShtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKG1zLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiRXZlbnRCdXMiLCJTY2VuZSIsIkVtb3RlQ2hhcmFjdGVyIiwiZ2V0R2FtZUNvbmZpZyIsInJlc29sdmVHYW1lQ29kZSIsIlF1aXpQYW5lbCIsIkdhbWUiLCJpbml0IiwiZGF0YSIsImdhbWVDb2RlIiwicmVnaXN0cnkiLCJnZXQiLCJzZXQiLCJnYW1lQ29uZmlnIiwic2Vzc2lvbklkIiwic2Vzc2lvbkdhbWVJZCIsImdhbWVJZCIsInNlc3Npb25RdWVzdGlvbnMiLCJxdWVzdGlvbnMiLCJzZXNzaW9uVGltZUxpbWl0IiwidGltZUxpbWl0IiwiY3JlYXRlIiwid2lkdGgiLCJoZWlnaHQiLCJzY2FsZSIsImNhbWVyYSIsImNhbWVyYXMiLCJtYWluIiwiY3JlYXRlUGFyYWxsYXhCYWNrZ3JvdW5kIiwidHJhY2tJbWFnZSIsImFkZCIsImltYWdlIiwibWFwS2V5Iiwic2V0T3JpZ2luIiwidHJhY2tTY2FsZSIsInNldFNjYWxlIiwibWFwVG9wIiwieSIsImRpc3BsYXlIZWlnaHQiLCJzZXRCb3VuZHMiLCJsZWFmUGF0aCIsInVzZVRleHR1cmVQYXRoIiwiYnVpbGRMZWFmUGF0aCIsInN0YXJ0UG9zIiwiZ2V0TGVhZlBvc2l0aW9uIiwicGxheWVyIiwieCIsImN1cnJlbnRMZWFmSW5kZXgiLCJuZXh0UG9zIiwiZmxpcCIsInBsYXlJZGxlIiwic2Nyb2xsWSIsInVpQ2FtZXJhIiwic2V0U2Nyb2xsIiwiaWdub3JlIiwiY2hpbGRyZW4iLCJsaXN0IiwiY3JlYXRlVUkiLCJ0b3RhbFRpbWVNcyIsImVtaXQiLCJzZXRCYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXJhbGxheExheWVycyIsInVwZGF0ZSIsImxlbmd0aCIsImZvckVhY2giLCJsYXllciIsImZhY3RvciIsImdldERhdGEiLCJiYXNlWSIsInVpUm9vdCIsImNvbnRhaW5lciIsInNldFNjcm9sbEZhY3RvciIsInNldERlcHRoIiwidGltZXJPdmVybGF5IiwiaHVkQmFja0J1dHRvbiIsImJhY2tCZyIsImdyYXBoaWNzIiwiZmlsbFN0eWxlIiwiZmlsbFJvdW5kZWRSZWN0IiwibGluZVN0eWxlIiwic3Ryb2tlUm91bmRlZFJlY3QiLCJiYWNrSWNvbiIsInRleHQiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJjb2xvciIsImJhY2tIaXQiLCJ6b25lIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJoYW5kbGVCYWNrVG9HYW1lTGlzdCIsInNldFNpemUiLCJodWRQb2ludHNQaWxsIiwicG9pbnRzQmciLCJwb2ludHNXIiwicG9pbnRzSCIsInN0YXIiLCJzZXRUaW50Iiwic2NvcmVUZXh0IiwiaHVkVGltZXJQaWxsIiwidGltZXJCZyIsInRpbWVyVyIsInRpbWVySCIsInRpbWVyVGV4dCIsImh1ZEhlYXJ0c1BpbGwiLCJoZWFydHNCZyIsImhlYXJ0c1ciLCJoZWFydHNIIiwiaGVhcnRzVGV4dCIsImxheW91dEh1ZCIsImp1bXBCdXR0b24iLCJjcmVhdGVKdW1wQnV0dG9uIiwic2V0VmlzaWJsZSIsInNldEFjdGl2ZSIsInNldHVwSnVtcElucHV0IiwiY3JlYXRlUXVpek1vZGFsIiwicXVpek1vZGFsIiwibGF5b3V0UXVpeiIsImNyZWF0ZVN0YXJ0TW9kYWwiLCJvcGVuU3RhcnRNb2RhbCIsImNyZWF0ZUVuZE1vZGFsIiwiY3JlYXRlVGltZVVwTW9kYWwiLCJ0b3BJbnNldCIsIk1hdGgiLCJtYXgiLCJyb3VuZCIsInNpZGVJbnNldCIsImdhcCIsInNldFBvc2l0aW9uIiwicmlnaHRFZGdlIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiYmciLCJyZWN0YW5nbGUiLCJzZXRTdHJva2VTdHlsZSIsInNldEZpbGxTdHlsZSIsImp1bXBCdXR0b25CZyIsIm9uUHJlc3MiLCJxdWl6T3BlbiIsInN0YXJ0TW9kYWxPcGVuIiwib3BlblF1aXpNb2RhbCIsIm9uUmVsZWFzZSIsIlBoYXNlciIsIkdlb20iLCJSZWN0YW5nbGUiLCJDb250YWlucyIsInR3ZWVucyIsInRhcmdldHMiLCJkdXJhdGlvbiIsInlveW8iLCJyZXBlYXQiLCJpbnB1dCIsImVuYWJsZWQiLCJtb3VzZSIsInBvaW50ZXIiLCJib3VuZHMiLCJnZXRCb3VuZHMiLCJjb250YWlucyIsInF1aXpQYW5lbCIsIm9wdGlvbkNvdW50IiwiZGVwdGgiLCJwYXJlbnQiLCJzaG93SW5kZXgiLCJxdWl6UGFuZWxDb250YWluZXIiLCJwYW5lbENvbnRhaW5lciIsInF1aXpQYW5lbFNoYWRvdyIsInBhbmVsU2hhZG93IiwicXVpelBhbmVsQmciLCJwYW5lbEJnIiwicXVpelBhbmVsR2xvdyIsInBhbmVsR2xvdyIsInF1aXpJbmRleFRleHQiLCJpbmRleFRleHQiLCJxdWl6RmVlZGJhY2tUaXRsZVRleHQiLCJmZWVkYmFja1RpdGxlVGV4dCIsInF1aXpGZWVkYmFja1N1YnRpdGxlVGV4dCIsImZlZWRiYWNrU3VidGl0bGVUZXh0IiwicXVpelF1ZXN0aW9uVGV4dCIsInF1ZXN0aW9uVGV4dCIsInF1aXpPcHRpb25CdXR0b25zIiwib3B0aW9uQnV0dG9ucyIsIm9uT3B0aW9uU2VsZWN0ZWQiLCJpbmRleCIsInF1aXpMb2NrZWQiLCJoYW5kbGVRdWl6QW5zd2VyIiwib3ZlcmxheSIsInBhbmVsV2lkdGgiLCJtaW4iLCJwYW5lbEhlaWdodCIsInRpdGxlIiwiYWxpZ24iLCJ3b3JkV3JhcCIsInVzZUFkdmFuY2VkV3JhcCIsImJ1dHRvbiIsImNyZWF0ZVN0YXJ0QnV0dG9uIiwic3RhcnRNb2RhbCIsImJsb2NrZXIiLCJzaGFwZSIsInBhbmVsQm91bmRzIiwic3VidGl0bGUiLCJzdGF0c0dhcCIsImNhcmRXaWR0aCIsImZsb29yIiwiY2FyZEhlaWdodCIsInN0YXRzWSIsInNjb3JlQ2FyZCIsInRpbWVDYXJkIiwic2NvcmVDYXJkQ29udGFpbmVyIiwidGltZUNhcmRDb250YWluZXIiLCJzY29yZUxhYmVsIiwidGltZUxhYmVsIiwiZW5kTW9kYWxTY29yZVRleHQiLCJlbmRNb2RhbFRpbWVUZXh0IiwicmVzdGFydEJ1dHRvbiIsImNyZWF0ZUVuZFJlc3RhcnRCdXR0b24iLCJlbmRNb2RhbCIsInNldERhdGEiLCJyYWRpdXMiLCJzaGFkb3ciLCJkcmF3IiwiZmlsbCIsInN0cm9rZSIsImNsZWFyIiwiaGl0IiwiZWFzZSIsInJlc3RhcnRSdW4iLCJjcmVhdGVSZXN0YXJ0QnV0dG9uIiwidGltZVVwTW9kYWwiLCJoaXRQYWQiLCJoaXRXIiwiaGl0SCIsImNsb3NlU3RhcnRNb2RhbCIsInNldEFscGhhIiwic3RvcFRpbWVyIiwiYWxwaGEiLCJzdGFydFRpbWVyIiwic2V0UXVlc3Rpb24iLCJzZXRGZWVkYmFjayIsInJlc3VsdCIsImxheW91dCIsInVpU2NhbGUiLCJxdWl6UGFuZWxIZWlnaHQiLCJxdWl6UGFuZWxXaWR0aCIsImdhbWVPdmVyIiwiZ2FtZUNvbXBsZXRlZCIsImlzSnVtcGluZyIsInF1ZXN0aW9uUG9vbCIsImdldFF1ZXN0aW9uUG9vbCIsInF1ZXN0aW9uIiwicXVpekN1cnJlbnRJbmRleCIsInRvdGFsIiwib3B0aW9ucyIsInBhbmVsIiwiY2xvc2VRdWl6TW9kYWwiLCJpc0NvcnJlY3QiLCJjb3JyZWN0SW5kZXgiLCJzZWxlY3RlZE9wdGlvbklkIiwib3B0aW9uSWRzIiwic2Vzc2lvblF1ZXN0aW9uSWQiLCJzdWJtaXRBbnN3ZXIiLCJyZXMiLCJmb3JjZVJlYWwiLCJpc19jb3JyZWN0IiwiZXJyb3IiLCJjb25zb2xlIiwiYnRuIiwicmVkcmF3Iiwic2V0UXVpekZlZWRiYWNrIiwidXBkYXRlU2NvcmUiLCJzcGVlZFVwSnVtcCIsImRlbGF5IiwiaGFuZGxlSnVtcCIsInRpbWUiLCJkZWxheWVkQ2FsbCIsInNob3dQbGF5ZXJTdGF0ZSIsInN0YXJ0WCIsIm9uQ29tcGxldGUiLCJhcGlRdWVzdGlvbnMiLCJxdWVzdGlvblNvdXJjZUxvZ2dlZCIsImxvZyIsImNvdW50Iiwic2FtcGxlIiwiY29udGVudCIsIm1hcCIsIml0ZW0iLCJvcHQiLCJpZCIsImZpbmRJbmRleCIsInNlc3Npb25fcXVlc3Rpb25faWQiLCJ3YXJuIiwibmV4dEluZGV4IiwibWF4SW5kZXgiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsInRhcmdldFBvcyIsInN0b3BJZGxlIiwianVtcFRvIiwianVtcER1cmF0aW9uTXMiLCJzaG93Q29ycmVjdCIsInVwZGF0ZUVuZFRpbWVUZXh0Iiwib3BlbkVuZE1vZGFsIiwidGltZXJFdmVudCIsInJlbW92ZSIsInVwZGF0ZVRpbWVyVGV4dCIsImFkZEV2ZW50IiwibG9vcCIsImNhbGxiYWNrIiwiaGFuZGxlVGltZVVwIiwibXMiLCJ0b3RhbFNlY29uZHMiLCJtaW51dGVzIiwic2Vjb25kcyIsInBhZCIsIm4iLCJzZXRUZXh0Iiwib3BlblRpbWVVcE1vZGFsIiwibGF1bmNoQ29uZmV0dGkiLCJzdWJtaXRTZXNzaW9uUmVzdWx0IiwiY29uZmV0dGlFbWl0dGVyIiwiZGVzdHJveSIsImNvbmZldHRpQnVyc3RFdmVudCIsInVuZGVmaW5lZCIsInBhcnRpY2xlcyIsInNwZWVkIiwiYW5nbGUiLCJyb3RhdGUiLCJzdGFydCIsImVuZCIsImxpZmVzcGFuIiwicXVhbnRpdHkiLCJmcmVxdWVuY3kiLCJncmF2aXR5WSIsImV4cGxvZGUiLCJjbG9zZVRpbWVVcE1vZGFsIiwiY2xvc2VFbmRNb2RhbCIsInRoZW4iLCJlbmRHYW1lU2Vzc2lvbiIsInNjb3JlIiwiY2F0Y2giLCJlcnIiLCJkZWx0YSIsInBvaW50cyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJiYXNlTXMiLCJlbGFwc2VkTXMiLCJwYXRoTGVuZ3RoIiwicGF0aEluZGV4IiwibGVhZiIsInNjYWxlWCIsIm1hcExlZnQiLCJkaXNwbGF5V2lkdGgiLCJjZW50ZXJYIiwiaXNMZWZ0IiwibGVhZlN0YXJ0WSIsImxlYWZTdGVwWSIsImxlYWZTaWRlT2Zmc2V0IiwidGV4dHVyZUtleSIsInRleHR1cmUiLCJ0ZXh0dXJlcyIsInNvdXJjZSIsImdldFNvdXJjZUltYWdlIiwiY2FudmFzIiwic3lzIiwiZ2FtZSIsIm93bmVyRG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsInZpc2l0ZWQiLCJVaW50OEFycmF5IiwiY2VudGVycyIsImlzTGVhZlBpeGVsIiwiaWR4IiwiciIsImciLCJiIiwiaHVlIiwic2F0dXJhdGlvbiIsImlzR3JlZW5IdWUiLCJpc1NhdHVyYXRlZCIsIm1pbkJsb2JTaXplIiwic3RhY2siLCJkYXRhSW5kZXgiLCJzdW1YIiwic3VtWSIsIm1pblgiLCJtYXhYIiwibWluWSIsIm1heFkiLCJwdXNoIiwiY3VycmVudCIsInBvcCIsImN5IiwiY3giLCJjdXJyZW50RGF0YUluZGV4IiwibGVmdCIsImxlZnRJbmRleCIsInJpZ2h0IiwicmlnaHRJbmRleCIsInVwIiwidXBJbmRleCIsImRvd24iLCJkb3duSW5kZXgiLCJibG9iV2lkdGgiLCJibG9iSGVpZ2h0IiwiYXNwZWN0IiwiVmVjdG9yMiIsInNvcnQiLCJhIiwiZHkiLCJhYnMiLCJzdGF0ZSIsInNob3dJbmNvcnJlY3QiLCJxdWl6RmVlZGJhY2tTdGF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiY29uc3RydWN0b3IiLCJzYWZlSW5zZXRCb3R0b20iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/game/scenes/Game.ts\n"));

/***/ })

});